"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4528],{369:(D,T,i)=>{i.d(T,{C:()=>d,w:()=>S});var I=i(467),E=i(119),s=i.n(E);const d={SecureStorage:"ionicSecureStorage",IndexedDB:s().INDEXEDDB,LocalStorage:s().LOCALSTORAGE},v={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[d.SecureStorage,d.IndexedDB,d.LocalStorage]};class S{constructor(n=v){this._db=null,this._secureStorageDriver=null;const o=Object.assign({},v,n||{});this._config=o}create(){var n=this;return(0,I.A)(function*(){const o=s().createInstance(n._config);return n._db=o,yield o.setDriver(n._config.driverOrder||[]),n})()}defineDriver(n){var o=this;return(0,I.A)(function*(){return n._driver===d.SecureStorage&&(o._secureStorageDriver=n),s().defineDriver(n)})()}get driver(){var n;return(null===(n=this._db)||void 0===n?void 0:n.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(n){return this.assertDb().getItem(n)}set(n,o){return this.assertDb().setItem(n,o)}remove(n){return this.assertDb().removeItem(n)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(n){return this.assertDb().iterate(n)}setEncryptionKey(n){var o;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(o=this._secureStorageDriver)||void 0===o||o.setEncryptionKey(n)}}},6112:(D,T,i)=>{i.r(T),i.d(T,{SettingPageModule:()=>p});var I=i(177),E=i(9417),s=i(4742),d=i(2175),v=i(467),S=i(5083);const h=(0,S.F3)("Browser",{web:()=>i.e(4786).then(i.bind(i,4786)).then(t=>new t.BrowserWeb)}),n=(0,S.F3)("Device",{web:()=>i.e(8622).then(i.bind(i,8622)).then(t=>new t.DeviceWeb)}),N=(0,S.F3)("NativeBiometric",{web:()=>i.e(2587).then(i.bind(i,2587)).then(t=>new t.NativeBiometricWeb)});var O=i(4393),m=i(8833),e=i(4438),A=i(3656),P=i(4842);function L(t,g){if(1&t){const r=e.RV6();e.j41(0,"ion-item",7)(1,"ion-toggle",8),e.bIt("click",function(l){e.eBV(r);const C=e.XpG();return e.Njj(C.clickBiometric(l))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&t){const r=e.XpG();e.R7$(),e.Y8G("checked",r.dataSetting.Biometric),e.R7$(),e.JRh(e.bMT(3,2,"Biometrics"))}}const U=[{path:"",component:(()=>{var t;class g{constructor(a,l,C){this.router=a,this.platform=l,this.modalController=C,this.APP_ROUTE=m._,this.dataSetting={};var c=this.platform.platforms();c.includes("mobile")&&!c.includes("mobileweb")&&N.isAvailable({useFallback:!0}).then(u=>{console.log("NativeBiometric.isAvailable",u),this.biometricAvailable=!!u.isAvailable})}ngOnInit(){(0,O.FC)({callback:a=>{a&&(this.dataSetting=a)}})}navigateByUrl(a){this.router.navigateByUrl(a)}changeNotify(a){return(0,v.A)(function*(){(0,O.T9)({params:{Notify:a.detail.checked}})})()}clickBiometric(a){var l=this;return(0,v.A)(function*(){l.dataSetting.Biometric?N.verifyIdentity({subtitle:"T\u1eaft b\u1ea3o v\u1ec7 \u1ee9ng d\u1ee5ng v\u1edbi sinh tr\u1eafc h\u1ecdc",useFallback:!0,maxAttempts:5}).then(function(){var c=(0,v.A)(function*(u){console.info("NativeBiometric.verifyIdentity",u),N.deleteCredentials({server:"iev.infipower.vn"}).then(f=>{console.info("NativeBiometric.setCredentials",f),(0,O.T9)({params:{Biometric:!1}}),l.dataSetting.Biometric=!1}).catch(f=>{throw f})});return function(u){return c.apply(this,arguments)}}()).catch(c=>{l.dataSetting.Biometric=!0,console.log("NativeBiometric.verifyIdentity",c)}):N.verifyIdentity({subtitle:"K\xedch ho\u1ea1t b\u1ea3o v\u1ec7 \u1ee9ng d\u1ee5ng v\u1edbi sinh tr\u1eafc h\u1ecdc",useFallback:!0,maxAttempts:5}).then(function(){var c=(0,v.A)(function*(u){var f;console.info("NativeBiometric.verifyIdentity",u),N.setCredentials({server:"iev.infipower.vn",username:"isac",password:null===(f=yield n.getId())||void 0===f?void 0:f.identifier}).then(b=>{console.info("NativeBiometric.setCredentials",b),(0,O.T9)({params:{Biometric:!0}}),l.dataSetting.Biometric=!0}).catch(b=>{throw b})});return function(u){return c.apply(this,arguments)}}()).catch(c=>{l.dataSetting.Biometric=!1,console.log("NativeBiometric.verifyIdentity",c)})})()}sendRequestDeteleAccount(a){return(0,v.A)(function*(){h.open({url:"https://infipower.vn/account-deletion-request/"})})()}}return(t=g).\u0275fac=function(a){return new(a||t)(e.rXU(d.Ix),e.rXU(A.OD),e.rXU(s.W3))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-setting"]],decls:11,vars:4,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],[1,"container"],["mode","ios","lines","none"],["color","light","button","false","detail","false",4,"ngIf"],["color","light","button","false","detail","false"],[3,"click","checked"]],template:function(a,l){1&a&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content")(8,"div",4)(9,"ion-list",5),e.DNE(10,L,4,4,"ion-item",6),e.k0s()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Setting")),e.R7$(5),e.Y8G("ngIf",l.biometricAvailable))},dependencies:[I.bT,s.QW,s.W9,s.eU,s.uz,s.nf,s.BC,s.BY,s.ai,s.hB,s.el,P.D9],styles:["ion-list[_ngcontent-%COMP%]{margin:1.25rem 0;border-radius:.75rem}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}"]}),g})()}];let M=(()=>{var t;class g{}return(t=g).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[d.iI.forChild(U),d.iI]}),g})();var F=i(3890);let p=(()=>{var t;class g{}return(t=g).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[I.MD,E.YN,s.bv,M,F.x]}),g})()}}]);