"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7797],{5883:(Y,P,m)=>{m.d(P,{W:()=>S});var T=m(7586),$=m.n(T),a=m(4438),j=m(4742);const c=["datetime"],E=()=>({hour:"2-digit",minute:"2-digit"}),I=()=>({day:"2-digit",month:"2-digit",year:"numeric"}),f=(M,x)=>({time:M,date:x});function u(M,x){if(1&M){const F=a.RV6();a.j41(0,"ion-datetime",6,0),a.bIt("ionChange",function(t){a.eBV(F);const h=a.XpG();return a.Njj(h.changeDateTime(t))}),a.k0s()}if(2&M){const F=a.XpG();a.Y8G("presentation",F.options.presentation)("min",F.options.min)("value",F.options.value)("firstDayOfWeek",1)("formatOptions",a.l_i(7,f,a.lJ4(5,E),a.lJ4(6,I)))}}let S=(()=>{var M;class x{constructor(D){this.modalController=D,this.options={}}ngOnInit(){var D;this.options.presentation=null!==(D=this.options.presentation)&&void 0!==D?D:"date-time",this.options.min=this.options.min?$()(this.options.min).format("YYYY-MM-DD"):void 0,this.options.value=this.options.value?$()(this.options.value).toISOString(!0):void 0,this.isInit=!0}changeDateTime(D){this.options.value=$()(D.detail.value).toISOString(!0)}modalClose(){this.modalController.dismiss()}modalConfirm(){this.modalController.dismiss(this.options.value,"success")}}return(M=x).\u0275fac=function(D){return new(D||M)(a.rXU(j.W3))},M.\u0275cmp=a.VBU({type:M,selectors:[["app-modal-datetime-picker"]],viewQuery:function(D,t){if(1&D&&a.GBs(c,5),2&D){let h;a.mGM(h=a.lsd())&&(t.datetime=h.first)}},inputs:{options:"options"},decls:9,vars:1,consts:[["datetime",""],["locale","vi-VN","hourCycle","h23",3,"presentation","min","value","firstDayOfWeek","formatOptions"],[1,"ion-padding"],[1,"d-flex","align-items-center","justify-content-between"],["size","small","color","medium","shape","round","fill","outline",1,"flex-grow-1","m-1",3,"click"],["size","small","color","primary","shape","round",1,"flex-grow-1","m-1",3,"click"],["locale","vi-VN","hourCycle","h23",3,"ionChange","presentation","min","value","firstDayOfWeek","formatOptions"]],template:function(D,t){1&D&&(a.DNE(0,u,2,10,"ion-datetime",1),a.j41(1,"ion-footer",2)(2,"div",3)(3,"ion-button",4),a.bIt("click",function(){return t.modalClose()}),a.j41(4,"ion-label"),a.EFF(5,"H\u1ee7y"),a.k0s()(),a.j41(6,"ion-button",5),a.bIt("click",function(){return t.modalConfirm()}),a.j41(7,"ion-label"),a.EFF(8,"\xc1p d\u1ee5ng"),a.k0s()()()()),2&D&&a.vxM(0,t.isInit?0:-1)},dependencies:[j.Jm,j.A9,j.M0,j.he,j.Je]}),x})()},4311:(Y,P,m)=>{m.d(P,{s:()=>t});var T=m(467),$=m(5826),a=m(6539),j=m(5751),c=m(4438),E=m(4742),I=m(177),f=m(4842);function u(h,y){1&h&&(c.j41(0,"div",7)(1,"div",9)(2,"div")(3,"div",10),c.nrm(4,"ion-img",11),c.k0s(),c.j41(5,"div",12),c.EFF(6),c.nI1(7,"translate"),c.k0s()()()()),2&h&&(c.R7$(6),c.JRh(c.bMT(7,1,"DataNotFound")))}function S(h,y){if(1&h&&(c.j41(0,"div",13),c.eu8(1,14),c.k0s()),2&h){c.XpG();const k=c.sdS(14);c.R7$(),c.Y8G("ngTemplateOutlet",k)}}function M(h,y){if(1&h){const k=c.RV6();c.j41(0,"ion-infinite-scroll",15),c.bIt("ionInfinite",function(v){c.eBV(k);const b=c.XpG();return c.Njj(b.infiniteChange(v))}),c.nrm(1,"ion-infinite-scroll-content"),c.k0s()}}function x(h,y){if(1&h&&(c.j41(0,"div",19)(1,"ion-text",20),c.EFF(2),c.k0s()()),2&h){const k=c.XpG().$implicit;c.R7$(2),c.JRh(k.thong_tin_don_vi.ten)}}function F(h,y){if(1&h){const k=c.RV6();c.j41(0,"ion-item",18),c.bIt("click",function(){const v=c.eBV(k).$implicit,b=c.XpG(2);return c.Njj(b.modalSubmit(v))}),c.j41(1,"ion-label")(2,"b"),c.EFF(3),c.k0s(),c.j41(4,"div",19)(5,"ion-text",20),c.EFF(6),c.k0s()(),c.DNE(7,x,3,1,"div",19),c.k0s()()}if(2&h){const k=y.$implicit;c.R7$(3),c.JRh((null==k.ten_day_du?null:k.ten_day_du.trim())||k.ten_dangnhap),c.R7$(3),c.JRh(k.email),c.R7$(),c.vxM(7,k.thong_tin_don_vi?7:-1)}}function D(h,y){if(1&h&&(c.j41(0,"ion-list",16),c.Z7z(1,F,8,3,"ion-item",17,c.fX1),c.k0s()),2&h){const k=c.XpG();c.R7$(),c.Dyx(k.listData)}}let t=(()=>{var h;class y{constructor(C,v,b){this.loadingController=C,this.modalController=v,this.toastController=b,this.filter={},this.paging={sortfield:null,sorttype:null,page:1,limit:20,active:!0},this.listData=[],this.limitLoad=0}ngOnInit(){var C=this;(0,T.A)(function*(){(yield(0,a.lJ)())&&C.loadData()})()}modalClose(){this.modalController.dismiss()}modalSubmit(C){this.modalController.dismiss(C,"success")}pushData(C){1==this.paging.page&&(this.listData.length=0),this.listData=this.listData.concat(C)}refreshData(){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData()}loadData(C){this.loadData_Paging_Limit(C)}loadData_More(C){this.paging.page+=1,this.loadData_Paging_Limit(C)}loadData_Paging_Limit(C){var v=this;return(0,T.A)(function*(){if(v.limitLoad>0)return void(C&&C());v.limitLoad=300;let b=setInterval(()=>{v.limitLoad-=100,v.limitLoad<=0&&(clearInterval(b),v.loadData_Paging(C))},100)})()}loadData_Paging(C){var v=this;return(0,T.A)(function*(){(0,$.j7)({loadingController:v.loadingController,params:{pageNumber:v.paging.page,pageSize:v.paging.limit,search:v.filter.search},callback:b=>{null!=b&&b.status?v.pushData((null==b?void 0:b.data)||[]):(0,j.q)(v.toastController,{},b).then(U=>U.present()),v.listData.length<v.paging.limit*v.paging.page&&(v.paging.active=!1),C&&C()}})})()}refresherChange(C){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData(()=>{C.target.complete()})}infiniteChange(C){this.loadData_More(()=>{C.target.complete()})}searchChange(C){this.filter.search=C.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}}return(h=y).\u0275fac=function(C){return new(C||h)(c.rXU(E.Xi),c.rXU(E.W3),c.rXU(E.K_))},h.\u0275cmp=c.VBU({type:h,selectors:[["app-modal-user-search"]],decls:15,vars:4,consts:[["templateList",""],["color","light"],["slot","end"],[3,"click"],["name","close-outline"],["inputmode","search","placeholder","Nh\u1eadp th\xf4ng tin t\xecm ki\u1ebfm","show-cancel-button","never",3,"ionInput","value","debounce"],["slot","fixed",3,"ionRefresh"],[1,"py-5"],[3,"ionInfinite",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"ion-padding"],[3,"ngTemplateOutlet"],[3,"ionInfinite"],["lines","none"],["color","light","button","true","detail","false"],["color","light","button","true","detail","false",3,"click"],[1,"fs-14"],["color","medium"]],template:function(C,v){if(1&C){const b=c.RV6();c.j41(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),c.bIt("click",function(){return c.eBV(b),c.Njj(v.modalClose())}),c.nrm(4,"ion-icon",4),c.k0s()()(),c.j41(5,"ion-toolbar",1)(6,"ion-searchbar",5),c.bIt("ionInput",function(G){return c.eBV(b),c.Njj(v.searchChange(G))}),c.k0s()()(),c.j41(7,"ion-content")(8,"ion-refresher",6),c.bIt("ionRefresh",function(G){return c.eBV(b),c.Njj(v.refresherChange(G))}),c.nrm(9,"ion-refresher-content"),c.k0s(),c.DNE(10,u,8,3,"div",7)(11,S,2,1)(12,M,2,0,"ion-infinite-scroll",8),c.k0s(),c.DNE(13,D,3,0,"ng-template",null,0,c.C5r)}2&C&&(c.R7$(6),c.Y8G("value",v.filter.search)("debounce",1e3),c.R7$(4),c.vxM(10,v.listData.length?11:10),c.R7$(2),c.Y8G("ngIf",v.paging.active))},dependencies:[I.bT,I.T3,E.Jm,E.QW,E.W9,E.eU,E.iq,E.KW,E.Ax,E.Hp,E.uz,E.he,E.nf,E.To,E.Ki,E.S1,E.IO,E.ai,E.Gw,f.D9],styles:["ion-list[_ngcontent-%COMP%]{--background: transparent}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-radius: 8px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}"]}),y})()},7797:(Y,P,m)=>{m.r(P),m.d(P,{ScheduleDetailPageModule:()=>Ln});var T=m(177),$=m(9417),a=m(4742),j=m(2175),c=m(467),E=m(7586),I=m.n(E),f=m(5826),u=m(5751),S=m(1312),M=m(5883),x=m(6539),F=m(3588),D=m(4311),t=m(4438),h=m(4842);const y=["inputTitle"],k=["inputRoomPwd"];function C(l,s){if(1&l&&(t.j41(0,"ion-select-option",22),t.EFF(1),t.k0s()),2&l){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.JRh(i.title)}}function v(l,s){if(1&l&&(t.j41(0,"ion-select-option",22),t.EFF(1),t.k0s()),2&l){const i=s.$implicit;t.Y8G("value",i.id),t.R7$(),t.JRh(i.title)}}function b(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-item",25)(1,"ion-label")(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"div"),t.EFF(5),t.k0s()(),t.j41(6,"ion-icon",31),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2);return t.Njj(n.removeChairMan())}),t.k0s()()}if(2&l){const i=t.XpG(2);t.R7$(3),t.JRh(i.dataForm.userChairMan.ten_day_du),t.R7$(2),t.JRh(i.dataForm.userChairMan.email)}}function U(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-item",16),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2);return t.Njj(n.presentModalUserSearch_chairman())}),t.j41(1,"ion-label",17),t.EFF(2,"Ch\u1ecdn ch\u1ee7 tr\xec"),t.k0s()()}}function G(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-item",25)(1,"ion-label")(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"div"),t.EFF(5),t.k0s()(),t.j41(6,"ion-icon",31),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2);return t.Njj(n.removeShareRole())}),t.k0s()()}if(2&l){const i=t.XpG(2);t.R7$(3),t.JRh(i.dataForm.userShareRole.ten_day_du),t.R7$(2),t.JRh(i.dataForm.userShareRole.email)}}function z(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-item",16),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2);return t.Njj(n.presentModalUserSearch_sharedRole())}),t.j41(1,"ion-label",17),t.EFF(2,"Ch\u1ecdn \u1ee7y quy\u1ec1n \u0111i\u1ec1u h\xe0nh"),t.k0s()()}}function W(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",30)(1,"ion-input",32,1),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG(2);return t.Njj(o.changeRoomPwd(n))}),t.nrm(3,"ion-input-password-toggle",33),t.k0s()()}if(2&l){const i=t.XpG(2);t.R7$(),t.Y8G("value",i.dataForm.password)}}function H(l,s){if(1&l){const i=t.RV6();t.j41(0,"div")(1,"div",9),t.EFF(2,"Ti\xeau \u0111\u1ec1 "),t.j41(3,"ion-text",10),t.EFF(4,"*"),t.k0s()(),t.j41(5,"ion-input",11,0),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changeTitle(n))}),t.k0s()(),t.j41(7,"div",12)(8,"div",9),t.EFF(9,"N\u1ed9i dung"),t.k0s(),t.j41(10,"ion-textarea",13),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changeContent(n))}),t.k0s()(),t.j41(11,"div",12)(12,"div",9),t.EFF(13,"Th\u1eddi gian"),t.k0s(),t.j41(14,"div",14)(15,"div",15)(16,"ion-item",16),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.presentModalDatetimePicker_DateFrom())}),t.j41(17,"ion-label",17),t.EFF(18),t.k0s(),t.nrm(19,"ion-icon",18),t.k0s()(),t.nrm(20,"ion-icon",19),t.j41(21,"div",15)(22,"ion-item",16),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.presentModalDatetimePicker_DateTo())}),t.j41(23,"ion-label",17),t.EFF(24),t.k0s(),t.nrm(25,"ion-icon",18),t.k0s()()()(),t.j41(26,"div",12)(27,"div",9),t.EFF(28,"\u0110\u1ecba \u0111i\u1ec3m"),t.k0s(),t.j41(29,"ion-input",20,0),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changePlace(n))}),t.k0s()(),t.j41(31,"div",12)(32,"div",9),t.EFF(33,"Lo\u1ea1i h\xecnh cu\u1ed9c h\u1ecdp"),t.k0s(),t.j41(34,"ion-select",21),t.nI1(35,"translate"),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changeType(n))}),t.Z7z(36,C,2,2,"ion-select-option",22,t.fX1),t.k0s()(),t.j41(38,"div",12)(39,"div",9),t.EFF(40,"M\xe1y ch\u1ee7"),t.k0s(),t.j41(41,"ion-select",23),t.nI1(42,"translate"),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changeServer(n))}),t.Z7z(43,v,2,2,"ion-select-option",22,t.fX1),t.k0s()(),t.j41(45,"div",12)(46,"div",9),t.EFF(47,"Ch\u1ee7 tr\xec"),t.k0s(),t.j41(48,"div",24),t.DNE(49,b,7,2,"ion-item",25)(50,U,3,0),t.k0s()(),t.j41(51,"div",12)(52,"div",9),t.EFF(53,"\u1ee6y quy\u1ec1n \u0111i\u1ec1u h\xe0nh"),t.k0s(),t.j41(54,"div",24),t.DNE(55,G,7,2,"ion-item",25)(56,z,3,0),t.k0s()(),t.j41(57,"div",12)(58,"div",9),t.EFF(59,"M\xe3 ph\xf2ng h\u1ecdp"),t.k0s(),t.j41(60,"ion-input",26,0),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changeRoomName(n))}),t.k0s()(),t.j41(62,"div",12)(63,"ion-toggle",27),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changeIsPwd(n))}),t.j41(64,"ion-label",28),t.EFF(65,"M\u1eadt kh\u1ea9u"),t.k0s(),t.j41(66,"ion-note",29),t.EFF(67,"(Ch\u1ec9 nh\u1eefng ng\u01b0\u1eddi d\xf9ng c\xf3 m\u1eadt m\xe3 m\u1edbi c\xf3 th\u1ec3 tham gia cu\u1ed9c h\u1ecdp)"),t.k0s()()(),t.DNE(68,W,4,1,"div",30),t.j41(69,"div",12)(70,"ion-toggle",27),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changeIsPublished(n))}),t.j41(71,"ion-label",28),t.EFF(72,"C\xf4ng khai"),t.k0s(),t.j41(73,"ion-note",29),t.EFF(74,"(Ch\u1ec9 nh\u1eefng ng\u01b0\u1eddi d\xf9ng c\xf3 trong danh s\xe1ch th\xe0nh ph\u1ea7n tham gia m\u1edbi c\xf3 th\u1ec3 tham gia cu\u1ed9c h\u1ecdp)"),t.k0s()()(),t.j41(75,"div",12)(76,"ion-toggle",27),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changeIsLobby(n))}),t.j41(77,"ion-label",28),t.EFF(78,"S\u1ea3nh ch\u1edd"),t.k0s(),t.j41(79,"ion-note",29),t.EFF(80,"(Ch\u1ec9 nh\u1eefng ng\u01b0\u1eddi d\xf9ng \u0111\u01b0\u1ee3c ng\u01b0\u1eddi ch\u1ee7 tr\xec ch\u1ea5p nh\u1eadn m\u1edbi c\xf3 th\u1ec3 tham gia cu\u1ed9c h\u1ecdp)"),t.k0s()()()}if(2&l){const i=t.XpG();t.R7$(5),t.Y8G("value",i.dataForm.title),t.R7$(5),t.Y8G("value",i.dataForm.content),t.R7$(8),t.JRh(i.dataForm.startTime?i.APP_FUNC_FormatDate(i.dataForm.startTime,"DD/MM/YYYY HH:mm"):"B\u1eaft \u0111\u1ea7u"),t.R7$(6),t.JRh(i.dataForm.endTime?i.APP_FUNC_FormatDate(i.dataForm.endTime,"DD/MM/YYYY HH:mm"):"K\u1ebft th\xfac"),t.R7$(5),t.Y8G("value",i.dataForm.place),t.R7$(5),t.Y8G("cancelText",t.bMT(35,16,"Cancel"))("value",i.dataForm.typeId),t.R7$(2),t.Dyx(i.MeetingTypes),t.R7$(5),t.Y8G("cancelText",t.bMT(42,18,"Cancel"))("value",i.dataForm.serverId),t.R7$(2),t.Dyx(i.MeetingServers),t.R7$(6),t.vxM(49,i.dataForm.userChairMan?49:50),t.R7$(6),t.vxM(55,i.dataForm.userShareRole?55:56),t.R7$(5),t.Y8G("value",i.dataForm.roomName),t.R7$(3),t.Y8G("checked",i.isPwd),t.R7$(5),t.vxM(68,i.isPwd?68:-1),t.R7$(2),t.Y8G("checked",i.dataForm.isPublished),t.R7$(6),t.Y8G("checked",i.dataForm.isLobby)}}let L=(()=>{var l;class s{constructor(e,n,o,r){this.router=e,this.loadingController=n,this.modalController=o,this.toastController=r,this.APP_FUNC_FormatDate=S.Rv,this.MeetingTypes=[],this.MeetingServers=[]}ngOnInit(){var e=this;this.refreshData(),(0,c.A)(function*(){e.user=(yield(0,x.xk)()).data,e.MeetingTypes=F.Wf._data,(0,f.D7)({callback:n=>{null!=n&&n.status?e.MeetingServers=n.data||[]:(0,u.q)(e.toastController,{},n).then(o=>o.present())}})})()}ngAfterViewInit(){setTimeout(()=>{var e;null===(e=this.inputTitle)||void 0===e||e.setFocus()},300)}refreshData(){var e=this;return(0,c.A)(function*(){(0,f.vx)({loadingController:e.loadingController,params:{id:e.id},callback:n=>{null!=n&&n.status?(e.dataForm=(null==n?void 0:n.data)||{},e.isPwd=!!e.dataForm.password):(0,u.q)(e.toastController,{},n).then(o=>o.present())}})})()}modalClose(){this.modalController.dismiss()}modalSubmit(){var e,n;(0,f.l9)({params:Object.assign(this.dataForm,{status:1,password:this.isPwd?this.dataForm.password:null,chairMan:null===(e=this.dataForm.userChairMan)||void 0===e?void 0:e.id,sharedRole:null===(n=this.dataForm.userShareRole)||void 0===n?void 0:n.id}),callback:o=>{(0,u.q)(this.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&this.modalController.dismiss(null,"success")}})}get modalSubmit_Disabled(){var e;return!(this.dataForm&&this.dataForm.title&&this.dataForm.roomName&&(this.dataForm.password||!this.isPwd)&&this.dataForm.startTime&&this.dataForm.endTime&&this.dataForm.typeId&&this.dataForm.serverId&&null!==(e=this.dataForm.userChairMan)&&void 0!==e&&e.id)}changeIsPwd(e){var n=this;return(0,c.A)(function*(){n.isPwd=e.detail.checked,n.isPwd&&(n.dataForm.title||(n.dataForm.title="H\u1ecdp tr\u1ef1c tuy\u1ebfn"),setTimeout(()=>{var o;null===(o=n.inputRoomPwd)||void 0===o||o.setFocus()},300))})()}changeIsLobby(e){var n=this;return(0,c.A)(function*(){n.dataForm.isLobby=e.detail.checked})()}changeIsPublished(e){var n=this;return(0,c.A)(function*(){n.dataForm.isPublished=e.detail.checked})()}changeTitle(e){var n=this;return(0,c.A)(function*(){var o;n.dataForm.title=null===(o=e.detail.value)||void 0===o?void 0:o.trim()})()}changeContent(e){var n=this;return(0,c.A)(function*(){var o;n.dataForm.content=null===(o=e.detail.value)||void 0===o?void 0:o.trim()})()}changePlace(e){var n=this;return(0,c.A)(function*(){var o;n.dataForm.place=null===(o=e.detail.value)||void 0===o?void 0:o.trim()})()}changeRoomName(e){var n=this;return(0,c.A)(function*(){var o;n.dataForm.roomName=null===(o=e.detail.value)||void 0===o?void 0:o.replace(/[^a-zA-Z0-9]/g,"")})()}changeRoomPwd(e){var n=this;return(0,c.A)(function*(){var o;n.dataForm.password=null===(o=e.detail.value)||void 0===o?void 0:o.trim()})()}changeType(e){var n=this;return(0,c.A)(function*(){n.dataForm.typeId=e.detail.value})()}changeServer(e){var n=this;return(0,c.A)(function*(){n.dataForm.serverId=e.detail.value})()}removeChairMan(){this.dataForm.userChairMan=void 0}removeShareRole(){this.dataForm.userShareRole=void 0}presentModalDatetimePicker_DateFrom(){var e=this;return(0,c.A)(function*(){const n=yield e.modalController.create({component:M.W,componentProps:{options:{presentation:"date-time",min:new Date,value:e.dataForm.startTime}},cssClass:"ion-modal-auto"});n.onDidDismiss().then(o=>{"success"==o.role&&(e.dataForm.startTime=o.data)}),n.present()})()}presentModalDatetimePicker_DateTo(){var e=this;return(0,c.A)(function*(){const n=yield e.modalController.create({component:M.W,componentProps:{options:{presentation:"date-time",min:I()(new Date).format("YYYY-MM-DD"),value:e.dataForm.endTime}},cssClass:"ion-modal-auto"});n.onDidDismiss().then(o=>{"success"==o.role&&(e.dataForm.endTime=o.data)}),n.present()})()}presentModalUserSearch_chairman(){var e=this;return(0,c.A)(function*(){let n=yield e.modalController.create({component:D.s,cssClass:"ion-modal-breakpoint",breakpoints:[0,1],initialBreakpoint:1});n.onDidDismiss().then(o=>{"success"==o.role&&(e.dataForm.userChairMan=o.data)}),n.present()})()}presentModalUserSearch_sharedRole(){var e=this;return(0,c.A)(function*(){let n=yield e.modalController.create({component:D.s,cssClass:"ion-modal-breakpoint",breakpoints:[0,1],initialBreakpoint:1});n.onDidDismiss().then(o=>{"success"==o.role&&(e.dataForm.userShareRole=o.data)}),n.present()})()}}return(l=s).\u0275fac=function(e){return new(e||l)(t.rXU(j.Ix),t.rXU(a.Xi),t.rXU(a.W3),t.rXU(a.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-schedule-update"]],viewQuery:function(e,n){if(1&e&&(t.GBs(y,5),t.GBs(k,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.inputTitle=o.first),t.mGM(o=t.lsd())&&(n.inputRoomPwd=o.first)}},inputs:{id:"id"},decls:14,vars:2,consts:[["inputTitle",""],["inputRoomPwd",""],["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],["color","light",1,"ion-padding"],["collapse","fade"],["color","primary","expand","block",3,"click","disabled"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","placeholder","Nh\u1eadp ti\xeau \u0111\u1ec1","minlength","6","maxlength","100",3,"ionChange","value"],[1,"mt-4"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp n\u1ed9i dung","minlength","6","maxlength","1000",3,"ionChange","value"],[1,"mt-2","d-flex","align-items-center"],[1,"flex-grow-1","custom-input"],["lines","none","color","transparent","detail","false","button","true",3,"click"],["color","medium"],["color","primary","src","../../../assets/icon/calendar.svg",1,"fs-16"],["src","../../../assets/icon/arrow-right.svg",1,"fs-16","mx-2"],["mode","md","fill","outline","placeholder","Nh\u1eadp \u0111\u1ecba \u0111i\u1ec3m h\u1ecdp","minlength","6","maxlength","100",3,"ionChange","value"],["mode","md","fill","outline","interface","action-sheet","placeholder","Ch\u1ecdn lo\u1ea1i h\xecnh cu\u1ed9c h\u1ecdp",3,"ionChange","cancelText","value"],[3,"value"],["mode","md","fill","outline","interface","action-sheet","placeholder","Ch\u1ecdn m\xe1y ch\u1ee7",3,"ionChange","cancelText","value"],[1,"custom-input"],["lines","none","color","transparent","detail","false","button","true"],["mode","md","fill","outline","placeholder","Nh\u1eadp m\xe3 ph\xf2ng h\u1ecdp","minlength","6","maxlength","100",3,"ionChange","value"],["labelPlacement","end",3,"ionChange","checked"],[1,"fw-600"],["color","medium",1,"ml-2","fs-14","text-wrap"],[1,"mt-2","max-w-240"],["slot","end","name","close-outline",3,"click"],["mode","md","type","password","fill","outline","placeholder","******","minlength","6","maxlength","32",3,"ionChange","value"],["slot","end","color","dark"]],template:function(e,n){1&e&&(t.j41(0,"ion-header")(1,"ion-toolbar",2)(2,"ion-title"),t.EFF(3,"C\u1eadp nh\u1eadt l\u1ecbch h\u1ecdp"),t.k0s(),t.j41(4,"ion-buttons",3)(5,"ion-button",4),t.bIt("click",function(){return n.modalClose()}),t.nrm(6,"ion-icon",5),t.k0s()()()(),t.j41(7,"ion-content",6),t.DNE(8,H,81,20),t.k0s(),t.j41(9,"ion-footer",7)(10,"ion-toolbar")(11,"ion-button",8),t.bIt("click",function(){return n.modalSubmit()}),t.j41(12,"ion-label"),t.EFF(13,"Ho\xe0n t\u1ea5t"),t.k0s()()()()),2&e&&(t.R7$(8),t.vxM(8,n.dataForm?8:-1),t.R7$(3),t.Y8G("disabled",n.modalSubmit_Disabled))},dependencies:[a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.$w,a.Wv,a.uz,a.he,a.JI,a.Nm,a.Ip,a.IO,a.nc,a.BC,a.BY,a.ai,a.hB,a.Je,a.Gw,h.D9]}),s})();var O=m(8833),K=m(5972);const q=function(){var l=(0,c.A)(function*(s){var i,e,n,o;s.params=s.params||{},(0,K.Ll)({url:"ThanhPhanThamGia/them",params:{scheduleId:null!==(i=s.params.scheduleId)&&void 0!==i?i:null,userId:null!==(e=s.params.userId)&&void 0!==e?e:null,email:null!==(n=s.params.email)&&void 0!==n?n:null,activated:null!==(o=s.params.activated)&&void 0!==o?o:null},success:r=>{"function"==typeof s.callback&&s.callback(r.data||null)},error:r=>{var d;"function"==typeof s.callback&&s.callback(null==r||null===(d=r.response)||void 0===d?void 0:d.data),console.error(r)},loading:s.loading,loadingController:s.loadingController})});return function(i){return l.apply(this,arguments)}}();var X=m(6954);const Q=(l,s,i,e)=>[l,s,i,e];function Z(l,s){if(1&l&&(t.j41(0,"ion-text",8),t.EFF(1),t.k0s()),2&l){const i=t.XpG();t.R7$(),t.E5c("",i.APP_FUNC_FormatDate(i.itemData.startTime,"HH:mm")," - ",i.APP_FUNC_FormatDate(i.itemData.endTime,"HH:mm"),", ",i.APP_FUNC_FormatDate(i.itemData.startTime,"DD/MM/YYYY"),"")}}function tt(l,s){if(1&l&&(t.j41(0,"ion-text",8)(1,"div"),t.EFF(2),t.k0s(),t.j41(3,"div"),t.EFF(4),t.k0s()()),2&l){const i=t.XpG();t.R7$(2),t.JRh(i.APP_FUNC_FormatDate(i.itemData.startTime,"HH:mm, DD/MM/YYYY")),t.R7$(2),t.JRh(i.APP_FUNC_FormatDate(i.itemData.endTime,"HH:mm, DD/MM/YYYY"))}}function nt(l,s){if(1&l&&(t.j41(0,"div",9),t.nrm(1,"ion-icon",16),t.j41(2,"ion-text",8),t.EFF(3),t.k0s()()),2&l){const i=t.XpG();t.R7$(3),t.JRh(null==i.itemData.server?null:i.itemData.server.title)}}function et(l,s){if(1&l&&(t.j41(0,"div",9),t.nrm(1,"ion-icon",17),t.j41(2,"ion-text",8),t.EFF(3),t.k0s()()),2&l){const i=t.XpG();t.R7$(3),t.JRh(i.itemData.place)}}function ot(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",18),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.copyRoomCode(n.itemData.roomName))}),t.nrm(1,"ion-icon",19),t.j41(2,"ion-text",8),t.EFF(3),t.k0s()()}if(2&l){const i=t.XpG();t.R7$(3),t.JRh(i.itemData.roomName)}}function it(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",18),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.changeIsPwd(!n.isShowPwd))}),t.nrm(1,"ion-icon",20),t.j41(2,"ion-text",8),t.EFF(3),t.k0s()()}if(2&l){const i=t.XpG();t.R7$(3),t.JRh(i.isShowPwd?i.itemData.password:"******")}}function lt(l,s){if(1&l&&(t.j41(0,"div",10)(1,"b"),t.EFF(2,"N\u1ed9i dung"),t.k0s(),t.j41(3,"div",12),t.nrm(4,"ion-note",21),t.k0s()()),2&l){const i=t.XpG();t.R7$(4),t.Y8G("innerHTML",i.itemData.content,t.npT)}}function at(l,s){if(1&l&&(t.j41(0,"div",10)(1,"b"),t.EFF(2,"Ch\u1ee7 tr\xec"),t.k0s(),t.j41(3,"div",12)(4,"ion-chip",22)(5,"ion-avatar"),t.nrm(6,"img",23),t.k0s(),t.j41(7,"ion-label")(8,"b"),t.EFF(9),t.k0s(),t.j41(10,"div"),t.EFF(11),t.k0s()()()()()),2&l){const i=t.XpG();t.R7$(9),t.JRh(i.itemData.userChairMan.ten_day_du),t.R7$(2),t.JRh(i.itemData.userChairMan.email)}}function rt(l,s){if(1&l&&(t.j41(0,"div",10)(1,"b"),t.EFF(2,"\u1ee6y quy\u1ec1n \u0111i\u1ec1u h\xe0nh"),t.k0s(),t.j41(3,"div",12)(4,"ion-chip",22)(5,"ion-avatar"),t.nrm(6,"img",23),t.k0s(),t.j41(7,"ion-label")(8,"b"),t.EFF(9),t.k0s(),t.j41(10,"div"),t.EFF(11),t.k0s()()()()()),2&l){const i=t.XpG();t.R7$(9),t.JRh(i.itemData.userShareRole.ten_day_du),t.R7$(2),t.JRh(i.itemData.userShareRole.email)}}function st(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",25),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2);return t.Njj(n.presentModalUserSearch_invite())}),t.nrm(1,"ion-icon",26),t.j41(2,"ion-label"),t.EFF(3,"M\u1eddi tham gia"),t.k0s()()}}function ct(l,s){if(1&l&&t.DNE(0,st,4,0,"ion-button",24),2&l){const i=t.XpG();t.vxM(0,t.ziG(1,Q,i.StatusSchedule.BANNHAP,i.StatusSchedule.CHODUYET,i.StatusSchedule.DADUYET,i.StatusSchedule.HUYDUYET).includes(i.itemData.status)?0:-1)}}function dt(l,s){if(1&l&&(t.j41(0,"div",12)(1,"ion-chip",22)(2,"ion-avatar"),t.nrm(3,"img",23),t.k0s(),t.j41(4,"ion-label"),t.EFF(5),t.k0s()()()),2&l){const i=s.$implicit;t.R7$(5),t.JRh(i.email)}}function ut(l,s){1&l&&(t.j41(0,"div",14)(1,"ion-chip")(2,"ion-label"),t.EFF(3,"D\u1eef li\u1ec7u \u0111\xe3 b\u1ecb x\xf3a"),t.k0s()()())}function mt(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",29),t.bIt("click",function(){t.eBV(i);const n=t.XpG(3);return t.Njj(n.confirmScheduleCancel(n.itemData.id))}),t.j41(1,"ion-label"),t.EFF(2,"H\u1ee7y x\xe1c nh\u1eadn"),t.k0s()()}}function _t(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",30),t.bIt("click",function(){t.eBV(i);const n=t.XpG(3);return t.Njj(n.confirmScheduleOk(n.itemData.id))}),t.j41(1,"ion-label"),t.EFF(2,"X\xe1c nh\u1eadn"),t.k0s()()}}function pt(l,s){if(1&l&&t.DNE(0,mt,3,0,"ion-button",28)(1,_t,3,0),2&l){const i=t.XpG(2);t.vxM(0,i.itemData.status==i.StatusSchedule.DADUYET||i.itemData.status==i.StatusSchedule.CONGBO?0:1)}}function ht(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",31),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2);return t.Njj(n.navigateByUrl(n.APP_ROUTE.ROOM_EXTERNAL_ID.replace(":id",n.itemData.id)))}),t.j41(1,"ion-label"),t.EFF(2,"Tham gia"),t.k0s()()}}function Ct(l,s){}function ft(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",32),t.bIt("click",function(){t.eBV(i);const n=t.XpG(3);return t.Njj(n.presentModalScheduleUpdate())}),t.j41(1,"ion-label"),t.EFF(2,"Ch\u1ec9nh s\u1eeda"),t.k0s()(),t.j41(3,"ion-button",33),t.bIt("click",function(){t.eBV(i),t.XpG(3);const n=t.sdS(32);return t.Njj(null==n?null:n.present())}),t.j41(4,"ion-label"),t.EFF(5,"X\xf3a"),t.k0s()()}}function vt(l,s){if(1&l&&t.DNE(0,Ct,0,0)(1,ft,6,0),2&l){const i=t.XpG(2);t.vxM(0,i.itemData.status==i.StatusSchedule.DADUYET||i.itemData.status==i.StatusSchedule.CONGBO?0:1)}}function gt(l,s){if(1&l&&(t.j41(0,"div",14),t.DNE(1,pt,2,1)(2,ht,3,0,"ion-button",27)(3,vt,2,1),t.k0s()),2&l){const i=t.XpG();t.R7$(),t.vxM(1,i.Role.checkRole(i.userRoles,i.Role.APPROVE)?1:-1),t.R7$(),t.vxM(2,i.itemData.status==i.StatusSchedule.DADUYET||i.itemData.status==i.StatusSchedule.CONGBO?2:-1),t.R7$(),t.vxM(3,i.isAddEdit?3:-1)}}function Et(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",34)(1,"div",35)(2,"h4",36),t.EFF(3,"X\xf3a l\u1ecbch h\u1ecdp"),t.k0s(),t.j41(4,"p",37),t.EFF(5,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a l\u1ecbch h\u1ecdp n\xe0y?"),t.k0s()(),t.j41(6,"div",38)(7,"div",39)(8,"ion-button",40),t.bIt("click",function(){t.eBV(i),t.XpG();const n=t.sdS(32);return t.Njj(null==n?null:n.dismiss())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",41)(12,"ion-button",42),t.bIt("click",function(){t.eBV(i);const n=t.XpG(),o=t.sdS(32);return t.Njj(n.confirmDelete(o))}),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()}2&l&&(t.R7$(9),t.JRh(t.bMT(10,2,"Cancel")),t.R7$(4),t.JRh(t.bMT(14,4,"Delete")))}let Dt=(()=>{var l;class s{constructor(e,n,o,r){this.router=e,this.toastController=n,this.modalController=o,this.loadingController=r,this.APP_ROUTE=O._,this.APP_FUNC_FormatDate=S.Rv,this.StatusSchedule=F._5,this.ColorStatusSchedule=X.zM,this.listUser=[],this.Role=F.Xh}ngOnInit(){(0,x.xk)().then(e=>{var n,o,r,d,p,_,g;this.userRoles=e.roles,this.isAddEdit=(null===(n=this.itemData)||void 0===n||null===(n=n.userCreatedBy)||void 0===n?void 0:n.id)==(null===(o=e.data)||void 0===o?void 0:o.id)||(null===(r=this.itemData)||void 0===r||null===(r=r.userChairMan)||void 0===r?void 0:r.id)==(null===(d=e.data)||void 0===d?void 0:d.id)||(null===(p=this.itemData)||void 0===p||null===(p=p.userShareRole)||void 0===p?void 0:p.id)==(null===(_=e.data)||void 0===_?void 0:_.id),this.isAddEdit=this.isAddEdit&&!(null!==(g=this.itemData)&&void 0!==g&&g.isDeleted)}),this.listUser=this.itemData.meetingMember||[]}refreshData(e){(0,f.vx)({loadingController:this.loadingController,params:{id:this.itemData.id},callback:n=>{var o;this.itemData=null==n?void 0:n.data,this.listUser=(null===(o=this.itemData)||void 0===o?void 0:o.meetingMember)||[],e&&e()}})}changeIsPwd(e){var n=this;return(0,c.A)(function*(){n.isShowPwd=e})()}copyRoomCode(e){var n=this;return(0,c.A)(function*(){n.isCopied=(0,S.k8)(e),n.isCopied&&(0,u.q)(n.toastController,{color:"success",message:"\u0110\xe3 sao ch\xe9p m\xe3 ph\xf2ng h\u1ecdp!"}).then(o=>o.present())})()}navigateByUrl(e){var n=this;return(0,c.A)(function*(){n.router.navigateByUrl(e)})()}presentModalScheduleUpdate(){var e=this;return(0,c.A)(function*(){const n=yield e.modalController.create({component:L,componentProps:{id:e.itemData.id}});n.onDidDismiss().then(o=>{"success"==o.role&&e.refreshData()}),n.present()})()}confirmScheduleOk(e){var n=this;return(0,c.A)(function*(){(0,f.vR)({loadingController:n.loadingController,params:{id:e},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&n.refreshData()}})})()}confirmScheduleCancel(e){var n=this;return(0,c.A)(function*(){(0,f.Dm)({loadingController:n.loadingController,params:{id:e},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&n.refreshData()}})})()}confirmDelete(e){var n=this;return(0,c.A)(function*(){(0,f.qC)({loadingController:n.loadingController,params:{id:n.itemData.id},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&(null==e||e.dismiss(),n.router.navigateByUrl(O._.SCHEDULE,{replaceUrl:!0}))}})})()}presentModalUserSearch_invite(){var e=this;return(0,c.A)(function*(){let n=yield e.modalController.create({component:D.s,cssClass:"ion-modal-breakpoint",breakpoints:[0,1],initialBreakpoint:1});n.onDidDismiss().then(o=>{"success"==o.role&&q({params:{scheduleId:e.itemData.id,userId:o.data.id,email:o.data.email,activated:!0},callback:r=>{(0,u.q)(e.toastController,{},r).then(d=>d.present()),null!=r&&r.status&&e.refreshData()}})}),n.present()})()}}return(l=s).\u0275fac=function(e){return new(e||l)(t.rXU(j.Ix),t.rXU(a.K_),t.rXU(a.W3),t.rXU(a.Xi))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-schedule-info"]],inputs:{itemData:"itemData",inherits:"inherits"},decls:34,vars:14,consts:[["modalConfirmDelete",""],[1,"min-h-100","d-flex","flex-column"],[1,"flex-grow-1","ion-padding","bg-light"],[1,"d-flex","align-items-start","justify-content-between"],[1,"my-0","fw-700"],[1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity",3,"color"],[1,"mt-3","d-flex","align-items-start"],["color","medium","src","../../../assets/icon/clock.svg",1,"fs-16","mr-2"],["color","medium",1,"fs-14"],[1,"mt-2","d-flex","align-items-center"],[1,"mt-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mt-2"],["collapse","fade"],[1,"d-flex","align-items-center","justify-content-end"],[1,"ion-modal-small"],["color","medium","src","../../../../assets/icon/globe-alt.svg",1,"fs-16","mr-2"],["color","medium","src","../../../assets/icon/location-marker.svg",1,"fs-16","mr-2"],[1,"mt-2","d-flex","align-items-center",3,"click"],["color","medium","src","../../../../assets/icon/desktop-computer.svg",1,"fs-16","mr-2"],["color","medium","name","key-outline",1,"fs-16","mr-2"],["color","medium",3,"innerHTML"],["color","transparent",1,"ion-no-margin"],["src","../../../../assets/image/default-avatar.svg"],["size","small","color","primary","fill","outline",1,"m-0","min-w-24","min-h-24"],["size","small","color","primary","fill","outline",1,"m-0","min-w-24","min-h-24",3,"click"],["slot","start","name","add-outline"],["color","primary","expand","block",1,"flex-grow-1"],["color","primary","fill","outline",1,"flex-grow-1"],["color","primary","fill","outline",1,"flex-grow-1",3,"click"],["color","primary",1,"flex-grow-1",3,"click"],["color","primary","expand","block",1,"flex-grow-1",3,"click"],["color","medium","fill","outline","expand","block",1,"min-w-120",3,"click"],["color","danger","fill","outline","expand","block",1,"min-w-80",3,"click"],[1,"p-4"],[1,"text-center"],[1,"mb-2"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["color","primary","fill","outline","expand","block",3,"click"],[1,"col-6","pl-1"],["color","danger","expand","block",3,"click"]],template:function(e,n){1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h5",4),t.EFF(4),t.k0s(),t.j41(5,"ion-chip",5)(6,"ion-label"),t.EFF(7),t.k0s()()(),t.j41(8,"div",6),t.nrm(9,"ion-icon",7),t.DNE(10,Z,2,3,"ion-text",8)(11,tt,5,2),t.k0s(),t.DNE(12,nt,4,1,"div",9)(13,et,4,1,"div",9)(14,ot,4,1,"div",9)(15,it,4,1,"div",9)(16,lt,5,1,"div",10)(17,at,12,2,"div",10)(18,rt,12,2,"div",10),t.j41(19,"div",10)(20,"div",11)(21,"b"),t.EFF(22),t.k0s(),t.DNE(23,ct,1,6),t.k0s(),t.j41(24,"div"),t.Z7z(25,dt,6,1,"div",12,t.fX1),t.k0s()()(),t.j41(27,"ion-footer",13)(28,"ion-toolbar"),t.DNE(29,ut,4,0,"div",14)(30,gt,4,3),t.k0s()()(),t.j41(31,"ion-modal",15,0),t.DNE(33,Et,15,6,"ng-template"),t.k0s()),2&e&&(t.R7$(4),t.JRh(n.itemData.title),t.R7$(),t.Y8G("color",n.ColorStatusSchedule(n.itemData.status)),t.R7$(2),t.JRh(n.StatusSchedule.getStatusName(n.itemData.status)),t.R7$(3),t.vxM(10,n.APP_FUNC_FormatDate(n.itemData.startTime,"DD/MM/YYYY")==n.APP_FUNC_FormatDate(n.itemData.endTime,"DD/MM/YYYY")?10:11),t.R7$(2),t.vxM(12,null!=n.itemData.server&&n.itemData.server.title?12:-1),t.R7$(),t.vxM(13,n.itemData.place?13:-1),t.R7$(),t.vxM(14,n.itemData.roomName?14:-1),t.R7$(),t.vxM(15,n.itemData.password?15:-1),t.R7$(),t.vxM(16,n.itemData.content?16:-1),t.R7$(),t.vxM(17,null!=n.itemData.userChairMan&&n.itemData.userChairMan.id?17:-1),t.R7$(),t.vxM(18,null!=n.itemData.userShareRole&&n.itemData.userShareRole.id?18:-1),t.R7$(4),t.SpI("Ng\u01b0\u1eddi tham gia (",n.listUser.length,")"),t.R7$(),t.vxM(23,n.isAddEdit?23:-1),t.R7$(2),t.Dyx(n.listUser),t.R7$(4),t.vxM(29,n.itemData.isDeleted?29:30))},dependencies:[a.mC,a.Jm,a.ZB,a.M0,a.iq,a.he,a.JI,a.IO,a.ai,a.Sb,h.D9],styles:['.card-schedule[_ngcontent-%COMP%]{--line-color: var(--ion-color-primary);position:relative}.card-schedule[color=primary][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-primary)}.card-schedule[color=success][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-success)}.card-schedule[color=warning][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-warning)}.card-schedule[color=danger][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-danger)}.card-schedule[color=medium][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-medium)}.card-schedule[_ngcontent-%COMP%]:before{content:"";padding-left:1rem;background-color:var(--line-color);position:absolute;top:0;left:-3px;bottom:0;border-radius:1rem 0 0 1rem}.card-schedule[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast);border-radius:1rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 2px #0006}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-.5rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background-color:var(--ion-color-medium);color:var(--ion-color-medium-contrast);border-radius:50%;font-size:.75rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-.5rem}ion-chip[_ngcontent-%COMP%]{flex:none}ion-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:nowrap}']}),s})();var V=m(7103),N=m(197);const B=(l,s)=>{var i=document.createElement("input");i.type="file",i.accept=l.accept,i.multiple=!!l.multiple,i.style.display="none",i.style.visibility="hidden",i.addEventListener("change",e=>{var n;e.preventDefault();let o=(null===(n=e.target)||void 0===n?void 0:n.files)||[];o.length>0&&s(o),document.body.removeChild(i)}),document.body.appendChild(i),i.click()},bt=l=>({$implicit:l});function Ft(l,s){1&l&&(t.j41(0,"div",4)(1,"div",7)(2,"div")(3,"div",8),t.nrm(4,"ion-img",9),t.k0s(),t.j41(5,"div",10),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()),2&l&&(t.R7$(6),t.JRh(t.bMT(7,1,"DataNotFound")))}function kt(l,s){if(1&l&&(t.j41(0,"div",11),t.eu8(1,12),t.k0s()),2&l){const i=s.$implicit;t.XpG(2);const e=t.sdS(9);t.R7$(),t.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",t.eq3(2,bt,i))}}function jt(l,s){if(1&l&&t.Z7z(0,kt,2,4,"div",11,t.fX1),2&l){const i=t.XpG();t.Dyx(i.listData)}}function Mt(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-footer",5)(1,"ion-toolbar")(2,"ion-button",13),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.addDocument())}),t.j41(3,"ion-label"),t.EFF(4,"Th\xeam t\xe0i li\u1ec7u"),t.k0s()()()()}}function xt(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",14)(1,"div",15)(2,"h4",11),t.EFF(3,"X\xf3a t\xe0i li\u1ec7u"),t.k0s(),t.j41(4,"p",16),t.EFF(5,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a m\u1ee5c n\xe0y?"),t.k0s()(),t.j41(6,"div",17)(7,"div",18)(8,"ion-button",19),t.bIt("click",function(){t.eBV(i),t.XpG();const n=t.sdS(6);return t.Njj(null==n?null:n.dismiss())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",20)(12,"ion-button",21),t.bIt("click",function(){t.eBV(i);const n=t.XpG(),o=t.sdS(6);return t.Njj(n.confirmDelete(o))}),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()}2&l&&(t.R7$(9),t.JRh(t.bMT(10,2,"Cancel")),t.R7$(4),t.JRh(t.bMT(14,4,"Delete")))}function Tt(l,s){1&l&&(t.j41(0,"ion-chip",28)(1,"ion-label"),t.EFF(2,"\u0110\xe3 duy\u1ec7t"),t.k0s()())}function St(l,s){1&l&&(t.j41(0,"ion-chip",30)(1,"ion-label"),t.EFF(2,"Ch\u01b0a duy\u1ec7t"),t.k0s()())}function yt(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",32),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG();return t.Njj(o.confirmDocumentCancel(n.id))}),t.j41(1,"ion-label"),t.EFF(2,"H\u1ee7y x\xe1c nh\u1eadn"),t.k0s()()}}function Rt(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",33),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG();return t.Njj(o.confirmDocumentOk(n.id))}),t.j41(1,"ion-label"),t.EFF(2,"X\xe1c nh\u1eadn"),t.k0s()()}}function $t(l,s){if(1&l&&t.DNE(0,yt,3,0,"ion-button",31)(1,Rt,3,0),2&l){const i=t.XpG().$implicit;t.vxM(0,i.status?0:1)}}function Pt(l,s){}function It(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",34),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG(),r=t.sdS(6);return o.selectedId=n.id,t.Njj(null==r?null:r.present())}),t.j41(1,"ion-label"),t.EFF(2,"X\xf3a"),t.k0s()()}}function At(l,s){if(1&l&&t.DNE(0,Pt,0,0)(1,It,3,0),2&l){const i=t.XpG().$implicit;t.vxM(0,i.status?0:1)}}function Ut(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",22)(1,"div")(2,"div",23)(3,"div",24),t.bIt("click",function(){const n=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.presentModalDocumentDetail(n.fileOriginalName,n.fileType,n.fileUrl))}),t.j41(4,"div",25),t.nrm(5,"ion-icon",26),t.j41(6,"ion-text",27),t.EFF(7),t.k0s()(),t.DNE(8,Tt,3,0,"ion-chip",28)(9,St,3,0),t.k0s()(),t.j41(10,"div",29),t.DNE(11,$t,2,1)(12,At,2,1),t.k0s()()()}if(2&l){const i=s.$implicit,e=t.XpG();t.BMQ("color",e.ColorStatusDocument(i.status)),t.R7$(7),t.JRh(i.title),t.R7$(),t.vxM(8,i.status?8:9),t.R7$(3),t.vxM(11,e.Role.checkRole(e.userRoles,e.Role.APPROVE)?11:-1),t.R7$(),t.vxM(12,e.isAddEdit?12:-1)}}let Gt=(()=>{var l;class s{constructor(e,n,o){this.toastController=e,this.loadingController=n,this.modalController=o,this.listData=[],this.ColorStatusDocument=X.HE,this.Role=F.Xh}ngOnInit(){(0,x.xk)().then(e=>{var n,o,r,d,p,_,g;this.userRoles=e.roles,this.isAddEdit=(null===(n=this.itemData)||void 0===n||null===(n=n.userCreatedBy)||void 0===n?void 0:n.id)==(null===(o=e.data)||void 0===o?void 0:o.id)||(null===(r=this.itemData)||void 0===r||null===(r=r.userChairMan)||void 0===r?void 0:r.id)==(null===(d=e.data)||void 0===d?void 0:d.id)||(null===(p=this.itemData)||void 0===p||null===(p=p.userShareRole)||void 0===p?void 0:p.id)==(null===(_=e.data)||void 0===_?void 0:_.id),this.isAddEdit=this.isAddEdit&&!(null!==(g=this.itemData)&&void 0!==g&&g.isDeleted)}),this.refreshData()}refreshData(){var e=this;return(0,c.A)(function*(){(0,N.j1)({loadingController:e.loadingController,params:{id:e.itemData.id},callback:n=>{null!=n&&n.status?e.listData=(null==n?void 0:n.data)||[]:(0,u.q)(e.toastController,{},n).then(o=>o.present())}})})()}addDocument(){B({accept:".txt,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf,.rar,.zip"},e=>{(0,N.Uf)({loadingController:this.loadingController,params:{scheduleId:this.itemData.id,files:e[0]},callback:o=>{(0,u.q)(this.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&this.refreshData()}})})}confirmDocumentOk(e){var n=this;return(0,c.A)(function*(){(0,N.cg)({loadingController:n.loadingController,params:{id:e},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&n.refreshData()}})})()}confirmDocumentCancel(e){var n=this;return(0,c.A)(function*(){(0,N.Ys)({loadingController:n.loadingController,params:{id:e},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&n.refreshData()}})})()}confirmDelete(e){var n=this;return(0,c.A)(function*(){(0,N.zY)({loadingController:n.loadingController,params:{id:n.selectedId},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&(null==e||e.dismiss(),n.refreshData())}})})()}presentModalDocumentDetail(e,n,o){var r=this;return(0,c.A)(function*(){(yield r.modalController.create({component:V.f,componentProps:{fileName:e,fileType:n,fileUrl:o,scheduleId:r.itemData.id,mod:"document"},breakpoints:[0,.75],initialBreakpoint:.75})).present()})()}}return(l=s).\u0275fac=function(e){return new(e||l)(t.rXU(a.K_),t.rXU(a.Xi),t.rXU(a.W3))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-schedule-document"]],inputs:{itemData:"itemData",listData:"listData"},decls:10,vars:2,consts:[["modalConfirmDelete",""],["templateItem",""],[1,"min-h-100","d-flex","flex-column"],[1,"flex-grow-1","ion-padding","bg-light"],[1,"py-5"],["collapse","fade"],[1,"ion-modal-small"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"mb-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["color","primary","expand","block",3,"click"],[1,"p-4"],[1,"text-center"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["color","primary","fill","outline","expand","block",3,"click"],[1,"col-6","pl-1"],["color","danger","expand","block",3,"click"],[1,"card-document"],[1,"document-item"],[1,"d-flex","align-items-start","justify-content-between","cursor-pointer",3,"click"],[1,"d-flex","align-items-start"],["color","medium","src","../../../../assets/icon/document.svg",1,"fs-20","mr-2"],["color","medium"],["color","success",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],[1,"d-flex","align-items-center","justify-content-end","mt-2"],["color","warning",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],["size","small","color","primary","fill","outline",1,"flex-grow-1"],["size","small","color","primary","fill","outline",1,"flex-grow-1",3,"click"],["size","small","color","primary",1,"flex-grow-1",3,"click"],["size","small","color","danger","fill","outline",1,"min-w-80",3,"click"]],template:function(e,n){1&e&&(t.j41(0,"div",2)(1,"div",3),t.DNE(2,Ft,8,3,"div",4)(3,jt,2,0),t.k0s(),t.DNE(4,Mt,5,0,"ion-footer",5),t.k0s(),t.j41(5,"ion-modal",6,0),t.DNE(7,xt,15,6,"ng-template"),t.k0s(),t.DNE(8,Ut,13,5,"ng-template",null,1,t.C5r)),2&e&&(t.R7$(2),t.vxM(2,n.listData.length?3:2),t.R7$(2),t.vxM(4,n.isAddEdit?4:-1))},dependencies:[T.T3,a.Jm,a.ZB,a.M0,a.iq,a.KW,a.he,a.IO,a.ai,a.Sb,h.D9],styles:['.card-document[_ngcontent-%COMP%]{--line-color: var(--ion-color-primary);position:relative}.card-document[color=primary][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-primary)}.card-document[color=success][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-success)}.card-document[color=warning][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-warning)}.card-document[color=danger][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-danger)}.card-document[color=medium][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-medium)}.card-document[_ngcontent-%COMP%]:before{content:"";padding-left:1rem;background-color:var(--line-color);position:absolute;top:0;left:-3px;bottom:0;border-radius:1rem 0 0 1rem}.card-document[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast);border-radius:1rem}.document-item[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:.5rem;border:1px solid #E6E7EA;background:#f4f4f6}ion-chip[_ngcontent-%COMP%]{flex:none}ion-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:nowrap}']}),s})();var w=m(220),A=m(6932);const Nt=()=>[];function Ot(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",22),t.bIt("click",function(){t.eBV(i);const n=t.XpG().$implicit,o=t.XpG();return t.Njj(o.removeContent(n.id))}),t.nrm(1,"ion-icon",23),t.k0s()}}function Xt(l,s){if(1&l){const i=t.RV6();t.j41(0,"li",10)(1,"div",19)(2,"ion-textarea",20),t.bIt("ionChange",function(n){const o=t.eBV(i).$implicit,r=t.XpG();return t.Njj(r.changeContent(n,o.id))}),t.k0s(),t.DNE(3,Ot,2,0,"ion-button",21),t.k0s()()}if(2&l){let i;const e=s.$implicit,n=t.XpG();t.R7$(2),t.Y8G("value",e.title),t.R7$(),t.vxM(3,(null!==(i=null==n.dataForm.meetingvoted?null:n.dataForm.meetingvoted.length)&&void 0!==i?i:0)>2?3:-1)}}let Vt=(()=>{var l;class s{constructor(e,n,o){this.loadingController=e,this.modalController=n,this.toastController=o,this.dataForm={meetingvoted:[{id:Math.floor(999999*Math.random())},{id:Math.floor(999999*Math.random())}],type:!0}}ngOnInit(){}modalClose(){this.modalController.dismiss()}modalSubmit(){var e;(0,A.Sw)({params:{scheduleId:null===(e=this.itemData)||void 0===e?void 0:e.id,title:this.dataForm.title,type:this.dataForm.type,status:!1,end:!1},callback:n=>{if((0,u.q)(this.toastController,{},n).then(d=>d.present()),null!=n&&n.status){var o,r=[];null===(o=this.dataForm.meetingvoted)||void 0===o||o.forEach(d=>{r.push(new Promise((p,_)=>{(0,w.bj)({params:{title:d.title,voteId:n.data,isCreatedByAd:1},callback:g=>{null!=g&&g.status||(0,u.q)(this.toastController,{},g).then(zn=>zn.present()),p(g)}})}))}),Promise.all(r).then(d=>{this.modalController.dismiss(null==n?void 0:n.data,"success")})}}})}changeTitle(e){var n;this.dataForm.title=null===(n=e.detail.value)||void 0===n?void 0:n.trim()}changeType(e){console.log(e.detail),this.dataForm.type=e.detail.value}changeContent(e,n){var o;null===(o=this.dataForm.meetingvoted)||void 0===o||o.filter(r=>r.id==n).forEach(r=>{var d;r.title=null===(d=e.detail.value)||void 0===d?void 0:d.trim()})}addContent(){this.dataForm.meetingvoted||(this.dataForm.meetingvoted=[]),this.dataForm.meetingvoted.push({id:Math.floor(999999999*Math.random()),isnew:!0})}removeContent(e){var n;this.dataForm.meetingvoted=null===(n=this.dataForm.meetingvoted)||void 0===n?void 0:n.filter(o=>o.id!=e)}}return(l=s).\u0275fac=function(e){return new(e||l)(t.rXU(a.Xi),t.rXU(a.W3),t.rXU(a.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-vote-add"]],inputs:{itemData:"itemData"},decls:46,vars:5,consts:[["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","auto-grow","true","clear-input","true","placeholder","Nh\u1eadp ch\u1ee7 \u0111\u1ec1 bi\u1ec3u quy\u1ebft","minlength","6","maxlength","1000",3,"ionChange","value"],[1,"mt-4"],[1,"m-0"],[1,"mb-3"],["size","small","color","medium","fill","outline","expand","block",1,"ion-no-margin","btn-add-content",3,"click"],["slot","end","name","add-outline"],[1,"fw-600","fs-16","mb-2"],["mode","md",3,"ionChange","value"],["labelPlacement","end",3,"value"],["color","medium",1,"ml-2"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"d-flex","align-items-start"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp n\u1ed9i dung bi\u1ec3u quy\u1ebft","minlength","6","maxlength","1000",1,"flex-grow-1",3,"ionChange","value"],["color","danger",1,"ion-no-margin","btn-remove-content","ml-2"],["color","danger",1,"ion-no-margin","btn-remove-content","ml-2",3,"click"],["src","../../../assets/icon/trash.svg",1,"fs-18"]],template:function(e,n){if(1&e&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"T\u1ea1o bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return n.modalClose()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4)(8,"div")(9,"div",5),t.EFF(10,"Ch\u1ee7 \u0111\u1ec1 bi\u1ec3u quy\u1ebft "),t.j41(11,"ion-text",6),t.EFF(12,"*"),t.k0s()(),t.j41(13,"ion-textarea",7),t.bIt("ionChange",function(r){return n.changeTitle(r)}),t.k0s()(),t.j41(14,"div",8)(15,"div",5),t.EFF(16,"N\u1ed9i dung bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(17,"ul",9),t.Z7z(18,Xt,4,2,"li",10,t.fX1),t.k0s(),t.j41(20,"div")(21,"ion-button",11),t.bIt("click",function(){return n.addContent()}),t.j41(22,"ion-label"),t.EFF(23,"Th\xeam n\u1ed9i dung bi\u1ec3u quy\u1ebft"),t.k0s(),t.nrm(24,"ion-icon",12),t.k0s()()(),t.j41(25,"div",8)(26,"div",13),t.EFF(27,"H\xecnh th\u1ee9c bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(28,"ion-radio-group",14),t.bIt("ionChange",function(r){return n.changeType(r)}),t.j41(29,"div",10)(30,"ion-radio",15)(31,"ion-label"),t.EFF(32,"Ch\u1ecdn m\u1ed9t"),t.k0s(),t.j41(33,"ion-note",16),t.EFF(34,"(Cho ph\xe9p ng\u01b0\u1eddi d\xf9ng ch\u1ec9 ch\u1ecdn m\u1ed9t trong s\u1ed1 c\xe1c l\u1ef1a ch\u1ecdn)"),t.k0s()()(),t.j41(35,"div",10)(36,"ion-radio",15)(37,"ion-label"),t.EFF(38,"Ch\u1ecdn nhi\u1ec1u"),t.k0s(),t.j41(39,"ion-note",16),t.EFF(40,"(Cho ph\xe9p ng\u01b0\u1eddi d\xf9ng ch\u1ecdn m\u1ed9t ho\u1eb7c nhi\u1ec1u tu\u1ef3 ch\u1ecdn trong s\u1ed1 c\xe1c l\u1ef1a ch\u1ecdn)"),t.k0s()()()()()(),t.j41(41,"ion-footer",17)(42,"ion-toolbar")(43,"ion-button",18),t.bIt("click",function(){return n.modalSubmit()}),t.j41(44,"ion-label"),t.EFF(45,"Ho\xe0n t\u1ea5t"),t.k0s()()()()),2&e){let o;t.R7$(13),t.Y8G("value",n.dataForm.title),t.R7$(5),t.Dyx(null!==(o=n.dataForm.meetingvoted)&&void 0!==o?o:t.lJ4(4,Nt)),t.R7$(10),t.Y8G("value",n.dataForm.type),t.R7$(2),t.Y8G("value",!1),t.R7$(6),t.Y8G("value",!0)}},dependencies:[a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.he,a.JI,a.KO,a.f0,a.IO,a.nc,a.BC,a.ai,a.Je,a.Gw],styles:["ion-radio[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-radio[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{white-space:wrap;font-weight:400}ul[_ngcontent-%COMP%]{list-style:none;padding:0}.btn-remove-content[_ngcontent-%COMP%]{--padding-top: 0;--padding-start: 0;--padding-end: 0;--padding-bottom: 0;--border-radius: .5rem;min-width:2.5rem;min-height:2.5rem}.btn-add-content[_ngcontent-%COMP%]{--border-style: dashed}.btn-add-content[_ngcontent-%COMP%]::part(native){border-color:rgba(var(--ion-color-medium-rgb),.4)}"]}),s})();var Bt=m(5811);function wt(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",22),t.bIt("click",function(){t.eBV(i);const n=t.XpG().$implicit,o=t.XpG();return t.Njj(o.removeContent(n.id))}),t.nrm(1,"ion-icon",23),t.k0s()}}function Yt(l,s){if(1&l){const i=t.RV6();t.j41(0,"li",10)(1,"div",19)(2,"ion-textarea",20),t.bIt("ionChange",function(n){const o=t.eBV(i).$implicit,r=t.XpG();return t.Njj(r.changeContent(n,o.id))}),t.k0s(),t.DNE(3,wt,2,0,"ion-button",21),t.k0s()()}if(2&l){let i;const e=s.$implicit,n=t.XpG();t.R7$(2),t.Y8G("value",e.title),t.R7$(),t.vxM(3,(null!==(i=null==n.dataForm.meetingvoted?null:n.dataForm.meetingvoted.length)&&void 0!==i?i:0)>2?3:-1)}}let Jt=(()=>{var l;class s{constructor(e,n,o){this.loadingController=e,this.modalController=n,this.toastController=o,this.dataForm={}}ngOnInit(){this.refreshData()}refreshData(){var e=this;return(0,c.A)(function*(){(0,A.uG)({loadingController:e.loadingController,params:{id:e.id},callback:n=>{null!=n&&n.status?e.dataForm=(null==n?void 0:n.data)||{}:(0,u.q)(e.toastController,{},n).then(o=>o.present())}})})()}modalClose(){this.modalController.dismiss()}modalSubmit(){(0,A.xw)({params:{id:this.dataForm.id,scheduleId:this.dataForm.scheduleId,title:this.dataForm.title,type:this.dataForm.type,status:!1,end:!1},callback:e=>{if((0,u.q)(this.toastController,{},e).then(r=>r.present()),null!=e&&e.status){var n,o=[];null===(n=this.dataForm.meetingvoted)||void 0===n||n.forEach(r=>{o.push(new Promise(r.isnew?(d,p)=>{(0,w.bj)({params:{title:r.title,voteId:this.dataForm.id,isCreatedByAd:1},callback:_=>{null!=_&&_.status||(0,u.q)(this.toastController,{},_).then(g=>g.present()),d(_)}})}:r.isdelete?(d,p)=>{(0,w.q5)({params:{id:r.id},callback:_=>{null!=_&&_.status||(0,u.q)(this.toastController,{},_).then(g=>g.present()),d(_)}})}:(d,p)=>{(0,w.nz)({params:{id:r.id,title:r.title,voteId:r.voteId},callback:_=>{null!=_&&_.status||(0,u.q)(this.toastController,{},_).then(g=>g.present()),d(_)}})}))}),Promise.all(o).then(r=>{this.modalController.dismiss(null==e?void 0:e.data,"success")})}}})}changeTitle(e){var n;this.dataForm.title=null===(n=e.detail.value)||void 0===n?void 0:n.trim()}changeType(e){console.log(e.detail),this.dataForm.type=e.detail.value}changeContent(e,n){var o;null===(o=this.dataForm.meetingvoted)||void 0===o||o.filter(r=>r.id==n).forEach(r=>{var d;r.title=null===(d=e.detail.value)||void 0===d?void 0:d.trim()})}get dataMeetingvoted(){var e;return(null!==(e=this.dataForm.meetingvoted)&&void 0!==e?e:[]).filter(n=>!n.isdelete)}addContent(){this.dataForm.meetingvoted||(this.dataForm.meetingvoted=[]),this.dataForm.meetingvoted.push({id:Math.floor(999999999*Math.random()),isnew:!0})}removeContent(e){var n;let o=null===(n=this.dataForm.meetingvoted)||void 0===n?void 0:n.find(d=>d.id==e);if(o)if(o.isnew){var r;this.dataForm.meetingvoted=null===(r=this.dataForm.meetingvoted)||void 0===r?void 0:r.filter(d=>d.id!=e)}else o.isdelete=!0}}return(l=s).\u0275fac=function(e){return new(e||l)(t.rXU(a.Xi),t.rXU(a.W3),t.rXU(a.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-vote-update"]],inputs:{id:"id"},decls:46,vars:4,consts:[["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","auto-grow","true","clear-input","true","placeholder","Nh\u1eadp ch\u1ee7 \u0111\u1ec1 bi\u1ec3u quy\u1ebft","minlength","6","maxlength","1000",3,"ionChange","value"],[1,"mt-4"],[1,"m-0"],[1,"mb-3"],["size","small","color","medium","fill","outline","expand","block",1,"ion-no-margin","btn-add-content",3,"click"],["slot","end","name","add-outline"],[1,"fw-600","fs-16","mb-2"],["mode","md",3,"ionChange","value"],["labelPlacement","end",3,"value"],["color","medium",1,"ml-2"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"d-flex","align-items-start"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp n\u1ed9i dung bi\u1ec3u quy\u1ebft","minlength","6","maxlength","1000",1,"flex-grow-1",3,"ionChange","value"],["color","danger",1,"ion-no-margin","btn-remove-content","ml-2"],["color","danger",1,"ion-no-margin","btn-remove-content","ml-2",3,"click"],["src","../../../assets/icon/trash.svg",1,"fs-18"]],template:function(e,n){1&e&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"C\u1eadp nh\u1eadt bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return n.modalClose()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4)(8,"div")(9,"div",5),t.EFF(10,"Ch\u1ee7 \u0111\u1ec1 bi\u1ec3u quy\u1ebft "),t.j41(11,"ion-text",6),t.EFF(12,"*"),t.k0s()(),t.j41(13,"ion-textarea",7),t.bIt("ionChange",function(r){return n.changeTitle(r)}),t.k0s()(),t.j41(14,"div",8)(15,"div",5),t.EFF(16,"N\u1ed9i dung bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(17,"ul",9),t.Z7z(18,Yt,4,2,"li",10,t.fX1),t.k0s(),t.j41(20,"div")(21,"ion-button",11),t.bIt("click",function(){return n.addContent()}),t.j41(22,"ion-label"),t.EFF(23,"Th\xeam n\u1ed9i dung bi\u1ec3u quy\u1ebft"),t.k0s(),t.nrm(24,"ion-icon",12),t.k0s()()(),t.j41(25,"div",8)(26,"div",13),t.EFF(27,"H\xecnh th\u1ee9c bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(28,"ion-radio-group",14),t.bIt("ionChange",function(r){return n.changeType(r)}),t.j41(29,"div",10)(30,"ion-radio",15)(31,"ion-label"),t.EFF(32,"Ch\u1ecdn m\u1ed9t"),t.k0s(),t.j41(33,"ion-note",16),t.EFF(34,"(Cho ph\xe9p ng\u01b0\u1eddi d\xf9ng ch\u1ec9 ch\u1ecdn m\u1ed9t trong s\u1ed1 c\xe1c l\u1ef1a ch\u1ecdn)"),t.k0s()()(),t.j41(35,"div",10)(36,"ion-radio",15)(37,"ion-label"),t.EFF(38,"Ch\u1ecdn nhi\u1ec1u"),t.k0s(),t.j41(39,"ion-note",16),t.EFF(40,"(Cho ph\xe9p ng\u01b0\u1eddi d\xf9ng ch\u1ecdn m\u1ed9t ho\u1eb7c nhi\u1ec1u tu\u1ef3 ch\u1ecdn trong s\u1ed1 c\xe1c l\u1ef1a ch\u1ecdn)"),t.k0s()()()()()(),t.j41(41,"ion-footer",17)(42,"ion-toolbar")(43,"ion-button",18),t.bIt("click",function(){return n.modalSubmit()}),t.j41(44,"ion-label"),t.EFF(45,"Ho\xe0n t\u1ea5t"),t.k0s()()()()),2&e&&(t.R7$(13),t.Y8G("value",n.dataForm.title),t.R7$(5),t.Dyx(n.dataMeetingvoted),t.R7$(10),t.Y8G("value",n.dataForm.type),t.R7$(2),t.Y8G("value",!1),t.R7$(6),t.Y8G("value",!0))},dependencies:[a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.he,a.JI,a.KO,a.f0,a.IO,a.nc,a.BC,a.ai,a.Je,a.Gw],styles:["ion-radio[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-radio[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{white-space:wrap;font-weight:400}ul[_ngcontent-%COMP%]{list-style:none;padding:0}.btn-remove-content[_ngcontent-%COMP%]{--padding-top: 0;--padding-start: 0;--padding-end: 0;--padding-bottom: 0;--border-radius: .5rem;min-width:2.5rem;min-height:2.5rem}.btn-add-content[_ngcontent-%COMP%]{--border-style: dashed}.btn-add-content[_ngcontent-%COMP%]::part(native){border-color:rgba(var(--ion-color-medium-rgb),.4)}"]}),s})();const Lt=l=>({$implicit:l}),zt=()=>[];function Wt(l,s){1&l&&(t.j41(0,"div",4)(1,"div",7)(2,"div")(3,"div",8),t.nrm(4,"ion-img",9),t.k0s(),t.j41(5,"div",10),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()),2&l&&(t.R7$(6),t.JRh(t.bMT(7,1,"DataNotFound")))}function Ht(l,s){if(1&l&&(t.j41(0,"div",11),t.eu8(1,12),t.k0s()),2&l){const i=s.$implicit;t.XpG(2);const e=t.sdS(9);t.R7$(),t.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",t.eq3(2,Lt,i))}}function Kt(l,s){if(1&l&&t.Z7z(0,Ht,2,4,"div",11,t.fX1),2&l){const i=t.XpG();t.Dyx(i.listData)}}function qt(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-footer",5)(1,"ion-toolbar")(2,"ion-button",13),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.presentModalVoteAdd())}),t.j41(3,"ion-label"),t.EFF(4,"T\u1ea1o bi\u1ec3u quy\u1ebft"),t.k0s()()()()}}function Qt(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",14)(1,"div",15)(2,"h4",11),t.EFF(3,"X\xf3a bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(4,"p",16),t.EFF(5,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a m\u1ee5c n\xe0y?"),t.k0s()(),t.j41(6,"div",17)(7,"div",18)(8,"ion-button",19),t.bIt("click",function(){t.eBV(i),t.XpG();const n=t.sdS(6);return t.Njj(null==n?null:n.dismiss())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",20)(12,"ion-button",21),t.bIt("click",function(){t.eBV(i);const n=t.XpG(),o=t.sdS(6);return t.Njj(n.confirmDelete(o))}),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()}2&l&&(t.R7$(9),t.JRh(t.bMT(10,2,"Cancel")),t.R7$(4),t.JRh(t.bMT(14,4,"Delete")))}function Zt(l,s){1&l&&(t.j41(0,"ion-chip",25)(1,"ion-label"),t.EFF(2,"\u0110\xe3 duy\u1ec7t"),t.k0s()())}function tn(l,s){1&l&&(t.j41(0,"ion-chip",30)(1,"ion-label"),t.EFF(2,"Ch\u01b0a duy\u1ec7t"),t.k0s()())}function nn(l,s){if(1&l&&(t.j41(0,"li",11),t.nrm(1,"ion-note",31),t.k0s()),2&l){const i=s.$implicit;t.R7$(),t.Y8G("innerHTML",i.title,t.npT)}}function en(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",33),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG();return t.Njj(o.confirmVoteCancel(n.id))}),t.j41(1,"ion-label"),t.EFF(2,"H\u1ee7y x\xe1c nh\u1eadn"),t.k0s()()}}function on(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",34),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG();return t.Njj(o.confirmVoteOk(n.id))}),t.j41(1,"ion-label"),t.EFF(2,"X\xe1c nh\u1eadn"),t.k0s()()}}function ln(l,s){if(1&l&&t.DNE(0,en,3,0,"ion-button",32)(1,on,3,0),2&l){const i=t.XpG().$implicit;t.vxM(0,i.status?0:1)}}function an(l,s){}function rn(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",35),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG();return t.Njj(o.presentModalVoteUpdate(n.id))}),t.j41(1,"ion-label"),t.EFF(2,"Ch\u1ec9nh s\u1eeda"),t.k0s()(),t.j41(3,"ion-button",36),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG(),r=t.sdS(6);return o.selectedId=n.id,t.Njj(null==r?null:r.present())}),t.j41(4,"ion-label"),t.EFF(5,"X\xf3a"),t.k0s()()}}function sn(l,s){if(1&l&&t.DNE(0,an,0,0)(1,rn,6,0),2&l){const i=t.XpG().$implicit;t.vxM(0,i.status?0:1)}}function cn(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",22)(1,"div")(2,"div",23),t.bIt("click",function(){const n=t.eBV(i).$implicit,o=t.XpG();return t.Njj(o.presentModalVoteDetail(n.id))}),t.j41(3,"div",24)(4,"div")(5,"b"),t.EFF(6),t.k0s()(),t.DNE(7,Zt,3,0,"ion-chip",25)(8,tn,3,0),t.k0s(),t.j41(9,"div",26)(10,"ul",27),t.Z7z(11,nn,2,1,"li",11,t.fX1),t.k0s()()(),t.nrm(13,"hr",28),t.j41(14,"div",29),t.DNE(15,ln,2,1)(16,sn,2,1),t.k0s()()()}if(2&l){const i=s.$implicit,e=t.XpG();t.BMQ("color",e.ColorStatusVote(i.status)),t.R7$(6),t.JRh(i.title),t.R7$(),t.vxM(7,i.status?7:8),t.R7$(4),t.Dyx(i.meetingvoted||t.lJ4(5,zt)),t.R7$(4),t.vxM(15,e.Role.checkRole(e.userRoles,e.Role.APPROVE)?15:-1),t.R7$(),t.vxM(16,e.isAddEdit?16:-1)}}let dn=(()=>{var l;class s{constructor(e,n,o){this.modalController=e,this.toastController=n,this.loadingController=o,this.listData=[],this.ColorStatusVote=X.go,this.Role=F.Xh}ngOnInit(){(0,x.xk)().then(e=>{var n,o,r,d,p,_,g;this.userRoles=e.roles,this.isAddEdit=(null===(n=this.itemData)||void 0===n||null===(n=n.userCreatedBy)||void 0===n?void 0:n.id)==(null===(o=e.data)||void 0===o?void 0:o.id)||(null===(r=this.itemData)||void 0===r||null===(r=r.userChairMan)||void 0===r?void 0:r.id)==(null===(d=e.data)||void 0===d?void 0:d.id)||(null===(p=this.itemData)||void 0===p||null===(p=p.userShareRole)||void 0===p?void 0:p.id)==(null===(_=e.data)||void 0===_?void 0:_.id),this.isAddEdit=this.isAddEdit&&!(null!==(g=this.itemData)&&void 0!==g&&g.isDeleted)}),this.refreshData()}refreshData(){var e=this;return(0,c.A)(function*(){(0,A.WW)({loadingController:e.loadingController,params:{id:e.itemData.id},callback:n=>{null!=n&&n.status?e.listData=(null==n?void 0:n.data)||[]:(0,u.q)(e.toastController,{},n).then(o=>o.present())}})})()}confirmVoteOk(e){var n=this;return(0,c.A)(function*(){(0,A.zs)({loadingController:n.loadingController,params:{id:e},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&n.refreshData()}})})()}confirmVoteCancel(e){var n=this;return(0,c.A)(function*(){(0,A.zD)({loadingController:n.loadingController,params:{id:e},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&n.refreshData()}})})()}confirmDelete(e){var n=this;return(0,c.A)(function*(){(0,A.AE)({loadingController:n.loadingController,params:{id:n.selectedId},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&(null==e||e.dismiss(),n.refreshData())}})})()}presentModalVoteAdd(){var e=this;return(0,c.A)(function*(){const n=yield e.modalController.create({component:Vt,componentProps:{itemData:e.itemData}});n.onDidDismiss().then(o=>{"success"==o.role&&e.refreshData()}),n.present()})()}presentModalVoteUpdate(e){var n=this;return(0,c.A)(function*(){if(!e)return;const o=yield n.modalController.create({component:Jt,componentProps:{id:e}});o.onDidDismiss().then(r=>{"success"==r.role&&n.refreshData()}),o.present()})()}presentModalVoteDetail(e){var n=this;return(0,c.A)(function*(){e&&(yield n.modalController.create({component:Bt.Q,componentProps:{id:e}})).present()})()}}return(l=s).\u0275fac=function(e){return new(e||l)(t.rXU(a.W3),t.rXU(a.K_),t.rXU(a.Xi))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-schedule-vote"]],inputs:{itemData:"itemData",listData:"listData"},decls:10,vars:2,consts:[["modalConfirmDelete",""],["templateItem",""],[1,"min-h-100","d-flex","flex-column"],[1,"flex-grow-1","ion-padding","bg-light"],[1,"py-5"],["collapse","fade"],[1,"ion-modal-small"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"mb-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["color","primary","expand","block",3,"click"],[1,"p-4"],[1,"text-center"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["color","primary","fill","outline","expand","block",3,"click"],[1,"col-6","pl-1"],["color","danger","expand","block",3,"click"],[1,"card-vote"],[1,"cursor-pointer",3,"click"],[1,"d-flex","align-items-start","justify-content-between"],["color","success",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],[1,"mt-2"],[1,"my-0"],[1,"border-top","mt-3","mb-2"],[1,"d-flex","align-items-center","justify-content-end","mt-2"],["color","warning",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],["color","medium",1,"text-wrap",3,"innerHTML"],["size","small","color","primary","fill","outline",1,"flex-grow-1"],["size","small","color","primary","fill","outline",1,"flex-grow-1",3,"click"],["size","small","color","primary",1,"flex-grow-1",3,"click"],["size","small","color","medium","fill","outline",1,"min-w-120",3,"click"],["size","small","color","danger","fill","outline",1,"min-w-80",3,"click"]],template:function(e,n){1&e&&(t.j41(0,"div",2)(1,"div",3),t.DNE(2,Wt,8,3,"div",4)(3,Kt,2,0),t.k0s(),t.DNE(4,qt,5,0,"ion-footer",5),t.k0s(),t.j41(5,"ion-modal",6,0),t.DNE(7,Qt,15,6,"ng-template"),t.k0s(),t.DNE(8,cn,17,6,"ng-template",null,1,t.C5r)),2&e&&(t.R7$(2),t.vxM(2,n.listData.length?3:2),t.R7$(2),t.vxM(4,n.isAddEdit?4:-1))},dependencies:[T.T3,a.Jm,a.ZB,a.M0,a.KW,a.he,a.JI,a.ai,a.Sb,h.D9],styles:['.card-vote[_ngcontent-%COMP%]{--line-color: var(--ion-color-primary);position:relative}.card-vote[color=primary][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-primary)}.card-vote[color=success][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-success)}.card-vote[color=warning][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-warning)}.card-vote[color=danger][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-danger)}.card-vote[color=medium][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-medium)}.card-vote[_ngcontent-%COMP%]:before{content:"";padding-left:1rem;background-color:var(--line-color);position:absolute;top:0;left:-3px;bottom:0;border-radius:1rem 0 0 1rem}.card-vote[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast);border-radius:1rem}.card-vote[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:decimal;padding:0 0 0 1rem}ion-chip[_ngcontent-%COMP%]{flex:none}ion-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:nowrap}']}),s})();var R=m(6308);function un(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",14),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.presentModalDocumentDetail())}),t.j41(1,"div",15)(2,"div",16),t.nrm(3,"ion-icon",17),t.j41(4,"ion-text",18),t.EFF(5),t.k0s()(),t.j41(6,"ion-button",19),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.removeDocument())}),t.nrm(7,"ion-icon",20),t.k0s()()()}if(2&l){const i=t.XpG();t.R7$(5),t.JRh(i.dataForm.fileOriginalName)}}function mn(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",21),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.addDocument())}),t.j41(1,"ion-label"),t.EFF(2,"Ch\u1ecdn t\u1eadp tin"),t.k0s(),t.nrm(3,"ion-icon",22),t.k0s()}}let _n=(()=>{var l;class s{constructor(e,n,o){this.loadingController=e,this.modalController=n,this.toastController=o,this.dataForm={}}ngOnInit(){}modalClose(){this.modalController.dismiss()}modalSubmit(){(0,R.C_)({params:Object.assign(this.dataForm,{scheduleId:this.scheduleId,status:!1}),callback:e=>{(0,u.q)(this.toastController,{},e).then(n=>n.present()),null!=e&&e.status&&this.modalController.dismiss(null==e?void 0:e.data,"success")}})}changeTitle(e){var n;this.dataForm.title=null===(n=e.detail.value)||void 0===n?void 0:n.trim()}changeContent(e){var n;this.dataForm.content=null===(n=e.detail.value)||void 0===n?void 0:n.trim()}removeDocument(){this.dataForm.fileUrl=null,this.dataForm.fileOriginalName=null,this.dataForm.fileSystemName=null,this.dataForm.fileType=null,this.dataForm.fileSize=null}addDocument(){B({accept:".txt,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf"},e=>{(0,R.rk)({loadingController:this.loadingController,params:{scheduleId:this.dataForm.id,file:e[0]},callback:o=>{if(null!=o&&o.status){var r=o.data;r&&(this.dataForm.fileUrl=r.fileUrl,this.dataForm.fileOriginalName=r.fileName,this.dataForm.fileSystemName=null,this.dataForm.fileType=r.contentType,this.dataForm.fileSize=r.fileSize)}else(0,u.q)(this.toastController,{},o).then(d=>d.present())}})})}presentModalDocumentDetail(){var e=this;return(0,c.A)(function*(){(yield e.modalController.create({component:V.f,componentProps:{fileName:e.dataForm.fileOriginalName,fileType:e.dataForm.fileType,fileUrl:e.dataForm.fileUrl,scheduleId:e.dataForm.id,mod:"conslusion"},breakpoints:[0,.75],initialBreakpoint:.75})).present()})()}}return(l=s).\u0275fac=function(e){return new(e||l)(t.rXU(a.Xi),t.rXU(a.W3),t.rXU(a.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-conslusion-add"]],inputs:{scheduleId:"scheduleId"},decls:30,vars:3,consts:[["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp ti\xeau \u0111\u1ec1","minlength","6","maxlength","1000",3,"ionChange","value"],[1,"mt-4"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp n\u1ed9i dung","minlength","6","maxlength","10000",3,"ionChange","value"],[1,"fs-12","mb-1"],[1,"document-item","cursor-pointer"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"document-item","cursor-pointer",3,"click"],[1,"d-flex","align-items-start","justify-content-between"],[1,"d-flex","align-items-start"],["color","medium","src","../../../../assets/icon/document.svg",1,"fs-20","mr-2"],["color","medium"],["color","danger","fill","clear",1,"ion-no-margin","btn-remove-content","ml-2",3,"click"],["name","close-outline",1,"fs-20"],["size","small","color","medium","fill","outline","expand","block",1,"ion-no-margin","btn-upload",3,"click"],["slot","end","name","cloud-upload-outline",1,"fs-18"]],template:function(e,n){1&e&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"Th\xeam k\u1ebft lu\u1eadn cu\u1ed9c h\u1ecdp"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return n.modalClose()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4)(8,"div")(9,"div",5),t.EFF(10,"Ti\xeau \u0111\u1ec1 "),t.j41(11,"ion-text",6),t.EFF(12,"*"),t.k0s()(),t.j41(13,"ion-textarea",7),t.bIt("ionChange",function(r){return n.changeTitle(r)}),t.k0s()(),t.j41(14,"div",8)(15,"div",5),t.EFF(16,"N\u1ed9i dung "),t.j41(17,"ion-text",6),t.EFF(18,"*"),t.k0s()(),t.j41(19,"ion-textarea",9),t.bIt("ionChange",function(r){return n.changeContent(r)}),t.k0s()(),t.j41(20,"div",8)(21,"div",10),t.EFF(22,"T\u1ec7p \u0111\xednh k\xe8m"),t.k0s(),t.DNE(23,un,8,1,"div",11)(24,mn,4,0),t.k0s()(),t.j41(25,"ion-footer",12)(26,"ion-toolbar")(27,"ion-button",13),t.bIt("click",function(){return n.modalSubmit()}),t.j41(28,"ion-label"),t.EFF(29,"Ho\xe0n t\u1ea5t"),t.k0s()()()()),2&e&&(t.R7$(13),t.Y8G("value",n.dataForm.title),t.R7$(6),t.Y8G("value",n.dataForm.content),t.R7$(4),t.vxM(23,n.dataForm.fileUrl?23:24))},dependencies:[a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.he,a.IO,a.nc,a.BC,a.ai,a.Gw],styles:[".btn-upload[_ngcontent-%COMP%]{--border-style: dashed}.btn-upload[_ngcontent-%COMP%]::part(native){border-color:rgba(var(--ion-color-medium-rgb),.4)}.document-item[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:.5rem;border:1px solid #E6E7EA;background:#f4f4f6}.btn-remove-content[_ngcontent-%COMP%]{--padding-top: 0;--padding-start: 0;--padding-end: 0;--padding-bottom: 0;--border-radius: .5rem;margin:0;min-width:1.25rem;min-height:1.25rem}"]}),s})();function pn(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",14),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2);return t.Njj(n.presentModalDocumentDetail())}),t.j41(1,"div",15)(2,"div",16),t.nrm(3,"ion-icon",17),t.j41(4,"ion-text",18),t.EFF(5),t.k0s()(),t.j41(6,"ion-button",19),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2);return t.Njj(n.removeDocument())}),t.nrm(7,"ion-icon",20),t.k0s()()()}if(2&l){const i=t.XpG(2);t.R7$(5),t.JRh(i.itemData.fileOriginalName)}}function hn(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",21),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2);return t.Njj(n.addDocument())}),t.j41(1,"ion-label"),t.EFF(2,"Ch\u1ecdn t\u1eadp tin"),t.k0s(),t.nrm(3,"ion-icon",22),t.k0s()}}function Cn(l,s){if(1&l){const i=t.RV6();t.j41(0,"div")(1,"div",7),t.EFF(2,"Ti\xeau \u0111\u1ec1 "),t.j41(3,"ion-text",8),t.EFF(4,"*"),t.k0s()(),t.j41(5,"ion-textarea",9),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changeTitle(n))}),t.k0s()(),t.j41(6,"div",10)(7,"div",7),t.EFF(8,"N\u1ed9i dung "),t.j41(9,"ion-text",8),t.EFF(10,"*"),t.k0s()(),t.j41(11,"ion-textarea",11),t.bIt("ionChange",function(n){t.eBV(i);const o=t.XpG();return t.Njj(o.changeContent(n))}),t.k0s()(),t.j41(12,"div",10)(13,"div",12),t.EFF(14,"T\u1ec7p \u0111\xednh k\xe8m"),t.k0s(),t.DNE(15,pn,8,1,"div",13)(16,hn,4,0),t.k0s()}if(2&l){const i=t.XpG();t.R7$(5),t.Y8G("value",i.itemData.title),t.R7$(6),t.Y8G("value",i.itemData.content),t.R7$(4),t.vxM(15,i.itemData.fileUrl?15:16)}}let fn=(()=>{var l;class s{constructor(e,n,o){this.loadingController=e,this.modalController=n,this.toastController=o}ngOnInit(){this.refreshData()}refreshData(){var e=this;return(0,c.A)(function*(){(0,R.ME)({loadingController:e.loadingController,params:{id:e.id},callback:n=>{null!=n&&n.status?e.itemData=(null==n?void 0:n.data)||{}:(0,u.q)(e.toastController,{},n).then(o=>o.present())}})})()}modalClose(){this.modalController.dismiss()}modalSubmit(){(0,R.Tv)({params:Object.assign(this.itemData,{status:1}),callback:e=>{(0,u.q)(this.toastController,{},e).then(n=>n.present()),null!=e&&e.status&&this.modalController.dismiss(null==e?void 0:e.data,"success")}})}changeTitle(e){var n;this.itemData.title=null===(n=e.detail.value)||void 0===n?void 0:n.trim()}changeContent(e){var n;this.itemData.content=null===(n=e.detail.value)||void 0===n?void 0:n.trim()}removeDocument(){this.itemData.fileUrl=null,this.itemData.fileOriginalName=null,this.itemData.fileSystemName=null,this.itemData.fileType=null,this.itemData.fileSize=null}addDocument(){B({accept:".txt,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf"},e=>{(0,R.rk)({loadingController:this.loadingController,params:{scheduleId:this.itemData.id,file:e[0]},callback:o=>{if(null!=o&&o.status){var r=o.data;r&&(this.itemData.fileUrl=r.fileUrl,this.itemData.fileOriginalName=r.fileName,this.itemData.fileSystemName=null,this.itemData.fileType=r.contentType,this.itemData.fileSize=r.fileSize)}else(0,u.q)(this.toastController,{},o).then(d=>d.present())}})})}presentModalDocumentDetail(){var e=this;return(0,c.A)(function*(){(yield e.modalController.create({component:V.f,componentProps:{fileName:e.itemData.fileOriginalName,fileType:e.itemData.fileType,fileUrl:e.itemData.fileUrl,scheduleId:e.itemData.id,mod:"conslusion"},breakpoints:[0,.75],initialBreakpoint:.75})).present()})()}}return(l=s).\u0275fac=function(e){return new(e||l)(t.rXU(a.Xi),t.rXU(a.W3),t.rXU(a.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-conslusion-update"]],inputs:{id:"id"},decls:14,vars:1,consts:[["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp ti\xeau \u0111\u1ec1","minlength","6","maxlength","1000",3,"ionChange","value"],[1,"mt-4"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp n\u1ed9i dung","minlength","6","maxlength","10000",3,"ionChange","value"],[1,"fs-12","mb-1"],[1,"document-item","cursor-pointer"],[1,"document-item","cursor-pointer",3,"click"],[1,"d-flex","align-items-start","justify-content-between"],[1,"d-flex","align-items-start"],["color","medium","src","../../../../assets/icon/document.svg",1,"fs-20","mr-2"],["color","medium"],["color","danger","fill","clear",1,"ion-no-margin","btn-remove-content","ml-2",3,"click"],["name","close-outline",1,"fs-20"],["size","small","color","medium","fill","outline","expand","block",1,"ion-no-margin","btn-upload",3,"click"],["slot","end","name","cloud-upload-outline",1,"fs-18"]],template:function(e,n){1&e&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"C\u1eadp nh\u1eadt k\u1ebft lu\u1eadn"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return n.modalClose()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4),t.DNE(8,Cn,17,3),t.k0s(),t.j41(9,"ion-footer",5)(10,"ion-toolbar")(11,"ion-button",6),t.bIt("click",function(){return n.modalSubmit()}),t.j41(12,"ion-label"),t.EFF(13,"Ho\xe0n t\u1ea5t"),t.k0s()()()()),2&e&&(t.R7$(8),t.vxM(8,n.itemData?8:-1))},dependencies:[a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.he,a.IO,a.nc,a.BC,a.ai,a.Gw],styles:[".btn-upload[_ngcontent-%COMP%]{--border-style: dashed}.btn-upload[_ngcontent-%COMP%]::part(native){border-color:rgba(var(--ion-color-medium-rgb),.4)}.document-item[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:.5rem;border:1px solid #E6E7EA;background:#f4f4f6}.btn-remove-content[_ngcontent-%COMP%]{--padding-top: 0;--padding-start: 0;--padding-end: 0;--padding-bottom: 0;--border-radius: .5rem;margin:0;min-width:1.25rem;min-height:1.25rem}"]}),s})();const vn=l=>({$implicit:l});function gn(l,s){1&l&&(t.j41(0,"div",4)(1,"div",7)(2,"div")(3,"div",8),t.nrm(4,"ion-img",9),t.k0s(),t.j41(5,"div",10),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()),2&l&&(t.R7$(6),t.JRh(t.bMT(7,1,"DataNotFound")))}function En(l,s){if(1&l&&(t.j41(0,"div",11),t.eu8(1,12),t.k0s()),2&l){const i=s.$implicit;t.XpG(2);const e=t.sdS(9);t.R7$(),t.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",t.eq3(2,vn,i))}}function Dn(l,s){if(1&l&&t.Z7z(0,En,2,4,"div",11,t.fX1),2&l){const i=t.XpG();t.Dyx(i.listData)}}function bn(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-footer",5)(1,"ion-toolbar")(2,"div",13)(3,"ion-button",14),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.addDocument())}),t.j41(4,"ion-label"),t.EFF(5,"Th\xeam t\xe0i li\u1ec7u"),t.k0s()(),t.j41(6,"ion-button",15),t.bIt("click",function(){t.eBV(i);const n=t.XpG();return t.Njj(n.presentModalConslusionAdd())}),t.j41(7,"ion-label"),t.EFF(8,"Th\xeam k\u1ebft lu\u1eadn"),t.k0s()()()()()}}function Fn(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",16)(1,"div",17)(2,"h4",11),t.EFF(3,"X\xf3a k\u1ebft lu\u1eadn cu\u1ed9c h\u1ecdp"),t.k0s(),t.j41(4,"p",18),t.EFF(5,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a m\u1ee5c n\xe0y?"),t.k0s()(),t.j41(6,"div",19)(7,"div",20)(8,"ion-button",21),t.bIt("click",function(){t.eBV(i),t.XpG();const n=t.sdS(6);return t.Njj(null==n?null:n.dismiss())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",22)(12,"ion-button",23),t.bIt("click",function(){t.eBV(i);const n=t.XpG(),o=t.sdS(6);return t.Njj(n.confirmDelete(o))}),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()}2&l&&(t.R7$(9),t.JRh(t.bMT(10,2,"Cancel")),t.R7$(4),t.JRh(t.bMT(14,4,"Delete")))}function kn(l,s){1&l&&(t.j41(0,"ion-chip",27)(1,"ion-label"),t.EFF(2,"\u0110\xe3 duy\u1ec7t"),t.k0s()())}function jn(l,s){1&l&&(t.j41(0,"ion-chip",30)(1,"ion-label"),t.EFF(2,"H\u1ee7y duy\u1ec7t"),t.k0s()())}function Mn(l,s){1&l&&(t.j41(0,"ion-chip",31)(1,"ion-label"),t.EFF(2,"Ch\u01b0a duy\u1ec7t"),t.k0s()())}function xn(l,s){if(1&l&&(t.j41(0,"div",28)(1,"b"),t.EFF(2,"N\u1ed9i dung:"),t.k0s(),t.j41(3,"div",32),t.nrm(4,"ion-note",33),t.k0s()()),2&l){const i=t.XpG().$implicit;t.R7$(4),t.Y8G("innerHTML",i.content,t.npT)}}function Tn(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",28)(1,"div",34),t.EFF(2,"T\u1ec7p \u0111\xednh k\xe8m:"),t.k0s(),t.j41(3,"div",35),t.bIt("click",function(){t.eBV(i);const n=t.XpG().$implicit,o=t.XpG();return t.Njj(o.presentModalDocumentDetail(n.fileOriginalName,n.fileType,n.fileUrl))}),t.j41(4,"div",36)(5,"div",37),t.nrm(6,"ion-icon",38),t.j41(7,"ion-text",39),t.EFF(8),t.k0s()()()()()}if(2&l){const i=t.XpG().$implicit;t.R7$(8),t.JRh(i.fileOriginalName)}}function Sn(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",41),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG();return t.Njj(o.confirmConslusionCancel(n.id))}),t.j41(1,"ion-label"),t.EFF(2,"H\u1ee7y x\xe1c nh\u1eadn"),t.k0s()()}}function yn(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",42),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG();return t.Njj(o.confirmConslusionOk(n.id))}),t.j41(1,"ion-label"),t.EFF(2,"X\xe1c nh\u1eadn"),t.k0s()()}}function Rn(l,s){if(1&l&&t.DNE(0,Sn,3,0,"ion-button",40)(1,yn,3,0),2&l){const i=t.XpG().$implicit,e=t.XpG();t.vxM(0,i.status==e.StatusConslusion.DADUYET?0:1)}}function $n(l,s){}function Pn(l,s){if(1&l){const i=t.RV6();t.j41(0,"ion-button",43),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG();return t.Njj(o.presentModalConslusionUpdate(n.id))}),t.j41(1,"ion-label"),t.EFF(2,"Ch\u1ec9nh s\u1eeda"),t.k0s()(),t.j41(3,"ion-button",44),t.bIt("click",function(){t.eBV(i);const n=t.XpG(2).$implicit,o=t.XpG(),r=t.sdS(6);return o.selectedId=n.id,t.Njj(null==r?null:r.present())}),t.j41(4,"ion-label"),t.EFF(5,"X\xf3a"),t.k0s()()}}function In(l,s){if(1&l&&t.DNE(0,$n,0,0)(1,Pn,6,0),2&l){const i=t.XpG().$implicit,e=t.XpG();t.vxM(0,i.status==e.StatusConslusion.DADUYET?0:1)}}function An(l,s){if(1&l&&(t.j41(0,"div",24)(1,"div")(2,"div",25)(3,"h5",26),t.EFF(4),t.k0s(),t.DNE(5,kn,3,0,"ion-chip",27)(6,jn,3,0)(7,Mn,3,0),t.k0s(),t.DNE(8,xn,5,1,"div",28)(9,Tn,9,1,"div",28),t.j41(10,"div",29),t.DNE(11,Rn,2,1)(12,In,2,1),t.k0s()()()),2&l){const i=s.$implicit,e=t.XpG();t.BMQ("color",e.ColorStatusConslusion(i.status)),t.R7$(4),t.JRh(i.title),t.R7$(),t.vxM(5,2==i.status?5:3==i.status?6:7),t.R7$(3),t.vxM(8,i.content?8:-1),t.R7$(),t.vxM(9,i.fileUrl?9:-1),t.R7$(2),t.vxM(11,e.Role.checkRole(e.userRoles,e.Role.APPROVE)?11:-1),t.R7$(),t.vxM(12,e.isAddEdit?12:-1)}}let Un=(()=>{var l;class s{constructor(e,n,o){this.modalController=e,this.toastController=n,this.loadingController=o,this.listData=[],this.StatusConslusion=F.yk,this.ColorStatusConslusion=X.rb,this.Role=F.Xh}ngOnInit(){(0,x.xk)().then(e=>{var n,o,r,d,p,_,g;this.userRoles=e.roles,this.isAddEdit=(null===(n=this.itemData)||void 0===n||null===(n=n.userCreatedBy)||void 0===n?void 0:n.id)==(null===(o=e.data)||void 0===o?void 0:o.id)||(null===(r=this.itemData)||void 0===r||null===(r=r.userChairMan)||void 0===r?void 0:r.id)==(null===(d=e.data)||void 0===d?void 0:d.id)||(null===(p=this.itemData)||void 0===p||null===(p=p.userShareRole)||void 0===p?void 0:p.id)==(null===(_=e.data)||void 0===_?void 0:_.id),this.isAddEdit=this.isAddEdit&&!(null!==(g=this.itemData)&&void 0!==g&&g.isDeleted)}),this.refreshData()}refreshData(){var e=this;return(0,c.A)(function*(){(0,R.LM)({loadingController:e.loadingController,params:{id:e.itemData.id,pageNumber:1,pageSize:10},callback:n=>{null!=n&&n.status?(e.listData=(null==n?void 0:n.data)||[],e.listData.forEach(o=>{var r;o.content=null===(r=o.content)||void 0===r?void 0:r.replace(/\n/g,"<br/>")})):(0,u.q)(e.toastController,{},n).then(o=>o.present())}})})()}presentModalConslusionAdd(){var e=this;return(0,c.A)(function*(){const n=yield e.modalController.create({component:_n,componentProps:{scheduleId:e.itemData.id}});n.onDidDismiss().then(o=>{"success"==o.role&&e.refreshData()}),n.present()})()}presentModalConslusionUpdate(e){var n=this;return(0,c.A)(function*(){const o=yield n.modalController.create({component:fn,componentProps:{id:e}});o.onDidDismiss().then(r=>{"success"==r.role&&n.refreshData()}),o.present()})()}addDocument(){B({accept:".txt,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf"},e=>{(0,R.rk)({loadingController:this.loadingController,params:{scheduleId:this.itemData.id,file:e[0]},callback:o=>{if(null!=o&&o.status){var r=o.data;r&&(0,R.C_)({params:{scheduleId:this.itemData.id,title:`T\xe0i li\u1ec7u k\u1ebft lu\u1eadn cu\u1ed9c h\u1ecdp (#${Math.floor(999999*Math.random())})`,fileUrl:r.fileUrl,fileOriginalName:r.fileName,fileType:r.contentType,fileSize:r.fileSize},callback:d=>{(0,u.q)(this.toastController,{},d).then(p=>p.present()),null!=d&&d.status&&this.refreshData()}})}else(0,u.q)(this.toastController,{},o).then(d=>d.present())}})})}confirmConslusionOk(e){var n=this;return(0,c.A)(function*(){(0,R.TK)({loadingController:n.loadingController,params:{id:e},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&n.refreshData()}})})()}confirmConslusionCancel(e){var n=this;return(0,c.A)(function*(){(0,R.lY)({loadingController:n.loadingController,params:{id:e},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&n.refreshData()}})})()}confirmDelete(e){var n=this;return(0,c.A)(function*(){(0,R.M8)({loadingController:n.loadingController,params:{id:n.selectedId},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&(null==e||e.dismiss(),n.refreshData())}})})()}presentModalDocumentDetail(e,n,o){var r=this;return(0,c.A)(function*(){(yield r.modalController.create({component:V.f,componentProps:{fileName:e,fileType:n,fileUrl:o,scheduleId:r.itemData.id,mod:"conslusion"},breakpoints:[0,.75],initialBreakpoint:.75})).present()})()}}return(l=s).\u0275fac=function(e){return new(e||l)(t.rXU(a.W3),t.rXU(a.K_),t.rXU(a.Xi))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-schedule-conslusion"]],inputs:{itemData:"itemData",listData:"listData"},decls:10,vars:2,consts:[["modalConfirmDelete",""],["templateItem",""],[1,"min-h-100","d-flex","flex-column"],[1,"flex-grow-1","ion-padding","bg-light"],[1,"py-5"],["collapse","fade"],[1,"ion-modal-small"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"mb-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex"],["color","primary","fill","outline","expand","block",1,"flex-grow-1",3,"click"],["color","primary","expand","block",1,"flex-grow-1",3,"click"],[1,"p-4"],[1,"text-center"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["color","primary","fill","outline","expand","block",3,"click"],[1,"col-6","pl-1"],["color","danger","expand","block",3,"click"],[1,"card-conslusion"],[1,"d-flex","align-items-start","justify-content-between"],[1,"my-0","fw-700"],["color","success",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],[1,"mt-4"],[1,"d-flex","align-items-center","justify-content-end","mt-2"],["color","danger",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],["color","warning",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],[1,"mt-2"],["color","medium",3,"innerHTML"],[1,"fs-12"],[1,"mt-1","document-item","cursor-pointer",3,"click"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-start","text-truncate"],["color","medium","src","../../../../assets/icon/document.svg",1,"fs-20","mr-2"],["color","medium",1,"text-truncate"],["size","small","color","primary","fill","outline",1,"flex-grow-1"],["size","small","color","primary","fill","outline",1,"flex-grow-1",3,"click"],["size","small","color","primary",1,"flex-grow-1",3,"click"],["size","small","color","medium","fill","outline",1,"min-w-120",3,"click"],["size","small","color","danger","fill","outline",1,"min-w-80",3,"click"]],template:function(e,n){1&e&&(t.j41(0,"div",2)(1,"div",3),t.DNE(2,gn,8,3,"div",4)(3,Dn,2,0),t.k0s(),t.DNE(4,bn,9,0,"ion-footer",5),t.k0s(),t.j41(5,"ion-modal",6,0),t.DNE(7,Fn,15,6,"ng-template"),t.k0s(),t.DNE(8,An,13,7,"ng-template",null,1,t.C5r)),2&e&&(t.R7$(2),t.vxM(2,n.listData.length?3:2),t.R7$(2),t.vxM(4,n.isAddEdit?4:-1))},dependencies:[T.T3,a.Jm,a.ZB,a.M0,a.iq,a.KW,a.he,a.JI,a.IO,a.ai,a.Sb,h.D9],styles:['.card-conslusion[_ngcontent-%COMP%]{--line-color: var(--ion-color-primary);position:relative}.card-conslusion[color=primary][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-primary)}.card-conslusion[color=success][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-success)}.card-conslusion[color=warning][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-warning)}.card-conslusion[color=danger][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-danger)}.card-conslusion[color=medium][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-medium)}.card-conslusion[_ngcontent-%COMP%]:before{content:"";padding-left:1rem;background-color:var(--line-color);position:absolute;top:0;left:-3px;bottom:0;border-radius:1rem 0 0 1rem}.card-conslusion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast);border-radius:1rem}.document-item[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:.5rem;border:1px solid #E6E7EA;background:#f4f4f6}ion-chip[_ngcontent-%COMP%]{flex:none}ion-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:nowrap}']}),s})();const J=()=>[];function Gn(l,s){if(1&l&&t.nrm(0,"app-schedule-info",11),2&l){const i=t.XpG(2);t.Y8G("itemData",i.itemData)}}function Nn(l,s){if(1&l&&t.nrm(0,"app-schedule-document",12),2&l){const i=t.XpG(2);t.Y8G("itemData",i.itemData)("listData",i.itemData.meetingDocument||t.lJ4(2,J))}}function On(l,s){if(1&l&&t.nrm(0,"app-schedule-vote",12),2&l){const i=t.XpG(2);t.Y8G("itemData",i.itemData)("listData",i.itemData.meetingVotes||t.lJ4(2,J))}}function Xn(l,s){if(1&l&&t.nrm(0,"app-schedule-conslusion",12),2&l){const i=t.XpG(2);t.Y8G("itemData",i.itemData)("listData",i.itemData.meetingConslusion||t.lJ4(2,J))}}function Vn(l,s){if(1&l&&t.DNE(0,Gn,1,1)(1,Nn,1,3)(2,On,1,3)(3,Xn,1,3),2&l){let i;const e=t.XpG();t.vxM(0,"info"===(i=e.tabActive)?0:"document"===i?1:"vote"===i?2:"conslusion"===i?3:-1)}}function Bn(l,s){if(1&l){const i=t.RV6();t.j41(0,"div",13)(1,"div",14)(2,"h4",15),t.EFF(3,"X\xf3a l\u1ecbch h\u1ecdp"),t.k0s(),t.j41(4,"p",16),t.EFF(5,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a l\u1ecbch h\u1ecdp n\xe0y?"),t.k0s()(),t.j41(6,"div",17)(7,"div",18)(8,"ion-button",19),t.bIt("click",function(){t.eBV(i),t.XpG();const n=t.sdS(22);return t.Njj(null==n?null:n.dismiss())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",20)(12,"ion-button",21),t.bIt("click",function(){t.eBV(i);const n=t.XpG(),o=t.sdS(22);return t.Njj(n.confirmDelete(o))}),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()}2&l&&(t.R7$(9),t.JRh(t.bMT(10,2,"Cancel")),t.R7$(4),t.JRh(t.bMT(14,4,"Delete")))}const wn=[{path:"",component:(()=>{var l;class s{constructor(e,n,o,r,d){this.activatedRoute=e,this.router=n,this.modalController=o,this.toastController=r,this.loadingController=d,this.APP_ROUTE=O._,this.APP_FUNC_FormatDate=S.Rv,this.APP_FUNC_FormatRoomNumber=S.NY,this.tabActive="info",this.Role=F.Xh;let p=e.snapshot.queryParams.tab;p&&(this.tabActive=p);let _=e.snapshot.params.id;_&&(this.roomId=_,this.refreshData())}ngOnInit(){(0,x.xk)().then(e=>{this.userData=e.data,this.userRoles=e.roles})}refreshData(e){(0,f.vx)({loadingController:this.loadingController,params:{id:this.roomId},callback:n=>{var o,r,d,p,_,g;this.itemData=null==n?void 0:n.data,this.isAddEdit=(null===(o=this.itemData)||void 0===o||null===(o=o.userCreatedBy)||void 0===o?void 0:o.id)==(null===(r=this.userData)||void 0===r?void 0:r.id)||(null===(d=this.itemData)||void 0===d||null===(d=d.userChairMan)||void 0===d?void 0:d.id)==(null===(p=this.userData)||void 0===p?void 0:p.id)||(null===(_=this.itemData)||void 0===_||null===(_=_.userShareRole)||void 0===_?void 0:_.id)==(null===(g=this.userData)||void 0===g?void 0:g.id),e&&e()}})}changeTab(e){var n=this;return(0,c.A)(function*(){n.tabActive=e.detail.value,n.router.navigate([],{relativeTo:n.activatedRoute,queryParams:{tab:n.tabActive},queryParamsHandling:"merge",replaceUrl:!0})})()}navigateByUrl(e){var n=this;return(0,c.A)(function*(){n.router.navigateByUrl(e)})()}changeIsPwd(e){var n=this;return(0,c.A)(function*(){n.isShowPwd=e})()}copyRoomCode(e){var n=this;return(0,c.A)(function*(){n.isCopied=(0,S.k8)(e)})()}confirmDelete(e){var n=this;return(0,c.A)(function*(){(0,f.qC)({loadingController:n.loadingController,params:{id:n.roomId},callback:o=>{(0,u.q)(n.toastController,{},o).then(r=>r.present()),null!=o&&o.status&&(null==e||e.dismiss(),n.router.navigateByUrl(O._.SCHEDULE,{replaceUrl:!0}))}})})()}presentModalScheduleUpdate(){var e=this;return(0,c.A)(function*(){const n=yield e.modalController.create({component:L,componentProps:{itemData:e.itemData}});n.onDidDismiss().then(o=>{"success"==o.role&&e.refreshData()}),n.present()})()}}return(l=s).\u0275fac=function(e){return new(e||l)(t.rXU(j.nX),t.rXU(j.Ix),t.rXU(a.W3),t.rXU(a.K_),t.rXU(a.Xi))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-schedule-detail"]],decls:24,vars:5,consts:[["modalConfirmDelete",""],[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"defaultHref","text"],["mode","md",3,"ionChange","scrollable","value"],["value","info"],["value","document"],["value","vote"],["value","conslusion"],[1,"ion-modal-small"],[3,"itemData"],[3,"itemData","listData"],[1,"p-4"],[1,"text-center"],[1,"mb-2"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["color","primary","fill","outline","expand","block",3,"click"],[1,"col-6","pl-1"],["color","danger","expand","block",3,"click"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),t.nrm(3,"ion-back-button",4),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"Chi ti\u1ebft cu\u1ed9c h\u1ecdp"),t.k0s()(),t.j41(6,"ion-segment",5),t.bIt("ionChange",function(d){return t.eBV(o),t.Njj(n.changeTab(d))}),t.j41(7,"ion-segment-button",6)(8,"ion-label"),t.EFF(9,"Th\xf4ng tin"),t.k0s()(),t.j41(10,"ion-segment-button",7)(11,"ion-label"),t.EFF(12,"T\xe0i li\u1ec7u"),t.k0s()(),t.j41(13,"ion-segment-button",8)(14,"ion-label"),t.EFF(15,"Bi\u1ec3u quy\u1ebft"),t.k0s()(),t.j41(16,"ion-segment-button",9)(17,"ion-label"),t.EFF(18,"K\u1ebft lu\u1eadn"),t.k0s()()()(),t.j41(19,"ion-content"),t.DNE(20,Vn,4,1),t.j41(21,"ion-modal",10,0),t.DNE(23,Bn,15,6,"ng-template"),t.k0s()()}2&e&&(t.R7$(3),t.Y8G("defaultHref","/")("text",""),t.R7$(3),t.Y8G("scrollable",!0)("value",n.tabActive),t.R7$(14),t.vxM(20,n.itemData?20:-1))},dependencies:[a.Jm,a.QW,a.W9,a.eU,a.he,a.Gp,a.eP,a.BC,a.ai,a.Sb,a.Je,a.el,Dt,Gt,dn,Un,h.D9],styles:["ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.875rem;text-transform:initial}"]}),s})()}];let Yn=(()=>{var l;class s{}return(l=s).\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.$C({type:l}),l.\u0275inj=t.G2t({imports:[j.iI.forChild(wn),j.iI]}),s})();var Jn=m(3890);let Ln=(()=>{var l;class s{}return(l=s).\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.$C({type:l}),l.\u0275inj=t.G2t({imports:[T.MD,$.YN,a.bv,Yn,Jn.x]}),s})()},1312:(Y,P,m)=>{m.d(P,{IV:()=>c,NY:()=>E,Rv:()=>a,k8:()=>I});var T=m(7586),$=m.n(T);function a(f,u,S){return S?$()(f||void 0).utcOffset(0,!1).format(null!=u?u:"HH:mm, DD/MM/YYYY"):$()(f||void 0).format(null!=u?u:"HH:mm, DD/MM/YYYY")}const c=f=>(null!=f?f:"0123456789").replace(/^0/,"+84").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,E=f=>(null!=f?f:"123456789").replace(/[^0-9]/,"").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,I=f=>{if(!f)return!1;try{return navigator.clipboard.writeText(f),!0}catch(u){console.error(u)}return!1}}}]);