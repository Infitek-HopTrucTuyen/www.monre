"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2382],{2382:(H,p,c)=>{c.r(p),c.d(p,{SchedulePageModule:()=>V});var f=c(177),v=c(9417),l=c(4742),g=c(2175),m=c(467),_=c(5883),P=c(7586),u=c.n(P),C=c(4934),D=c(6539),F=c(5751),h=c(1312),M=c(8833),e=c(4438),T=c(3803),E=c(4842);const b=n=>({$implicit:n}),j=()=>[],R=()=>[0,1,2];function S(n,r){if(1&n&&(e.j41(0,"div",18),e.EFF(1),e.j41(2,"b"),e.EFF(3),e.k0s(),e.EFF(4,'"'),e.k0s()),2&n){const a=e.XpG();e.R7$(),e.SpI("T\xecm th\u1ea5y ",a.listData.length,' d\u1eef li\u1ec7u v\u1edbi t\u1eeb kh\xf3a "'),e.R7$(2),e.JRh(a.filter.search)}}function y(n,r){1&n&&(e.j41(0,"div",19)(1,"div",20)(2,"div")(3,"div",21),e.nrm(4,"ion-img",22),e.k0s(),e.j41(5,"div",23),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()()),2&n&&(e.R7$(6),e.JRh(e.bMT(7,1,"DataNotFound")))}function k(n,r){if(1&n&&e.eu8(0,24),2&n){e.XpG();const a=e.sdS(45);e.Y8G("ngTemplateOutlet",a)}}function O(n,r){if(1&n&&(e.j41(0,"div",26),e.eu8(1,27),e.k0s()),2&n){const a=r.$implicit;e.XpG(3);const t=e.sdS(47);e.R7$(),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.eq3(2,b,a))}}function x(n,r){if(1&n&&(e.j41(0,"div",25)(1,"div",26)(2,"ion-text",3)(3,"b"),e.EFF(4),e.k0s()()(),e.Z7z(5,O,2,4,"div",26,e.fX1),e.k0s()),2&n){const a=r.$implicit,t=e.XpG(2);e.R7$(4),e.JRh(a),e.R7$(),e.Dyx(t.filterStartDate(a))}}function $(n,r){if(1&n&&e.Z7z(0,x,7,1,"div",25,e.fX1),2&n){const a=e.XpG();e.Dyx(a.groupStartDate())}}function Y(n,r){if(1&n&&(e.j41(0,"div",33),e.nrm(1,"ion-icon",37),e.j41(2,"ion-text",32),e.EFF(3),e.k0s()()),2&n){const a=e.XpG().$implicit;e.R7$(3),e.JRh(a.place)}}function G(n,r){1&n&&(e.j41(0,"ion-avatar",38),e.nrm(1,"img",39),e.k0s()),2&n&&e.Y8G("title",r.$implicit.email)}function A(n,r){if(1&n&&e.Z7z(0,G,2,1,"ion-avatar",38,e.fX1),2&n){const a=e.XpG().$implicit;e.Dyx(a.meetingMember||e.lJ4(0,j))}}function I(n,r){if(1&n&&(e.j41(0,"ion-avatar",38),e.nrm(1,"img",39),e.k0s()),2&n){const a=r.$implicit,t=e.XpG(2).$implicit;e.Y8G("title",t.meetingMember[a].email)}}function X(n,r){if(1&n&&(e.Z7z(0,I,2,1,"ion-avatar",38,e.fX1),e.j41(2,"span",40)(3,"span"),e.EFF(4),e.k0s()()),2&n){const a=e.XpG().$implicit;e.Dyx(e.lJ4(1,R)),e.R7$(4),e.SpI("+",a.meetingMember.length-3,"")}}function N(n,r){if(1&n){const a=e.RV6();e.j41(0,"ion-button",41),e.bIt("click",function(){e.eBV(a);const i=e.XpG().$implicit,o=e.XpG();return e.Njj(o.navigateByUrl(o.APP_ROUTE.ROOM_EXTERNAL_ID.replace(":id",i.id)))}),e.j41(1,"ion-label"),e.EFF(2,"Tham gia"),e.k0s()()}}function B(n,r){1&n&&(e.j41(0,"ion-button",42)(1,"ion-label"),e.EFF(2,"\u0110\xe3 k\u1ebft th\xfac"),e.k0s()())}function L(n,r){if(1&n){const a=e.RV6();e.j41(0,"div",28)(1,"div")(2,"div",29),e.bIt("click",function(){const i=e.eBV(a).$implicit,o=e.XpG();return e.Njj(o.navigateByUrl(o.APP_ROUTE.SCHEDULE_DETAIL_ID.replace(":id",i.id)))}),e.j41(3,"div")(4,"b"),e.EFF(5),e.k0s()(),e.j41(6,"div",30),e.nrm(7,"ion-icon",31),e.j41(8,"ion-text",32),e.EFF(9),e.k0s()(),e.DNE(10,Y,4,1,"div",33),e.k0s(),e.j41(11,"div",34)(12,"div",35),e.DNE(13,A,2,1)(14,X,5,2),e.k0s(),e.DNE(15,N,3,0,"ion-button",36)(16,B,3,0),e.k0s()()()}if(2&n){const a=r.$implicit,t=e.XpG();e.R7$(5),e.JRh(a.title),e.R7$(4),e.Lme("",t.APP_FUNC_FormatDate(a.startTime,"HH:mm")," - ",t.APP_FUNC_FormatDate(a.endTime,"HH:mm"),""),e.R7$(),e.vxM(10,a.place?10:-1),e.R7$(3),e.vxM(13,(null==a.meetingMember?null:a.meetingMember.length)<=3?13:14),e.R7$(2),e.vxM(15,t.checkStatus(a.endTime)?15:16)}}const U=[{path:"",component:(()=>{var n;class r{constructor(t,i,o,s){this.router=t,this.loadingController=i,this.toastController=o,this.modalController=s,this.APP_ROUTE=M._,this.APP_FUNC_FormatDate=h.Rv,this.timeType=1,this.filter={},this.paging={sortfield:null,sorttype:null,page:1,limit:20,active:!0},this.listData=[],this.limitLoad=0}ngOnInit(){var t=this;(0,m.A)(function*(){(yield(0,D.kU)())&&t.refreshData()})()}onIonRefresher(t){this.filter={},this.refreshData(()=>{t.target.complete()})}onIonInfinite(t){this.loadMore(()=>{t.target.complete()})}pushData(t){1==this.paging.page&&(this.listData.length=0),this.listData=this.listData.concat(t),this.listData.forEach(i=>{i.startDate=u()(i.startTime).format("DD/MM/YYYY")})}refreshData(t){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit(t)}loadMore(t){this.paging.page+=1,this.loadData_Paging_Limit(t)}searchChange(t){this.filter.search=t.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}sortChange(t,i){this.paging.sortfield=t||null,this.paging.sorttype=i||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}loadData_Paging_Limit(t){var i=this;return(0,m.A)(function*(){if(i.limitLoad>0)return void(t&&t());i.limitLoad=300;let o=setInterval(()=>{i.limitLoad-=100,i.limitLoad<=0&&(clearInterval(o),i.loadData_Paging(t))},100)})()}loadData_Paging(t){var i=this;return(0,m.A)(function*(){(0,C.qu)({loadingController:i.loadingController,params:{page:i.paging.page,pageSize:i.paging.limit,strSearch:i.filter.search,dateFrom:i.filter.dateFrom?(0,h.Rv)(i.filter.dateFrom,"YYYY-MM-DD"):void 0,dateTo:i.filter.dateTo?(0,h.Rv)(i.filter.dateTo,"YYYY-MM-DD"):void 0},callback:o=>{var s;null!=o&&o.data?i.pushData(null!==(s=null==o?void 0:o.data)&&void 0!==s?s:[]):(0,F.q)(i.toastController,{},o).then(d=>d.present()),i.listData.length<i.paging.limit*i.paging.page&&(i.paging.active=!1),t&&t()}})})()}groupStartDate(){return this.listData.map(t=>t.startDate).filter((t,i,o)=>o.indexOf(t)==i)}filterStartDate(t){return t||(t=u()(new Date).format("DD/MM/YYYY")),this.listData.filter(i=>i.startDate==t)}checkStatus(t){return u()().isAfter(u()(t))?0:1}navigateByUrl(t){var i=this;return(0,m.A)(function*(){i.router.navigateByUrl(t)})()}changeTimeType(t){var i=this;return(0,m.A)(function*(){i.timeType=t.detail.value})()}presentModalDatetimePicker_DateFrom(){var t=this;return(0,m.A)(function*(){const i=yield t.modalController.create({component:_.W,componentProps:{presentation:"date",value:t.filter.dateFrom},cssClass:"ion-modal-auto"});i.onDidDismiss().then(o=>{"success"==o.role&&(t.filter.dateFrom=o.data,t.filterChange())}),i.present()})()}presentModalDatetimePicker_DateTo(){var t=this;return(0,m.A)(function*(){const i=yield t.modalController.create({component:_.W,componentProps:{presentation:"date",value:t.filter.dateTo},cssClass:"ion-modal-auto"});i.onDidDismiss().then(o=>{"success"==o.role&&(t.filter.dateTo=o.data,t.filterChange())}),i.present()})()}}return(n=r).\u0275fac=function(t){return new(t||n)(e.rXU(g.Ix),e.rXU(l.Xi),e.rXU(l.K_),e.rXU(l.W3))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-schedule"]],decls:48,vars:15,consts:[["templateList",""],["templateSchedule",""],[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],["slot","fixed",3,"ionRefresh"],[1,"card-filter","area-primary"],["color","light","inputmode","search","show-clear-button","never","show-cancel-button","never","placeholder","Nh\u1eadp t\xean ho\u1eb7c ti\xeau \u0111\u1ec1",3,"ionChange","debounce","value"],[1,"mt-3"],[1,"mt-2","d-flex","align-items-center"],["lines","none","color","light","detail","false","button","true",1,"flex-grow-1",3,"click"],["color","medium"],["color","primary","src","../../../assets/icon/calendar.svg",1,"fs-16"],["src","../../../assets/icon/arrow-right.svg",1,"fs-16","mx-2"],["mode","md",3,"ionChange","scrollable","value"],[3,"value"],[1,"ion-padding"],[1,"mb-3"],[1,"py-5"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[3,"ngTemplateOutlet"],[1,"mb-4"],[1,"mb-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"card-schedule"],[3,"click"],[1,"mt-3","d-flex","align-items-center"],["color","primary","src","../../../assets/icon/clock.svg",1,"fs-16","mr-3"],["color","medium",1,"fs-14"],[1,"mt-1","d-flex","align-items-center"],[1,"mt-2","d-flex","align-items-end","justify-content-between"],[1,"lst-avatar","d-flex","align-items-center"],["size","small","color","primary",1,"ion-no-margin"],["color","primary","src","../../../assets/icon/location-marker.svg",1,"fs-16","mr-3"],[1,"w-24","h-24",3,"title"],["src","../../../assets/image/default-avatar.svg"],[1,"avatar","w-24","h-24","d-flex","align-items-center","justify-content-center"],["size","small","color","primary",1,"ion-no-margin",3,"click"],["size","small","color","medium",1,"ion-no-margin"]],template:function(t,i){if(1&t){const o=e.RV6();e.j41(0,"ion-header",2)(1,"ion-toolbar",3)(2,"ion-buttons",4),e.nrm(3,"ion-back-button",5),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-refresher",6),e.bIt("ionRefresh",function(d){return e.eBV(o),e.Njj(i.onIonRefresher(d))}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.j41(10,"div",7)(11,"div")(12,"ion-searchbar",8),e.bIt("ionChange",function(d){return e.eBV(o),e.Njj(i.searchChange(d))}),e.k0s()(),e.j41(13,"div",9),e.EFF(14,"L\u1ecdc theo ng\xe0y"),e.k0s(),e.j41(15,"div",10)(16,"ion-item",11),e.bIt("click",function(){return e.eBV(o),e.Njj(i.presentModalDatetimePicker_DateFrom())}),e.j41(17,"ion-label",12),e.EFF(18),e.k0s(),e.nrm(19,"ion-icon",13),e.k0s(),e.nrm(20,"ion-icon",14),e.j41(21,"ion-item",11),e.bIt("click",function(){return e.eBV(o),e.Njj(i.presentModalDatetimePicker_DateTo())}),e.j41(22,"ion-label",12),e.EFF(23),e.k0s(),e.nrm(24,"ion-icon",13),e.k0s()()(),e.j41(25,"div",9)(26,"ion-segment",15),e.bIt("ionChange",function(d){return e.eBV(o),e.Njj(i.changeTimeType(d))}),e.j41(27,"ion-segment-button",16)(28,"ion-label"),e.EFF(29,"Th\xf4ng tin"),e.k0s()(),e.j41(30,"ion-segment-button",16)(31,"ion-label"),e.EFF(32,"K\u1ebft lu\u1eadn"),e.k0s()(),e.j41(33,"ion-segment-button",16)(34,"ion-label"),e.EFF(35,"Bi\u1ec3u quy\u1ebft"),e.k0s()(),e.j41(36,"ion-segment-button",16)(37,"ion-label"),e.EFF(38,"T\xe0i li\u1ec7u"),e.k0s()()()(),e.j41(39,"div",17),e.DNE(40,S,5,2,"div",18)(41,y,8,3,"div",19)(42,k,1,1),e.k0s()(),e.nrm(43,"app-footer-tabs"),e.DNE(44,$,2,0,"ng-template",null,0,e.C5r)(46,L,17,6,"ng-template",null,1,e.C5r)}2&t&&(e.R7$(5),e.JRh(e.bMT(6,13,"MeetingSchedule")),e.R7$(7),e.Y8G("debounce",1e3)("value",i.filter.search),e.R7$(6),e.JRh(i.filter.dateFrom?i.APP_FUNC_FormatDate(i.filter.dateFrom,"DD/MM/YYYY"):"Ch\u1ecdn ng\xe0y"),e.R7$(5),e.JRh(i.filter.dateTo?i.APP_FUNC_FormatDate(i.filter.dateTo,"DD/MM/YYYY"):"Ch\u1ecdn ng\xe0y"),e.R7$(3),e.Y8G("scrollable",!0)("value",i.timeType),e.R7$(),e.Y8G("value",1),e.R7$(3),e.Y8G("value",2),e.R7$(3),e.Y8G("value",3),e.R7$(3),e.Y8G("value",4),e.R7$(4),e.vxM(40,i.filter.search?40:-1),e.R7$(),e.vxM(41,i.listData.length?42:41))},dependencies:[f.T3,l.mC,l.Jm,l.QW,l.W9,l.eU,l.iq,l.KW,l.uz,l.he,l.To,l.Ki,l.S1,l.Gp,l.eP,l.IO,l.BC,l.ai,l.Je,l.Gw,l.el,T.x,E.D9],styles:['.area-primary[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:var(--ion-color-primary-contrast);border-radius:0 0 1.5rem 1.5rem}.card-filter[_ngcontent-%COMP%]{padding:0 1rem 1rem}.card-filter[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{padding:0}.card-filter[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 2.75rem;--border-radius: .75rem}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.875rem;text-transform:initial}.card-schedule[_ngcontent-%COMP%]{--line-color: var(--ion-color-primary);position:relative}.card-schedule[color=primary][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-primary)}.card-schedule[color=medium][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-medium)}.card-schedule[color=warning][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-warning)}.card-schedule[color=danger][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-danger)}.card-schedule[_ngcontent-%COMP%]:before{content:"";padding-left:1rem;background-color:var(--line-color);position:absolute;top:0;left:-3px;bottom:0;border-radius:1rem 0 0 1rem}.card-schedule[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast);border-radius:1rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 2px #0006}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-.5rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background-color:var(--ion-color-medium-tint);color:var(--ion-color-medium-contrast);border-radius:50%;font-size:.75rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-.5rem}']}),r})()}];let J=(()=>{var n;class r{}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[g.iI.forChild(U),g.iI]}),r})();var z=c(3664);let V=(()=>{var n;class r{}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.MD,v.YN,l.bv,J,z.x]}),r})()}}]);