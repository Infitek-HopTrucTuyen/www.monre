"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7197],{2925:(w,y,d)=>{d.d(y,{c:()=>_});var o=d(8833),l=d(4438);const g=["jitsiContainer"];let _=(()=>{var h;class v{ngOnInit(){this.api=new window.JitsiMeetExternalAPI(this.roomData.server.ip,{roomName:this.roomData.roomName,width:"100%",height:"100%",parentNode:this.jitsiContainer.nativeElement,interfaceConfigOverwrite:{SHOW_JITSI_WATERMARK:!1,SHOW_WATERMARK_FOR_GUESTS:!1,DEFAULT_BACKGROUND:"#ffffff"},configOverwrite:{disableDeepLinking:!0,disableWakeLock:!0,startWithAudioMuted:!1,startWithVideoMuted:!1,disableAudioLevels:!1,enableWelcomePage:!1,disableSimulcast:!0},prejoinPageEnabled:!1,userInfo:{displayName:this.userData.name,email:this.userData.email},jwt:this.roomData.token,onload:()=>{console.log("Jitsi Meet iframe loaded")}}),this.api.addEventListener("videoConferenceJoined",c=>{console.log("Local user joined the conference:",c)}),this.api.addEventListener("participantJoined",c=>{console.log("Participant joined:",c)}),this.api.addEventListener("participantLeft",c=>{console.log("Participant left:",c)}),this.api.addEventListener("audioMuteStatusChanged",c=>{console.log("Audio mute status changed:",c.muted)}),this.api.addEventListener("videoMuteStatusChanged",c=>{console.log("Video mute status changed:",c.muted)}),this.api.addEventListener("readyToClose",()=>{console.log("Conference is ready to be closed"),window.location.replace(o._.HOME)}),this.api.on("errorOccurred",c=>{console.error("L\u1ed7i khi truy c\u1eadp camera ho\u1eb7c microphone: ",c)}),window.addEventListener("beforeunload",()=>{this.api.dispose()})}ngOnDestroy(){this.api&&this.api.dispose()}}return(h=v).\u0275fac=function(p){return new(p||h)},h.\u0275cmp=l.VBU({type:h,selectors:[["app-jitsi-meet"]],viewQuery:function(p,c){if(1&p&&l.GBs(g,7),2&p){let E;l.mGM(E=l.lsd())&&(c.jitsiContainer=E.first)}},inputs:{roomData:"roomData",userData:"userData"},decls:2,vars:0,consts:[["jitsiContainer",""],[2,"width","100%","height","100%"]],template:function(p,c){1&p&&l.nrm(0,"div",1,0)}}),v})()},5173:(w,y,d)=>{d.d(y,{Q:()=>v});var o=d(177),l=d(9417),g=d(4742),_=d(2706),h=d(4438);let v=(()=>{var f;class p{}return(f=p).\u0275fac=function(E){return new(E||f)},f.\u0275mod=h.$C({type:f}),f.\u0275inj=h.G2t({imports:[o.MD,l.YN,g.bv,_.G,_.G]}),p})()},9485:(w,y,d)=>{d.d(y,{Dy:()=>E,Gd:()=>C});var o=d(467),l=d(5083),g=function(i){return i.Prompt="PROMPT",i.Camera="CAMERA",i.Photos="PHOTOS",i}(g||{}),_=function(i){return i.Rear="REAR",i.Front="FRONT",i}(_||{});class v extends l.E_{getPhoto(e){var s=this;return(0,o.A)(function*(){return new Promise(function(){var a=(0,o.A)(function*(t,n){if(e.webUseInput||e.source===g.Photos)s.fileInputExperience(e,t,n);else if(e.source===g.Prompt){let r=document.querySelector("pwa-action-sheet");r||(r=document.createElement("pwa-action-sheet"),document.body.appendChild(r)),r.header=e.promptLabelHeader||"Photo",r.cancelable=!1,r.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],r.addEventListener("onSelection",function(){var u=(0,o.A)(function*(m){0===m.detail?s.fileInputExperience(e,t,n):s.cameraExperience(e,t,n)});return function(m){return u.apply(this,arguments)}}())}else s.cameraExperience(e,t,n)});return function(t,n){return a.apply(this,arguments)}}())})()}pickImages(e){var s=this;return(0,o.A)(function*(){return new Promise(function(){var a=(0,o.A)(function*(t,n){s.multipleFileInputExperience(t,n)});return function(t,n){return a.apply(this,arguments)}}())})()}cameraExperience(e,s,a){var t=this;return(0,o.A)(function*(){if(customElements.get("pwa-camera-modal")){const n=document.createElement("pwa-camera-modal");n.facingMode=e.direction===_.Front?"user":"environment",document.body.appendChild(n);try{yield n.componentOnReady(),n.addEventListener("onPhoto",function(){var r=(0,o.A)(function*(u){const m=u.detail;null===m?a(new l.I9("User cancelled photos app")):m instanceof Error?a(m):s(yield t._getCameraPhoto(m,e)),n.dismiss(),document.body.removeChild(n)});return function(u){return r.apply(this,arguments)}}()),n.present()}catch{t.fileInputExperience(e,s,a)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),t.fileInputExperience(e,s,a)})()}fileInputExperience(e,s,a){let t=document.querySelector("#_capacitor-camera-input");const n=()=>{var r;null===(r=t.parentNode)||void 0===r||r.removeChild(t)};t||(t=document.createElement("input"),t.id="_capacitor-camera-input",t.type="file",t.hidden=!0,document.body.appendChild(t),t.addEventListener("change",r=>{const u=t.files[0];let m="jpeg";if("image/png"===u.type?m="png":"image/gif"===u.type&&(m="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){const P=new FileReader;P.addEventListener("load",()=>{if("dataUrl"===e.resultType)s({dataUrl:P.result,format:m});else if("base64"===e.resultType){const M=P.result.split(",")[1];s({base64String:M,format:m})}n()}),P.readAsDataURL(u)}else s({webPath:URL.createObjectURL(u),format:m}),n()}),t.addEventListener("cancel",r=>{a(new l.I9("User cancelled photos app")),n()})),t.accept="image/*",t.capture=!0,e.source===g.Photos||e.source===g.Prompt?t.removeAttribute("capture"):e.direction===_.Front?t.capture="user":e.direction===_.Rear&&(t.capture="environment"),t.click()}multipleFileInputExperience(e,s){let a=document.querySelector("#_capacitor-camera-input-multiple");const t=()=>{var n;null===(n=a.parentNode)||void 0===n||n.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input-multiple",a.type="file",a.hidden=!0,a.multiple=!0,document.body.appendChild(a),a.addEventListener("change",n=>{const r=[];for(let u=0;u<a.files.length;u++){const m=a.files[u];let P="jpeg";"image/png"===m.type?P="png":"image/gif"===m.type&&(P="gif"),r.push({webPath:URL.createObjectURL(m),format:P})}e({photos:r}),t()}),a.addEventListener("cancel",n=>{s(new l.I9("User cancelled photos app")),t()})),a.accept="image/*",a.click()}_getCameraPhoto(e,s){return new Promise((a,t)=>{const n=new FileReader,r=e.type.split("/")[1];"uri"===s.resultType?a({webPath:URL.createObjectURL(e),format:r,saved:!1}):(n.readAsDataURL(e),n.onloadend=()=>{const u=n.result;a("dataUrl"===s.resultType?{dataUrl:u,format:r,saved:!1}:{base64String:u.split(",")[1],format:r,saved:!1})},n.onerror=u=>{t(u)})})}checkPermissions(){var e=this;return(0,o.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw e.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw e.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var e=this;return(0,o.A)(function*(){throw e.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var e=this;return(0,o.A)(function*(){throw e.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var e=this;return(0,o.A)(function*(){throw e.unavailable("Not implemented on web.")})()}}new v;const p=(0,l.F3)("Camera",{web:()=>new v}),c=(0,l.F3)("SpeechRecognition",{web:()=>d.e(6852).then(d.bind(d,6852)).then(i=>new i.SpeechRecognitionWeb)}),E=function(){var i=(0,o.A)(function*(){if(!["ios","android"].includes(l.Ii.getPlatform()))return{status:!1,message:"Kh\xf4ng h\u1ed7 tr\u1ee3"};let e=yield p.checkPermissions();switch(null==e?void 0:e.camera){case"granted":return{status:!0,message:"OK"};case"denied":return{status:!1,message:"B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i cho ph\xe9p \u1ee9ng d\u1ee5ng m\u1edf Camera"};case"prompt":case"prompt-with-rationale":return yield A()}return{status:!1,message:"Something is wrong ?"}});return function(){return i.apply(this,arguments)}}(),A=function(){var i=(0,o.A)(function*(){if(!["ios","android"].includes(l.Ii.getPlatform()))return{status:!1,message:"Kh\xf4ng h\u1ed7 tr\u1ee3"};let e=yield p.requestPermissions();switch(null==e?void 0:e.camera){case"granted":return{status:!0,message:"OK"};case"denied":return{status:!1,message:"B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i cho ph\xe9p \u1ee9ng d\u1ee5ng m\u1edf Camera"};case"limited":return{status:!0,message:"LIMIT"}}return{status:!1,message:"Something is wrong ?"}});return function(){return i.apply(this,arguments)}}(),C=function(){var i=(0,o.A)(function*(){if(!["ios","android"].includes(l.Ii.getPlatform()))return{status:!1,message:"Kh\xf4ng h\u1ed7 tr\u1ee3"};let e=yield c.checkPermissions();switch(null==e?void 0:e.speechRecognition){case"granted":return{status:!0,message:"OK"};case"denied":return{status:!1,message:"B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i cho ph\xe9p \u1ee9ng d\u1ee5ng m\u1edf Microphone"};case"prompt":case"prompt-with-rationale":return yield b()}return{status:!1,message:"Something is wrong ?"}});return function(){return i.apply(this,arguments)}}(),b=function(){var i=(0,o.A)(function*(){if(!["ios","android"].includes(l.Ii.getPlatform()))return{status:!1,message:"Kh\xf4ng h\u1ed7 tr\u1ee3"};let e=yield c.requestPermissions();switch(null==e?void 0:e.speechRecognition){case"granted":return{status:!0,message:"OK"};case"denied":return{status:!1,message:"B\u1ea1n \u0111\xe3 t\u1eeb ch\u1ed1i cho ph\xe9p \u1ee9ng d\u1ee5ng m\u1edf Camera"}}return{status:!1,message:"Something is wrong ?"}});return function(){return i.apply(this,arguments)}}()}}]);