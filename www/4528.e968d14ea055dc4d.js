"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4528],{369:(h,S,t)=>{t.d(S,{C:()=>s,w:()=>d});var u=t(467),O=t(119),a=t.n(O);const s={SecureStorage:"ionicSecureStorage",IndexedDB:a().INDEXEDDB,LocalStorage:a().LOCALSTORAGE},l={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[s.SecureStorage,s.IndexedDB,s.LocalStorage]};class d{constructor(i=l){this._db=null,this._secureStorageDriver=null;const o=Object.assign({},l,i||{});this._config=o}create(){var i=this;return(0,u.A)(function*(){const o=a().createInstance(i._config);return i._db=o,yield o.setDriver(i._config.driverOrder||[]),i})()}defineDriver(i){var o=this;return(0,u.A)(function*(){return i._driver===s.SecureStorage&&(o._secureStorageDriver=i),a().defineDriver(i)})()}get driver(){var i;return(null===(i=this._db)||void 0===i?void 0:i.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(i){return this.assertDb().getItem(i)}set(i,o){return this.assertDb().setItem(i,o)}remove(i){return this.assertDb().removeItem(i)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(i){return this.assertDb().iterate(i)}setEncryptionKey(i){var o;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(o=this._secureStorageDriver)||void 0===o||o.setEncryptionKey(i)}}},3890:(h,S,t)=>{t.d(S,{x:()=>T});var u=t(177),O=t(9417),a=t(4742),s=t(2706),l=t(4342),d=t(4438);let T=(()=>{var i;class o{}return(i=o).\u0275fac=function(E){return new(E||i)},i.\u0275mod=d.$C({type:i}),i.\u0275inj=d.G2t({imports:[u.MD,O.YN,a.bv,s.G,l.LP,s.G,l.LP]}),o})()},6112:(h,S,t)=>{t.r(S),t.d(S,{SettingPageModule:()=>L});var u=t(177),O=t(9417),a=t(4742),s=t(2175),l=t(467),d=t(5083);const T=(0,d.F3)("Browser",{web:()=>t.e(4786).then(t.bind(t,4786)).then(e=>new e.BrowserWeb)}),i=(0,d.F3)("Device",{web:()=>t.e(8622).then(t.bind(t,8622)).then(e=>new e.DeviceWeb)}),E=(0,d.F3)("NativeBiometric",{web:()=>t.e(2587).then(t.bind(t,2587)).then(e=>new e.NativeBiometricWeb)});var N=t(4393),R=t(8833),n=t(4438),b=t(3656),m=t(4842);function M(e,g){if(1&e){const v=n.RV6();n.j41(0,"ion-item",7)(1,"ion-toggle",8),n.bIt("click",function(c){n.eBV(v);const D=n.XpG();return n.Njj(D.clickBiometric(c))}),n.EFF(2),n.nI1(3,"translate"),n.k0s()()}if(2&e){const v=n.XpG();n.R7$(),n.Y8G("checked",v.dataSetting.Biometric),n.R7$(),n.JRh(n.bMT(3,2,"Biometrics"))}}const p=[{path:"",component:(()=>{var e;class g{constructor(r,c,D){this.router=r,this.platform=c,this.modalController=D,this.APP_ROUTE=R._,this.dataSetting={};var f=this.platform.platforms();f.includes("mobile")&&!f.includes("mobileweb")&&E.isAvailable({useFallback:!0}).then(I=>{console.log("NativeBiometric.isAvailable",I),this.biometricAvailable=!!I.isAvailable})}ngOnInit(){(0,N.FC)({callback:r=>{r&&(this.dataSetting=r)}})}navigateByUrl(r){this.router.navigateByUrl(r)}changeNotify(r){return(0,l.A)(function*(){(0,N.T9)({params:{Notify:r.detail.checked}})})()}clickBiometric(r){var c=this;return(0,l.A)(function*(){c.dataSetting.Biometric?E.verifyIdentity({subtitle:"T\u1eaft b\u1ea3o v\u1ec7 \u1ee9ng d\u1ee5ng v\u1edbi sinh tr\u1eafc h\u1ecdc",useFallback:!0,maxAttempts:5}).then(function(){var f=(0,l.A)(function*(I){console.info("NativeBiometric.verifyIdentity",I),E.deleteCredentials({server:"iev.infipower.vn"}).then(C=>{console.info("NativeBiometric.setCredentials",C),(0,N.T9)({params:{Biometric:!1}}),c.dataSetting.Biometric=!1}).catch(C=>{throw C})});return function(I){return f.apply(this,arguments)}}()).catch(f=>{c.dataSetting.Biometric=!0,console.log("NativeBiometric.verifyIdentity",f)}):E.verifyIdentity({subtitle:"K\xedch ho\u1ea1t b\u1ea3o v\u1ec7 \u1ee9ng d\u1ee5ng v\u1edbi sinh tr\u1eafc h\u1ecdc",useFallback:!0,maxAttempts:5}).then(function(){var f=(0,l.A)(function*(I){var C;console.info("NativeBiometric.verifyIdentity",I),E.setCredentials({server:"iev.infipower.vn",username:"isac",password:null===(C=yield i.getId())||void 0===C?void 0:C.identifier}).then(_=>{console.info("NativeBiometric.setCredentials",_),(0,N.T9)({params:{Biometric:!0}}),c.dataSetting.Biometric=!0}).catch(_=>{throw _})});return function(I){return f.apply(this,arguments)}}()).catch(f=>{c.dataSetting.Biometric=!1,console.log("NativeBiometric.verifyIdentity",f)})})()}sendRequestDeteleAccount(r){return(0,l.A)(function*(){T.open({url:"https://infipower.vn/account-deletion-request/"})})()}}return(e=g).\u0275fac=function(r){return new(r||e)(n.rXU(s.Ix),n.rXU(b.OD),n.rXU(a.W3))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-setting"]],decls:11,vars:4,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],[1,"container"],["mode","ios","lines","none"],["color","light","button","false","detail","false",4,"ngIf"],["color","light","button","false","detail","false"],[3,"click","checked"]],template:function(r,c){1&r&&(n.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),n.nrm(3,"ion-back-button",3),n.k0s(),n.j41(4,"ion-title"),n.EFF(5),n.nI1(6,"translate"),n.k0s()()(),n.j41(7,"ion-content")(8,"div",4)(9,"ion-list",5),n.DNE(10,M,4,4,"ion-item",6),n.k0s()()()),2&r&&(n.R7$(5),n.JRh(n.bMT(6,2,"Setting")),n.R7$(5),n.Y8G("ngIf",c.biometricAvailable))},dependencies:[u.bT,a.QW,a.W9,a.eU,a.uz,a.nf,a.BC,a.BY,a.ai,a.hB,a.el,m.D9],styles:["ion-list[_ngcontent-%COMP%]{margin:1.25rem 0;border-radius:.75rem}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}"]}),g})()}];let U=(()=>{var e;class g{}return(e=g).\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[s.iI.forChild(p),s.iI]}),g})();var A=t(3890);let L=(()=>{var e;class g{}return(e=g).\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[u.MD,O.YN,a.bv,U,A.x]}),g})()},2706:(h,S,t)=>{t.d(S,{G:()=>a});var u=t(4438);let a=(()=>{class s{}return s.\u0275fac=function(d){return new(d||s)},s.\u0275mod=u.$C({type:s}),s.\u0275inj=u.G2t({}),s})()}}]);