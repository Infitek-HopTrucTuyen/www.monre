"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9908],{220:(D,y,o)=>{o.d(y,{On:()=>_,bj:()=>g,bp:()=>v,nz:()=>p,q5:()=>b});var u=o(467),d=o(5972);const v=function(){var f=(0,u.A)(function*(n){n.params=n.params||{},(0,d.Ll)({url:`BieuQuyet/kichhoat?id=${n.params.id}`,params:{id:n.params.id},success:a=>{"function"==typeof n.callback&&n.callback(a.data||null)},error:a=>{var e;"function"==typeof n.callback&&n.callback(null==a||null===(e=a.response)||void 0===e?void 0:e.data),console.error(a)},loading:n.loading,loadingController:n.loadingController})});return function(a){return f.apply(this,arguments)}}(),_=function(){var f=(0,u.A)(function*(n){n.params=n.params||{},(0,d.Ll)({url:`BieuQuyet/ketthuc?id=${n.params.id}`,params:{id:n.params.id},success:a=>{"function"==typeof n.callback&&n.callback(a.data||null)},error:a=>{var e;"function"==typeof n.callback&&n.callback(null==a||null===(e=a.response)||void 0===e?void 0:e.data),console.error(a)},loading:n.loading,loadingController:n.loadingController})});return function(a){return f.apply(this,arguments)}}(),g=function(){var f=(0,u.A)(function*(n){n.params=n.params||{},(0,d.Ll)({url:"BieuQuyet/chonbieuquyet",params:{title:n.params.title,voteId:n.params.voteId,isCreatedByAd:n.params.isCreatedByAd},success:a=>{"function"==typeof n.callback&&n.callback(a.data||null)},error:a=>{var e;"function"==typeof n.callback&&n.callback(null==a||null===(e=a.response)||void 0===e?void 0:e.data),console.error(a)},loading:n.loading,loadingController:n.loadingController})});return function(a){return f.apply(this,arguments)}}(),p=function(){var f=(0,u.A)(function*(n){n.params=n.params||{},(0,d.IH)({url:"BieuQuyet/chinhsua",params:{id:n.params.id,title:n.params.title,voteId:n.params.voteId},success:a=>{"function"==typeof n.callback&&n.callback(a.data||null)},error:a=>{var e;"function"==typeof n.callback&&n.callback(null==a||null===(e=a.response)||void 0===e?void 0:e.data),console.error(a)},loading:n.loading,loadingController:n.loadingController})});return function(a){return f.apply(this,arguments)}}(),b=function(){var f=(0,u.A)(function*(n){n.params=n.params||{},(0,d.sj)({url:"BieuQuyet/xoa",params:{id:n.params.id},success:a=>{"function"==typeof n.callback&&n.callback(a.data||null)},error:a=>{var e;"function"==typeof n.callback&&n.callback(null==a||null===(e=a.response)||void 0===e?void 0:e.data),console.error(a)},loading:n.loading,loadingController:n.loadingController})});return function(a){return f.apply(this,arguments)}}()},6932:(D,y,o)=>{o.d(y,{AE:()=>l,FQ:()=>f,Sw:()=>v,WW:()=>g,hN:()=>k,uG:()=>i,xw:()=>_,zD:()=>b,zs:()=>p});var u=o(467),d=o(5972);const v=function(){var n=(0,u.A)(function*(a){a.params=a.params||{},(0,d.Ll)({url:"DanhMucBieuQuyet/them",params:{title:a.params.title,type:a.params.type,status:a.params.status,end:a.params.end,scheduleId:a.params.scheduleId},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return n.apply(this,arguments)}}(),_=function(){var n=(0,u.A)(function*(a){a.params=a.params||{},(0,d.IH)({url:`DanhMucBieuQuyet/chinhsua?id=${a.params.id}`,params:{id:a.params.id,title:a.params.title,type:a.params.type,status:a.params.status,end:a.params.end,scheduleId:a.params.scheduleId},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,u.A)(function*(a){a.params=a.params||{},(0,d.sj)({url:"DanhMucBieuQuyet/xoa",params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return n.apply(this,arguments)}}(),i=function(){var n=(0,u.A)(function*(a){a.params=a.params||{},(0,d.hm)({url:"DanhMucBieuQuyet/xemchitiet",params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return n.apply(this,arguments)}}(),g=function(){var n=(0,u.A)(function*(a){a.params=a.params||{},(0,d.hm)({url:"DanhMucBieuQuyet/danhsach",params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,u.A)(function*(a){a.params=a.params||{},(0,d.Ll)({url:`DanhMucBieuQuyet/xacnhan?id=${a.params.id}`,params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return n.apply(this,arguments)}}(),b=function(){var n=(0,u.A)(function*(a){a.params=a.params||{},(0,d.Ll)({url:`DanhMucBieuQuyet/huyxacnhan?id=${a.params.id}`,params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return n.apply(this,arguments)}}(),k=function(){var n=(0,u.A)(function*(a){a.params=a.params||{},(0,d.hm)({url:"DanhMucBieuQuyet/danhmucxacnhan",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,scheduleId:a.params.scheduleId},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,u.A)(function*(a){a.params=a.params||{},(0,d.hm)({url:"DanhMucBieuQuyet/danhsachphonghop",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return n.apply(this,arguments)}}()},3890:(D,y,o)=>{o.d(y,{x:()=>g});var u=o(177),d=o(9417),v=o(4742),_=o(2706),l=o(4342),i=o(4438);let g=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=i.$C({type:p}),p.\u0275inj=i.G2t({imports:[u.MD,d.YN,v.bv,_.G,l.LP,_.G,l.LP]}),b})()},8507:(D,y,o)=>{o.d(y,{y:()=>a});var u=o(467),d=o(220),v=o(6932),_=o(5751),l=o(4438),i=o(4742);const g=()=>[];function p(e,t){if(1&e){const s=l.RV6();l.j41(0,"div",9)(1,"ion-checkbox",10),l.bIt("ionChange",function(c){const m=l.eBV(s).$implicit,h=l.XpG(3);return l.Njj(h.selectMutiVoted(c,m))}),l.j41(2,"ion-label",11),l.EFF(3),l.k0s()()()}if(2&e){const s=t.$implicit;l.R7$(),l.Y8G("value",s.id),l.R7$(2),l.JRh(s.title)}}function b(e,t){if(1&e&&(l.j41(0,"div"),l.Z7z(1,p,4,2,"div",9,l.fX1),l.k0s()),2&e){const s=l.XpG(2);l.R7$(),l.Dyx(s.itemData.meetingvoted||l.lJ4(0,g))}}function k(e,t){if(1&e&&(l.j41(0,"div",9)(1,"ion-radio",13)(2,"ion-label",11),l.EFF(3),l.k0s()()()),2&e){const s=t.$implicit;l.R7$(),l.Y8G("value",s.id),l.R7$(2),l.JRh(s.title)}}function f(e,t){if(1&e){const s=l.RV6();l.j41(0,"ion-radio-group",12),l.bIt("ionChange",function(c){l.eBV(s);const m=l.XpG(2);return l.Njj(m.selectOneVoted(c))}),l.Z7z(1,k,4,2,"div",9,l.fX1),l.k0s()}if(2&e){const s=l.XpG(2);l.R7$(),l.Dyx(s.itemData.meetingvoted||l.lJ4(0,g))}}function n(e,t){if(1&e&&(l.j41(0,"h5",7),l.EFF(1),l.k0s(),l.nrm(2,"hr",8),l.DNE(3,b,3,1,"div")(4,f,3,1)),2&e){const s=l.XpG();l.R7$(),l.JRh(s.itemData.title),l.R7$(2),l.vxM(3,s.itemData.type?3:4)}}let a=(()=>{var e;class t{constructor(r,c,m){this.loadingController=r,this.modalController=c,this.toastController=m,this.itemData={}}ngOnInit(){this.refreshData()}refreshData(){var r=this;return(0,u.A)(function*(){(0,v.uG)({loadingController:r.loadingController,params:{id:r.id},callback:c=>{r.itemData=(null==c?void 0:c.data)||{}}})})()}modalClose(){this.modalController.dismiss()}modalSubmit(){var r;let c=null===(r=this.itemData)||void 0===r||null===(r=r.meetingvoted)||void 0===r?void 0:r.filter(h=>h.selected);if(null==c||!c.length)return void(0,_.q)(this.toastController,{color:"warning",message:"Vui l\xf2ng l\u1ef1a ch\u1ecdn tr\u01b0\u1edbc khi x\xe1c nh\u1eadn."}).then(h=>h.present());let m=[];c.forEach(h=>{m.push(new Promise((C,R)=>{var B;(0,d.bj)({params:{title:h.title,voteId:null===(B=this.itemData)||void 0===B?void 0:B.id,isCreatedByAd:0},callback:M=>{null!=M&&M.status||(0,_.q)(this.toastController,{},M).then(E=>E.present()),C(M)}})}))}),Promise.all(m).then(h=>{(0,_.q)(this.toastController,{color:"success",message:"Bi\u1ec3u quy\u1ebft th\xe0nh c\xf4ng"}).then(C=>C.present()),this.modalController.dismiss(null,"success")})}selectMutiVoted(r,c){return(0,u.A)(function*(){c.selected=r.detail.checked})()}selectOneVoted(r){var c=this;return(0,u.A)(function*(){var m,h;null===(m=c.itemData)||void 0===m||null===(m=m.meetingvoted)||void 0===m||m.forEach(C=>{C.selected=!1}),null===(h=c.itemData)||void 0===h||null===(h=h.meetingvoted)||void 0===h||h.filter(C=>C.id==r.detail.value).forEach(C=>{C.selected=!0})})()}}return(e=t).\u0275fac=function(r){return new(r||e)(l.rXU(i.Xi),l.rXU(i.W3),l.rXU(i.K_))},e.\u0275cmp=l.VBU({type:e,selectors:[["app-modal-vote-choice"]],inputs:{id:"id"},decls:14,vars:1,consts:[["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"my-0","fw-700"],[1,"border-top","my-3"],[1,"mb-2"],["mode","md","labelPlacement","end",3,"ionChange","value"],[1,"text-wrap"],[3,"ionChange"],["mode","md","labelPlacement","end",3,"value"]],template:function(r,c){1&r&&(l.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),l.EFF(3,"Ch\u1ecdn bi\u1ec3u quy\u1ebft"),l.k0s(),l.j41(4,"ion-buttons",1)(5,"ion-button",2),l.bIt("click",function(){return c.modalClose()}),l.nrm(6,"ion-icon",3),l.k0s()()()(),l.j41(7,"ion-content",4),l.DNE(8,n,5,2),l.k0s(),l.j41(9,"ion-footer",5)(10,"ion-toolbar")(11,"ion-button",6),l.bIt("click",function(){return c.modalSubmit()}),l.j41(12,"ion-label"),l.EFF(13,"X\xe1c nh\u1eadn"),l.k0s()()()()),2&r&&(l.R7$(8),l.vxM(8,c.itemData?8:-1))},dependencies:[i.Jm,i.QW,i.eY,i.W9,i.M0,i.eU,i.iq,i.he,i.KO,i.f0,i.BC,i.ai,i.hB,i.Je]}),t})()},2706:(D,y,o)=>{o.d(y,{G:()=>v});var u=o(4438);let v=(()=>{class _{}return _.\u0275fac=function(i){return new(i||_)},_.\u0275mod=u.$C({type:_}),_.\u0275inj=u.G2t({}),_})()}}]);