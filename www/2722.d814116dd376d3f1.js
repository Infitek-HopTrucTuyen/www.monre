"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2722],{5826:(Q,b,d)=>{d.d(b,{KL:()=>s,bt:()=>v,l9:()=>m,qC:()=>y,vx:()=>p});var L=d(467),P=d(7586),u=d.n(P),$=d(1855);const s=function(){var h=(0,L.A)(function*(a){var e,o,t,c,r,l,i,f,g,C,R,A,k,T,D,E,M,F,N,_;a.params=a.params||{},(0,$.Ll)({url:"QuanLyLapLich/them",params:{title:null!==(e=a.params.title)&&void 0!==e?e:null,content:null!==(o=a.params.content)&&void 0!==o?o:null,startTime:null!==(t=a.params.startTime)&&void 0!==t?t:u()(new Date).format("YYYY-MM-DDTHH:mm:ss"),endTime:null!==(c=a.params.endTime)&&void 0!==c?c:u()(new Date((_=new Date,_.setHours(_.getHours()+4),_))).format("YYYY-MM-DDTHH:mm:ss"),chairMan:null!==(r=a.params.chairMan)&&void 0!==r?r:8,roomName:null!==(l=a.params.roomName)&&void 0!==l?l:u()(new Date).format("YYYYMMDDHHmmss"),place:null!==(i=a.params.place)&&void 0!==i?i:null,status:null!==(f=a.params.status)&&void 0!==f?f:2,start:null===(g=a.params.start)||void 0===g||g,token:null!==(C=a.params.token)&&void 0!==C?C:null,serverId:null!==(R=a.params.serverId)&&void 0!==R?R:4,typeId:null!==(A=a.params.typeId)&&void 0!==A?A:1,sharedRole:null!==(k=a.params.sharedRole)&&void 0!==k?k:0,password:null!==(T=a.params.password)&&void 0!==T?T:null,isLobby:null!==(D=a.params.isLobby)&&void 0!==D?D:0,isPublished:null!==(E=a.params.isPublished)&&void 0!==E?E:1,createdDate:null!==(M=a.params.createdDate)&&void 0!==M?M:u()(new Date).format("YYYY-MM-DDTHH:mm:ss"),createdBy:null!==(F=a.params.createdBy)&&void 0!==F?F:8,don_vi:null!==(N=a.params.don_vi)&&void 0!==N?N:14},success:_=>{"function"==typeof a.callback&&a.callback(_.data||null)},error:_=>{var I;"function"==typeof a.callback&&a.callback(null==_||null===(I=_.response)||void 0===I?void 0:I.data),console.error(_)},loading:a.loading,loadingController:a.loadingController})});return function(e){return h.apply(this,arguments)}}(),m=function(){var h=(0,L.A)(function*(a){var e,o,t,c,r,l,i,f,g,C,R,A,k,T,D,E,M,F,N;a.params=a.params||{},(0,$.Ll)({url:`QuanLyLapLich/chinhsua?id=${a.params.id}`,params:{title:null!==(e=a.params.title)&&void 0!==e?e:null,content:null!==(o=a.params.content)&&void 0!==o?o:null,startTime:null!==(t=a.params.startTime)&&void 0!==t?t:null,endTime:null!==(c=a.params.endTime)&&void 0!==c?c:null,chairMan:null!==(r=a.params.chairMan)&&void 0!==r?r:null,roomName:null!==(l=a.params.roomName)&&void 0!==l?l:null,place:null!==(i=a.params.place)&&void 0!==i?i:null,status:null!==(f=a.params.status)&&void 0!==f?f:null,start:null!==(g=a.params.start)&&void 0!==g?g:null,token:null!==(C=a.params.token)&&void 0!==C?C:null,serverId:null!==(R=a.params.serverId)&&void 0!==R?R:null,typeId:null!==(A=a.params.typeId)&&void 0!==A?A:null,sharedRole:null!==(k=a.params.sharedRole)&&void 0!==k?k:null,password:null!==(T=a.params.password)&&void 0!==T?T:null,isLobby:null!==(D=a.params.isLobby)&&void 0!==D?D:null,isPublished:null!==(E=a.params.isPublished)&&void 0!==E?E:null,modifiedDate:null!==(M=a.params.modifiedDate)&&void 0!==M?M:null,modifiedBy:null!==(F=a.params.modifiedBy)&&void 0!==F?F:null,don_vi:null!==(N=a.params.don_vi)&&void 0!==N?N:null},success:_=>{"function"==typeof a.callback&&a.callback(_.data||null)},error:_=>{var I;"function"==typeof a.callback&&a.callback(null==_||null===(I=_.response)||void 0===I?void 0:I.data),console.error(_)},loading:a.loading,loadingController:a.loadingController})});return function(e){return h.apply(this,arguments)}}(),y=function(){var h=(0,L.A)(function*(a){var e;a.params=a.params||{},(0,$.sj)({url:"QuanLyLapLich/xoa",params:{id:null!==(e=a.params.id)&&void 0!==e?e:null},success:o=>{"function"==typeof a.callback&&a.callback(o.data||null)},error:o=>{var t;"function"==typeof a.callback&&a.callback(null==o||null===(t=o.response)||void 0===t?void 0:t.data),console.error(o)},loading:a.loading,loadingController:a.loadingController})});return function(e){return h.apply(this,arguments)}}(),p=function(){var h=(0,L.A)(function*(a){var e;a.params=a.params||{},(0,$.hm)({url:"QuanLyLapLich/thongtin",params:{id:null!==(e=a.params.id)&&void 0!==e?e:null},success:o=>{"function"==typeof a.callback&&a.callback(o.data||null)},error:o=>{var t;"function"==typeof a.callback&&a.callback(null==o||null===(t=o.response)||void 0===t?void 0:t.data),console.error(o)},loading:a.loading,loadingController:a.loadingController})});return function(e){return h.apply(this,arguments)}}(),v=function(){var h=(0,L.A)(function*(a){var e;a.params=a.params||{},(0,$.hm)({url:"QuanLyLapLich/chitietphonghop",params:{roomName:null!==(e=a.params.roomName)&&void 0!==e?e:null},success:o=>{"function"==typeof a.callback&&a.callback(o.data||null)},error:o=>{var t;"function"==typeof a.callback&&a.callback(null==o||null===(t=o.response)||void 0===t?void 0:t.data),console.error(o)},loading:a.loading,loadingController:a.loadingController})});return function(e){return h.apply(this,arguments)}}()},2722:(Q,b,d)=>{d.r(b),d.d(b,{ScheduleAddPageModule:()=>e});var L=d(177),P=d(9417),u=d(4742),$=d(2175),s=d(467),m=d(5826),y=d(5751),p=d(1312),v=d(8833),n=d(4438);const x=["inputRoomName"],Y=["inputRoomPwd"];function S(o,t){if(1&o){const c=n.RV6();n.j41(0,"div",10)(1,"ion-input",12,1),n.bIt("ionChange",function(l){n.eBV(c);const i=n.XpG();return n.Njj(i.changeRoomPwd(l))}),n.nrm(3,"ion-input-password-toggle",13),n.k0s()()}if(2&o){const c=n.XpG();n.R7$(),n.Y8G("value",c.dataForm.roomPwd)}}const h=[{path:"",component:(()=>{var o;class t{constructor(r,l){this.router=r,this.toastController=l,this.dataForm={}}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{var r;null===(r=this.inputRoomName)||void 0===r||r.setFocus()},300)}changeIsPwd(r){var l=this;return(0,s.A)(function*(){l.isPwd=r.detail.checked,l.isPwd&&(l.dataForm.roomName||(l.dataForm.roomName="H\u1ecdp "+(0,p.Rv)()),setTimeout(()=>{var i;null===(i=l.inputRoomPwd)||void 0===i||i.setFocus()},300))})()}changeRoomName(r){var l=this;return(0,s.A)(function*(){var i;l.dataForm.roomName=null===(i=r.detail.value)||void 0===i?void 0:i.trim()})()}changeRoomPwd(r){var l=this;return(0,s.A)(function*(){var i;l.dataForm.roomPwd=null===(i=r.detail.value)||void 0===i?void 0:i.trim()})()}get submitRoomAdd_Disabled(){return!this.dataForm.roomName}submitRoomAdd(){var r=this;return(0,s.A)(function*(){(0,m.KL)({params:{title:r.dataForm.roomName,password:r.dataForm.roomPwd},callback:l=>{(0,y.q)(r.toastController,{},l).then(i=>i.present()),"Th\xeam l\u1ecbch th\xe0nh c\xf4ng"==(null==l?void 0:l.message)&&r.router.navigateByUrl(v._.SCHEDULE)}})})()}}return(o=t).\u0275fac=function(r){return new(r||o)(n.rXU($.Ix),n.rXU(u.K_))},o.\u0275cmp=n.VBU({type:o,selectors:[["app-schedule-add"]],viewQuery:function(r,l){if(1&r&&(n.GBs(x,5),n.GBs(Y,5)),2&r){let i;n.mGM(i=n.lsd())&&(l.inputRoomName=i.first),n.mGM(i=n.lsd())&&(l.inputRoomPwd=i.first)}},decls:23,vars:5,consts:[["inputRoomName",""],["inputRoomPwd",""],["collapse","fade"],[3,"defaultHref","text"],[1,"ion-padding"],["mode","md","label-placement","floating","fill","outline","clear-input","true","placeholder","Nh\u1eadp t\xean cu\u1ed9c h\u1ecdp","minlength","6","maxlength","100",3,"ionChange","value"],["slot","label"],["color","danger"],[1,"mt-4","max-w-240"],[3,"ionChange"],[1,"mt-2","max-w-240"],["color","primary","expand","block",3,"click","disabled"],["mode","md","type","password","fill","outline","placeholder","******","minlength","6","maxlength","32",3,"ionChange","value"],["slot","end","color","dark"]],template:function(r,l){if(1&r){const i=n.RV6();n.j41(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-buttons"),n.nrm(3,"ion-back-button",3),n.k0s(),n.j41(4,"ion-title"),n.EFF(5,"T\u1ea1o cu\u1ed9c h\u1ecdp ngay"),n.k0s()()(),n.j41(6,"ion-content",4)(7,"div")(8,"ion-input",5,0),n.bIt("ionChange",function(g){return n.eBV(i),n.Njj(l.changeRoomName(g))}),n.j41(10,"div",6),n.EFF(11,"T\xean cu\u1ed9c h\u1ecdp "),n.j41(12,"ion-text",7),n.EFF(13,"*"),n.k0s()()()(),n.j41(14,"div",8)(15,"ion-toggle",9),n.bIt("ionChange",function(g){return n.eBV(i),n.Njj(l.changeIsPwd(g))}),n.EFF(16,"M\u1eadt kh\u1ea9u truy c\u1eadp"),n.k0s()(),n.DNE(17,S,4,1,"div",10),n.k0s(),n.j41(18,"ion-footer",2)(19,"ion-toolbar")(20,"ion-button",11),n.bIt("click",function(){return n.eBV(i),n.Njj(l.submitRoomAdd())}),n.j41(21,"ion-label"),n.EFF(22,"Kh\u1edfi t\u1ea1o"),n.k0s()()()()}2&r&&(n.R7$(3),n.Y8G("defaultHref","/")("text",""),n.R7$(5),n.Y8G("value",l.dataForm.roomName),n.R7$(9),n.vxM(17,l.isPwd?17:-1),n.R7$(3),n.Y8G("disabled",l.submitRoomAdd_Disabled))},dependencies:[u.Jm,u.QW,u.W9,u.M0,u.eU,u.$w,u.Wv,u.he,u.IO,u.BC,u.BY,u.ai,u.hB,u.Gw,u.el]}),t})()}];let a=(()=>{var o;class t{}return(o=t).\u0275fac=function(r){return new(r||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[$.iI.forChild(h),$.iI]}),t})(),e=(()=>{var o;class t{}return(o=t).\u0275fac=function(r){return new(r||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[L.MD,P.YN,u.bv,a]}),t})()},5751:(Q,b,d)=>{d.d(b,{q:()=>P});var L=d(467);const P=function(){var u=(0,L.A)(function*($,s,m){var y,p,v;return!s.message&&m&&(s.message=null!==(v=null==m?void 0:m.message)&&void 0!==v?v:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!",s.icon||(s.icon=null!=m&&m.message?"checkmark-circle-sharp":"alert-circle-outline"),s.color||(s.color=1==(null==m?void 0:m.state)?"success":"warning")),s.position||(s.position="bottom"),s.icon||(s.icon="bulb-outline"),s.color||(s.color="secondary"),s.duration=null!==(y=s.duration)&&void 0!==y?y:3e3,s.animated=null===(p=s.animated)||void 0===p||p,s.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield $.create(s)});return function(s,m,y){return u.apply(this,arguments)}}()},1312:(Q,b,d)=>{d.d(b,{IV:()=>s,NY:()=>m,Rv:()=>u,k8:()=>y});var L=d(7586),P=d.n(L);function u(p,v,n){return n?P()(p||void 0).utcOffset(0,!1).format(null!=v?v:"HH:mm, DD/MM/YYYY"):P()(p||void 0).format(null!=v?v:"HH:mm, DD/MM/YYYY")}const s=p=>(null!=p?p:"0123456789").replace(/^0/,"+84").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,m=p=>(null!=p?p:"123456789").replace(/[^0-9]/,"").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,y=p=>{if(!p)return!1;try{return navigator.clipboard.writeText(p),!0}catch(v){console.error(v)}return!1}}}]);