"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2722],{5826:(Q,b,d)=>{d.d(b,{KL:()=>s,bt:()=>h,l9:()=>p,pD:()=>x,qC:()=>y,rm:()=>Y,vx:()=>c});var $=d(467),P=d(7586),u=d.n(P),f=d(1855);const s=function(){var _=(0,$.A)(function*(a){var l,n,t,m,r,e,i,g,L,C,R,A,k,T,D,E,M,F,N,v;a.params=a.params||{},(0,f.Ll)({url:"QuanLyLapLich/them",params:{title:null!==(l=a.params.title)&&void 0!==l?l:null,content:null!==(n=a.params.content)&&void 0!==n?n:null,startTime:null!==(t=a.params.startTime)&&void 0!==t?t:u()(new Date).format("YYYY-MM-DDTHH:mm:ss"),endTime:null!==(m=a.params.endTime)&&void 0!==m?m:u()(new Date((v=new Date,v.setHours(v.getHours()+4),v))).format("YYYY-MM-DDTHH:mm:ss"),chairMan:null!==(r=a.params.chairMan)&&void 0!==r?r:8,roomName:null!==(e=a.params.roomName)&&void 0!==e?e:u()(new Date).format("YYYYMMDDHHmmss"),place:null!==(i=a.params.place)&&void 0!==i?i:null,status:null!==(g=a.params.status)&&void 0!==g?g:2,start:null===(L=a.params.start)||void 0===L||L,token:null!==(C=a.params.token)&&void 0!==C?C:null,serverId:null!==(R=a.params.serverId)&&void 0!==R?R:4,typeId:null!==(A=a.params.typeId)&&void 0!==A?A:1,sharedRole:null!==(k=a.params.sharedRole)&&void 0!==k?k:0,password:null!==(T=a.params.password)&&void 0!==T?T:null,isLobby:null!==(D=a.params.isLobby)&&void 0!==D?D:0,isPublished:null!==(E=a.params.isPublished)&&void 0!==E?E:1,createdDate:null!==(M=a.params.createdDate)&&void 0!==M?M:u()(new Date).format("YYYY-MM-DDTHH:mm:ss"),createdBy:null!==(F=a.params.createdBy)&&void 0!==F?F:8,don_vi:null!==(N=a.params.don_vi)&&void 0!==N?N:14},success:v=>{"function"==typeof a.callback&&a.callback(v.data||null)},error:v=>{var I;"function"==typeof a.callback&&a.callback(null==v||null===(I=v.response)||void 0===I?void 0:I.data),console.error(v)},loading:a.loading,loadingController:a.loadingController})});return function(l){return _.apply(this,arguments)}}(),p=function(){var _=(0,$.A)(function*(a){var l,n,t,m,r,e,i,g,L,C,R,A,k,T,D,E,M,F,N;a.params=a.params||{},(0,f.IH)({url:`QuanLyLapLich/chinhsua?id=${a.params.id}`,params:{title:null!==(l=a.params.title)&&void 0!==l?l:null,content:null!==(n=a.params.content)&&void 0!==n?n:null,startTime:null!==(t=a.params.startTime)&&void 0!==t?t:null,endTime:null!==(m=a.params.endTime)&&void 0!==m?m:null,chairMan:null!==(r=a.params.chairMan)&&void 0!==r?r:null,roomName:null!==(e=a.params.roomName)&&void 0!==e?e:null,place:null!==(i=a.params.place)&&void 0!==i?i:null,status:null!==(g=a.params.status)&&void 0!==g?g:null,start:null!==(L=a.params.start)&&void 0!==L?L:null,token:null!==(C=a.params.token)&&void 0!==C?C:null,serverId:null!==(R=a.params.serverId)&&void 0!==R?R:null,typeId:null!==(A=a.params.typeId)&&void 0!==A?A:null,sharedRole:null!==(k=a.params.sharedRole)&&void 0!==k?k:null,password:null!==(T=a.params.password)&&void 0!==T?T:null,isLobby:null!==(D=a.params.isLobby)&&void 0!==D?D:null,isPublished:null!==(E=a.params.isPublished)&&void 0!==E?E:null,modifiedDate:null!==(M=a.params.modifiedDate)&&void 0!==M?M:null,modifiedBy:null!==(F=a.params.modifiedBy)&&void 0!==F?F:null,don_vi:null!==(N=a.params.don_vi)&&void 0!==N?N:null},success:v=>{"function"==typeof a.callback&&a.callback(v.data||null)},error:v=>{var I;"function"==typeof a.callback&&a.callback(null==v||null===(I=v.response)||void 0===I?void 0:I.data),console.error(v)},loading:a.loading,loadingController:a.loadingController})});return function(l){return _.apply(this,arguments)}}(),y=function(){var _=(0,$.A)(function*(a){var l;a.params=a.params||{},(0,f.sj)({url:"QuanLyLapLich/xoa?id="+a.params.id,params:{id:null!==(l=a.params.id)&&void 0!==l?l:null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var t;"function"==typeof a.callback&&a.callback(null==n||null===(t=n.response)||void 0===t?void 0:t.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(l){return _.apply(this,arguments)}}(),c=function(){var _=(0,$.A)(function*(a){var l;a.params=a.params||{},(0,f.hm)({url:"QuanLyLapLich/thongtin",params:{id:null!==(l=a.params.id)&&void 0!==l?l:null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var t;"function"==typeof a.callback&&a.callback(null==n||null===(t=n.response)||void 0===t?void 0:t.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(l){return _.apply(this,arguments)}}(),h=function(){var _=(0,$.A)(function*(a){var l;a.params=a.params||{},(0,f.hm)({url:"QuanLyLapLich/chitietphonghop",params:{roomName:null!==(l=a.params.roomName)&&void 0!==l?l:null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var t;"function"==typeof a.callback&&a.callback(null==n||null===(t=n.response)||void 0===t?void 0:t.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(l){return _.apply(this,arguments)}}(),x=function(){var _=(0,$.A)(function*(a){a.params=a.params||{},(0,f.hm)({url:"QuanLyLapLich/danhsachdaxoa",success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var n;"function"==typeof a.callback&&a.callback(null==l||null===(n=l.response)||void 0===n?void 0:n.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return _.apply(this,arguments)}}(),Y=function(){var _=(0,$.A)(function*(a){var l;a.params=a.params||{},(0,f.Ll)({url:"QuanLyLapLich/khoiphuc?id="+a.params.id,params:{id:null!==(l=a.params.id)&&void 0!==l?l:null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var t;"function"==typeof a.callback&&a.callback(null==n||null===(t=n.response)||void 0===t?void 0:t.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(l){return _.apply(this,arguments)}}()},2722:(Q,b,d)=>{d.r(b),d.d(b,{ScheduleAddPageModule:()=>l});var $=d(177),P=d(9417),u=d(4742),f=d(2175),s=d(467),p=d(5826),y=d(5751),c=d(1312),h=d(8833),o=d(4438);const S=["inputRoomName"],x=["inputRoomPwd"];function Y(n,t){if(1&n){const m=o.RV6();o.j41(0,"div",10)(1,"ion-input",12,1),o.bIt("ionChange",function(e){o.eBV(m);const i=o.XpG();return o.Njj(i.changeRoomPwd(e))}),o.nrm(3,"ion-input-password-toggle",13),o.k0s()()}if(2&n){const m=o.XpG();o.R7$(),o.Y8G("value",m.dataForm.roomPwd)}}const _=[{path:"",component:(()=>{var n;class t{constructor(r,e){this.router=r,this.toastController=e,this.dataForm={}}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{var r;null===(r=this.inputRoomName)||void 0===r||r.setFocus()},300)}changeIsPwd(r){var e=this;return(0,s.A)(function*(){e.isPwd=r.detail.checked,e.isPwd&&(e.dataForm.roomName||(e.dataForm.roomName="H\u1ecdp "+(0,c.Rv)()),setTimeout(()=>{var i;null===(i=e.inputRoomPwd)||void 0===i||i.setFocus()},300))})()}changeRoomName(r){var e=this;return(0,s.A)(function*(){var i;e.dataForm.roomName=null===(i=r.detail.value)||void 0===i?void 0:i.trim()})()}changeRoomPwd(r){var e=this;return(0,s.A)(function*(){var i;e.dataForm.roomPwd=null===(i=r.detail.value)||void 0===i?void 0:i.trim()})()}get submitRoomAdd_Disabled(){return!this.dataForm.roomName}submitRoomAdd(){var r=this;return(0,s.A)(function*(){(0,p.KL)({params:{title:r.dataForm.roomName,password:r.dataForm.roomPwd},callback:e=>{(0,y.q)(r.toastController,{},e).then(i=>i.present()),"Th\xeam l\u1ecbch th\xe0nh c\xf4ng"==(null==e?void 0:e.message)&&r.router.navigateByUrl(h._.SCHEDULE)}})})()}}return(n=t).\u0275fac=function(r){return new(r||n)(o.rXU(f.Ix),o.rXU(u.K_))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-schedule-add"]],viewQuery:function(r,e){if(1&r&&(o.GBs(S,5),o.GBs(x,5)),2&r){let i;o.mGM(i=o.lsd())&&(e.inputRoomName=i.first),o.mGM(i=o.lsd())&&(e.inputRoomPwd=i.first)}},decls:23,vars:5,consts:[["inputRoomName",""],["inputRoomPwd",""],["collapse","fade"],[3,"defaultHref","text"],[1,"ion-padding"],["mode","md","label-placement","floating","fill","outline","clear-input","true","placeholder","Nh\u1eadp t\xean cu\u1ed9c h\u1ecdp","minlength","6","maxlength","100",3,"ionChange","value"],["slot","label"],["color","danger"],[1,"mt-4","max-w-240"],[3,"ionChange"],[1,"mt-2","max-w-240"],["color","primary","expand","block",3,"click","disabled"],["mode","md","type","password","fill","outline","placeholder","******","minlength","6","maxlength","32",3,"ionChange","value"],["slot","end","color","dark"]],template:function(r,e){if(1&r){const i=o.RV6();o.j41(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-buttons"),o.nrm(3,"ion-back-button",3),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"T\u1ea1o cu\u1ed9c h\u1ecdp ngay"),o.k0s()()(),o.j41(6,"ion-content",4)(7,"div")(8,"ion-input",5,0),o.bIt("ionChange",function(L){return o.eBV(i),o.Njj(e.changeRoomName(L))}),o.j41(10,"div",6),o.EFF(11,"T\xean cu\u1ed9c h\u1ecdp "),o.j41(12,"ion-text",7),o.EFF(13,"*"),o.k0s()()()(),o.j41(14,"div",8)(15,"ion-toggle",9),o.bIt("ionChange",function(L){return o.eBV(i),o.Njj(e.changeIsPwd(L))}),o.EFF(16,"M\u1eadt kh\u1ea9u truy c\u1eadp"),o.k0s()(),o.DNE(17,Y,4,1,"div",10),o.k0s(),o.j41(18,"ion-footer",2)(19,"ion-toolbar")(20,"ion-button",11),o.bIt("click",function(){return o.eBV(i),o.Njj(e.submitRoomAdd())}),o.j41(21,"ion-label"),o.EFF(22,"Kh\u1edfi t\u1ea1o"),o.k0s()()()()}2&r&&(o.R7$(3),o.Y8G("defaultHref","/")("text",""),o.R7$(5),o.Y8G("value",e.dataForm.roomName),o.R7$(9),o.vxM(17,e.isPwd?17:-1),o.R7$(3),o.Y8G("disabled",e.submitRoomAdd_Disabled))},dependencies:[u.Jm,u.QW,u.W9,u.M0,u.eU,u.$w,u.Wv,u.he,u.IO,u.BC,u.BY,u.ai,u.hB,u.Gw,u.el]}),t})()}];let a=(()=>{var n;class t{}return(n=t).\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[f.iI.forChild(_),f.iI]}),t})(),l=(()=>{var n;class t{}return(n=t).\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[$.MD,P.YN,u.bv,a]}),t})()},5751:(Q,b,d)=>{d.d(b,{q:()=>P});var $=d(467);const P=function(){var u=(0,$.A)(function*(f,s,p){var y,c,h;return!s.message&&p&&(s.message=null!==(h=null==p?void 0:p.message)&&void 0!==h?h:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!",s.icon||(s.icon=null!=p&&p.message?"checkmark-circle-sharp":"alert-circle-outline"),s.color||(s.color=1==(null==p?void 0:p.state)||1==(null==p?void 0:p.data)?"success":"warning")),s.position||(s.position="bottom"),s.icon||(s.icon="bulb-outline"),s.color||(s.color="secondary"),s.duration=null!==(y=s.duration)&&void 0!==y?y:3e3,s.animated=null===(c=s.animated)||void 0===c||c,s.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield f.create(s)});return function(s,p,y){return u.apply(this,arguments)}}()},1312:(Q,b,d)=>{d.d(b,{IV:()=>s,NY:()=>p,Rv:()=>u,k8:()=>y});var $=d(7586),P=d.n($);function u(c,h,o){return o?P()(c||void 0).utcOffset(0,!1).format(null!=h?h:"HH:mm, DD/MM/YYYY"):P()(c||void 0).format(null!=h?h:"HH:mm, DD/MM/YYYY")}const s=c=>(null!=c?c:"0123456789").replace(/^0/,"+84").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,p=c=>(null!=c?c:"123456789").replace(/[^0-9]/,"").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,y=c=>{if(!c)return!1;try{return navigator.clipboard.writeText(c),!0}catch(h){console.error(h)}return!1}}}]);