"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2722],{5826:(Q,b,c)=>{c.d(b,{Dm:()=>x,KL:()=>i,bt:()=>g,l9:()=>h,pD:()=>Y,qC:()=>y,rm:()=>w,s_:()=>S,vR:()=>n,vx:()=>m});var _=c(467),P=c(7586),d=c.n(P),v=c(5972);const i=function(){var p=(0,_.A)(function*(a){var e,l,r,s,o,u,t,$,L,R,C,A,k,D,T,E,M,N,F,f;a.params=a.params||{},(0,v.Ll)({url:"QuanLyLapLich/them",params:{title:null!==(e=a.params.title)&&void 0!==e?e:null,content:null!==(l=a.params.content)&&void 0!==l?l:null,startTime:null!==(r=a.params.startTime)&&void 0!==r?r:d()(new Date).format("YYYY-MM-DDTHH:mm:ss"),endTime:null!==(s=a.params.endTime)&&void 0!==s?s:d()(new Date((f=new Date,f.setHours(f.getHours()+4),f))).format("YYYY-MM-DDTHH:mm:ss"),chairMan:null!==(o=a.params.chairMan)&&void 0!==o?o:8,roomName:null!==(u=a.params.roomName)&&void 0!==u?u:d()(new Date).format("YYYYMMDDHHmmss"),place:null!==(t=a.params.place)&&void 0!==t?t:null,status:null!==($=a.params.status)&&void 0!==$?$:2,start:null===(L=a.params.start)||void 0===L||L,token:null!==(R=a.params.token)&&void 0!==R?R:null,serverId:null!==(C=a.params.serverId)&&void 0!==C?C:4,typeId:null!==(A=a.params.typeId)&&void 0!==A?A:1,sharedRole:null!==(k=a.params.sharedRole)&&void 0!==k?k:0,password:null!==(D=a.params.password)&&void 0!==D?D:null,isLobby:null!==(T=a.params.isLobby)&&void 0!==T?T:0,isPublished:null!==(E=a.params.isPublished)&&void 0!==E?E:1,createdDate:null!==(M=a.params.createdDate)&&void 0!==M?M:d()(new Date).format("YYYY-MM-DDTHH:mm:ss"),createdBy:null!==(N=a.params.createdBy)&&void 0!==N?N:8,don_vi:null!==(F=a.params.don_vi)&&void 0!==F?F:14},success:f=>{"function"==typeof a.callback&&a.callback(f.data||null)},error:f=>{var I;"function"==typeof a.callback&&a.callback(null==f||null===(I=f.response)||void 0===I?void 0:I.data),console.error(f)},loading:a.loading,loadingController:a.loadingController})});return function(e){return p.apply(this,arguments)}}(),h=function(){var p=(0,_.A)(function*(a){var e,l,r,s,o,u,t,$,L,R,C,A,k,D,T,E,M,N,F;a.params=a.params||{},(0,v.IH)({url:`QuanLyLapLich/chinhsua?id=${a.params.id}`,params:{title:null!==(e=a.params.title)&&void 0!==e?e:null,content:null!==(l=a.params.content)&&void 0!==l?l:null,startTime:null!==(r=a.params.startTime)&&void 0!==r?r:null,endTime:null!==(s=a.params.endTime)&&void 0!==s?s:null,chairMan:null!==(o=a.params.chairMan)&&void 0!==o?o:null,roomName:null!==(u=a.params.roomName)&&void 0!==u?u:null,place:null!==(t=a.params.place)&&void 0!==t?t:null,status:null!==($=a.params.status)&&void 0!==$?$:null,start:null!==(L=a.params.start)&&void 0!==L?L:null,token:null!==(R=a.params.token)&&void 0!==R?R:null,serverId:null!==(C=a.params.serverId)&&void 0!==C?C:null,typeId:null!==(A=a.params.typeId)&&void 0!==A?A:null,sharedRole:null!==(k=a.params.sharedRole)&&void 0!==k?k:null,password:null!==(D=a.params.password)&&void 0!==D?D:null,isLobby:null!==(T=a.params.isLobby)&&void 0!==T?T:null,isPublished:null!==(E=a.params.isPublished)&&void 0!==E?E:null,modifiedDate:null!==(M=a.params.modifiedDate)&&void 0!==M?M:null,modifiedBy:null!==(N=a.params.modifiedBy)&&void 0!==N?N:null,don_vi:null!==(F=a.params.don_vi)&&void 0!==F?F:null},success:f=>{"function"==typeof a.callback&&a.callback(f.data||null)},error:f=>{var I;"function"==typeof a.callback&&a.callback(null==f||null===(I=f.response)||void 0===I?void 0:I.data),console.error(f)},loading:a.loading,loadingController:a.loadingController})});return function(e){return p.apply(this,arguments)}}(),y=function(){var p=(0,_.A)(function*(a){var e;a.params=a.params||{},(0,v.sj)({url:"QuanLyLapLich/xoa?id="+a.params.id,params:{id:null!==(e=a.params.id)&&void 0!==e?e:null},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var r;"function"==typeof a.callback&&a.callback(null==l||null===(r=l.response)||void 0===r?void 0:r.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(e){return p.apply(this,arguments)}}(),m=function(){var p=(0,_.A)(function*(a){var e;a.params=a.params||{},(0,v.hm)({url:"QuanLyLapLich/thongtin",params:{id:null!==(e=a.params.id)&&void 0!==e?e:null},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var r;"function"==typeof a.callback&&a.callback(null==l||null===(r=l.response)||void 0===r?void 0:r.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(e){return p.apply(this,arguments)}}(),g=function(){var p=(0,_.A)(function*(a){var e;a.params=a.params||{},(0,v.hm)({url:"QuanLyLapLich/chitietphonghop",params:{roomName:null!==(e=a.params.roomName)&&void 0!==e?e:null},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var r;"function"==typeof a.callback&&a.callback(null==l||null===(r=l.response)||void 0===r?void 0:r.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(e){return p.apply(this,arguments)}}(),n=function(){var p=(0,_.A)(function*(a){var e;a.params=a.params||{},(0,v.Ll)({url:"QuanLyLapLich/xacnhan?id="+a.params.id,params:{id:null!==(e=a.params.id)&&void 0!==e?e:null},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var r;"function"==typeof a.callback&&a.callback(null==l||null===(r=l.response)||void 0===r?void 0:r.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(e){return p.apply(this,arguments)}}(),x=function(){var p=(0,_.A)(function*(a){var e;a.params=a.params||{},(0,v.Ll)({url:"QuanLyLapLich/huyxacnhan?id="+a.params.id,params:{id:null!==(e=a.params.id)&&void 0!==e?e:null},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var r;"function"==typeof a.callback&&a.callback(null==l||null===(r=l.response)||void 0===r?void 0:r.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(e){return p.apply(this,arguments)}}(),Y=function(){var p=(0,_.A)(function*(a){a.params=a.params||{},(0,v.hm)({url:"QuanLyLapLich/danhsachdaxoa",success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var l;"function"==typeof a.callback&&a.callback(null==e||null===(l=e.response)||void 0===l?void 0:l.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return p.apply(this,arguments)}}(),w=function(){var p=(0,_.A)(function*(a){var e;a.params=a.params||{},(0,v.Ll)({url:"QuanLyLapLich/khoiphuc?id="+a.params.id,params:{id:null!==(e=a.params.id)&&void 0!==e?e:null},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var r;"function"==typeof a.callback&&a.callback(null==l||null===(r=l.response)||void 0===r?void 0:r.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(e){return p.apply(this,arguments)}}(),S=function(){var p=(0,_.A)(function*(a){var e,l,r,s,o;a.params=a.params||{},(0,v.hm)({url:"QuanLyLapLich/danhsach",params:{pageNumber:null!==(e=a.params.pageNumber)&&void 0!==e?e:null,pageSize:null!==(l=a.params.pageSize)&&void 0!==l?l:null,dateFrom:null!==(r=a.params.dateFrom)&&void 0!==r?r:null,dateTo:null!==(s=a.params.dateTo)&&void 0!==s?s:null,search:null!==(o=a.params.search)&&void 0!==o?o:null},success:u=>{"function"==typeof a.callback&&a.callback(u.data||null)},error:u=>{var t;"function"==typeof a.callback&&a.callback(null==u||null===(t=u.response)||void 0===t?void 0:t.data),console.error(u)},loading:a.loading,loadingController:a.loadingController})});return function(e){return p.apply(this,arguments)}}()},2722:(Q,b,c)=>{c.r(b),c.d(b,{ScheduleAddPageModule:()=>e});var _=c(177),P=c(9417),d=c(4742),v=c(2175),i=c(467),h=c(5826),y=c(5751),m=c(1312),g=c(8833),n=c(4438);const x=["inputRoomName"],Y=["inputRoomPwd"];function w(l,r){if(1&l){const s=n.RV6();n.j41(0,"div",10)(1,"ion-input",12,1),n.bIt("ionChange",function(u){n.eBV(s);const t=n.XpG();return n.Njj(t.changeRoomPwd(u))}),n.nrm(3,"ion-input-password-toggle",13),n.k0s()()}if(2&l){const s=n.XpG();n.R7$(),n.Y8G("value",s.dataForm.roomPwd)}}const p=[{path:"",component:(()=>{var l;class r{constructor(o,u){this.router=o,this.toastController=u,this.dataForm={}}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{var o;null===(o=this.inputRoomName)||void 0===o||o.setFocus()},300)}changeIsPwd(o){var u=this;return(0,i.A)(function*(){u.isPwd=o.detail.checked,u.isPwd&&(u.dataForm.roomName||(u.dataForm.roomName="H\u1ecdp "+(0,m.Rv)()),setTimeout(()=>{var t;null===(t=u.inputRoomPwd)||void 0===t||t.setFocus()},300))})()}changeRoomName(o){var u=this;return(0,i.A)(function*(){var t;u.dataForm.roomName=null===(t=o.detail.value)||void 0===t?void 0:t.trim()})()}changeRoomPwd(o){var u=this;return(0,i.A)(function*(){var t;u.dataForm.roomPwd=null===(t=o.detail.value)||void 0===t?void 0:t.trim()})()}get submitRoomAdd_Disabled(){return!this.dataForm.roomName}submitRoomAdd(){var o=this;return(0,i.A)(function*(){(0,h.KL)({params:{title:o.dataForm.roomName,password:o.dataForm.roomPwd},callback:u=>{(0,y.q)(o.toastController,{},u).then(t=>t.present()),"Th\xeam l\u1ecbch th\xe0nh c\xf4ng"==(null==u?void 0:u.message)&&o.router.navigateByUrl(g._.SCHEDULE)}})})()}}return(l=r).\u0275fac=function(o){return new(o||l)(n.rXU(v.Ix),n.rXU(d.K_))},l.\u0275cmp=n.VBU({type:l,selectors:[["app-schedule-add"]],viewQuery:function(o,u){if(1&o&&(n.GBs(x,5),n.GBs(Y,5)),2&o){let t;n.mGM(t=n.lsd())&&(u.inputRoomName=t.first),n.mGM(t=n.lsd())&&(u.inputRoomPwd=t.first)}},decls:23,vars:5,consts:[["inputRoomName",""],["inputRoomPwd",""],["collapse","fade"],[3,"defaultHref","text"],[1,"ion-padding"],["mode","md","label-placement","floating","fill","outline","clear-input","true","placeholder","Nh\u1eadp t\xean cu\u1ed9c h\u1ecdp","minlength","6","maxlength","100",3,"ionChange","value"],["slot","label"],["color","danger"],[1,"mt-4","max-w-240"],[3,"ionChange"],[1,"mt-2","max-w-240"],["color","primary","expand","block",3,"click","disabled"],["mode","md","type","password","fill","outline","placeholder","******","minlength","6","maxlength","32",3,"ionChange","value"],["slot","end","color","dark"]],template:function(o,u){if(1&o){const t=n.RV6();n.j41(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-buttons"),n.nrm(3,"ion-back-button",3),n.k0s(),n.j41(4,"ion-title"),n.EFF(5,"T\u1ea1o cu\u1ed9c h\u1ecdp ngay"),n.k0s()()(),n.j41(6,"ion-content",4)(7,"div")(8,"ion-input",5,0),n.bIt("ionChange",function(L){return n.eBV(t),n.Njj(u.changeRoomName(L))}),n.j41(10,"div",6),n.EFF(11,"T\xean cu\u1ed9c h\u1ecdp "),n.j41(12,"ion-text",7),n.EFF(13,"*"),n.k0s()()()(),n.j41(14,"div",8)(15,"ion-toggle",9),n.bIt("ionChange",function(L){return n.eBV(t),n.Njj(u.changeIsPwd(L))}),n.EFF(16,"M\u1eadt kh\u1ea9u truy c\u1eadp"),n.k0s()(),n.DNE(17,w,4,1,"div",10),n.k0s(),n.j41(18,"ion-footer",2)(19,"ion-toolbar")(20,"ion-button",11),n.bIt("click",function(){return n.eBV(t),n.Njj(u.submitRoomAdd())}),n.j41(21,"ion-label"),n.EFF(22,"Kh\u1edfi t\u1ea1o"),n.k0s()()()()}2&o&&(n.R7$(3),n.Y8G("defaultHref","/")("text",""),n.R7$(5),n.Y8G("value",u.dataForm.roomName),n.R7$(9),n.vxM(17,u.isPwd?17:-1),n.R7$(3),n.Y8G("disabled",u.submitRoomAdd_Disabled))},dependencies:[d.Jm,d.QW,d.W9,d.M0,d.eU,d.$w,d.Wv,d.he,d.IO,d.BC,d.BY,d.ai,d.hB,d.Gw,d.el]}),r})()}];let a=(()=>{var l;class r{}return(l=r).\u0275fac=function(o){return new(o||l)},l.\u0275mod=n.$C({type:l}),l.\u0275inj=n.G2t({imports:[v.iI.forChild(p),v.iI]}),r})(),e=(()=>{var l;class r{}return(l=r).\u0275fac=function(o){return new(o||l)},l.\u0275mod=n.$C({type:l}),l.\u0275inj=n.G2t({imports:[_.MD,P.YN,d.bv,a]}),r})()},5751:(Q,b,c)=>{c.d(b,{q:()=>P});var _=c(467);const P=function(){var d=(0,_.A)(function*(v,i,h){var y,m,g;return!i.message&&h&&(i.message=null!==(g=null==h?void 0:h.message)&&void 0!==g?g:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!",i.icon||(i.icon=null!=h&&h.message?"checkmark-circle-sharp":"alert-circle-outline"),i.color||(i.color=null!=h&&h.status?"success":-1==(null==h?void 0:h.data)?"danger":"warning")),i.position||(i.position="bottom"),i.icon||(i.icon="bulb-outline"),i.color||(i.color="secondary"),i.duration=null!==(y=i.duration)&&void 0!==y?y:3e3,i.animated=null===(m=i.animated)||void 0===m||m,i.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield v.create(i)});return function(i,h,y){return d.apply(this,arguments)}}()},1312:(Q,b,c)=>{c.d(b,{IV:()=>i,NY:()=>h,Rv:()=>d,k8:()=>y});var _=c(7586),P=c.n(_);function d(m,g,n){return n?P()(m||void 0).utcOffset(0,!1).format(null!=g?g:"HH:mm, DD/MM/YYYY"):P()(m||void 0).format(null!=g?g:"HH:mm, DD/MM/YYYY")}const i=m=>(null!=m?m:"0123456789").replace(/^0/,"+84").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,h=m=>(null!=m?m:"123456789").replace(/[^0-9]/,"").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,y=m=>{if(!m)return!1;try{return navigator.clipboard.writeText(m),!0}catch(g){console.error(g)}return!1}}}]);