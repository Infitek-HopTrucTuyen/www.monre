"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9515],{5826:(O,T,r)=>{r.d(T,{Td:()=>A,Zt:()=>g,j9:()=>l,s4:()=>C});var h=r(467),R=r(7586),p=r.n(R),v=r(1855);const g=function(){var $=(0,h.A)(function*(a){var i,s,d,E,b,k,t,_,c,n,u,m,y,M,D,I,F,U,x,f;a.params=a.params||{},(0,v.Ll)({url:"QuanLyLapLich/them_lich_hop",params:{title:null!==(i=a.params.title)&&void 0!==i?i:null,content:null!==(s=a.params.content)&&void 0!==s?s:null,startTime:null!==(d=a.params.startTime)&&void 0!==d?d:p()(new Date).format("YYYY-MM-DDTHH:mm:ss"),endTime:null!==(E=a.params.endTime)&&void 0!==E?E:p()(new Date((f=new Date,f.setHours(f.getHours()+4),f))).format("YYYY-MM-DDTHH:mm:ss"),chairMan:null!==(b=a.params.chairMan)&&void 0!==b?b:8,roomName:null!==(k=a.params.roomName)&&void 0!==k?k:p()(new Date).format("YYYYMMDDHHmmss"),place:null!==(t=a.params.place)&&void 0!==t?t:null,status:null!==(_=a.params.status)&&void 0!==_?_:2,start:null===(c=a.params.start)||void 0===c||c,token:null!==(n=a.params.token)&&void 0!==n?n:null,serverId:null!==(u=a.params.serverId)&&void 0!==u?u:4,typeId:null!==(m=a.params.typeId)&&void 0!==m?m:1,sharedRole:null!==(y=a.params.sharedRole)&&void 0!==y?y:0,password:null!==(M=a.params.password)&&void 0!==M?M:null,isLobby:null!==(D=a.params.isLobby)&&void 0!==D?D:0,isPublished:null!==(I=a.params.isPublished)&&void 0!==I?I:1,createdDate:null!==(F=a.params.createdDate)&&void 0!==F?F:p()(new Date).format("YYYY-MM-DDTHH:mm:ss"),createdBy:null!==(U=a.params.createdBy)&&void 0!==U?U:8,don_vi:null!==(x=a.params.don_vi)&&void 0!==x?x:14},success:f=>{"function"==typeof a.callback&&a.callback(f.data||null)},error:f=>{var j;"function"==typeof a.callback&&a.callback(null==f||null===(j=f.response)||void 0===j?void 0:j.data),console.error(f)},loading:a.loading,loadingController:a.loadingController})});return function(i){return $.apply(this,arguments)}}(),C=function(){var $=(0,h.A)(function*(a){var i,s,d,E,b,k,t,_,c,n,u,m,y,M,D,I,F,U,x;a.params=a.params||{},(0,v.Ll)({url:`QuanLyLapLich/chinh_sua_thong_tin_lich_hop?id=${a.params.id}`,params:{title:null!==(i=a.params.title)&&void 0!==i?i:null,content:null!==(s=a.params.content)&&void 0!==s?s:null,startTime:null!==(d=a.params.startTime)&&void 0!==d?d:null,endTime:null!==(E=a.params.endTime)&&void 0!==E?E:null,chairMan:null!==(b=a.params.chairMan)&&void 0!==b?b:null,roomName:null!==(k=a.params.roomName)&&void 0!==k?k:null,place:null!==(t=a.params.place)&&void 0!==t?t:null,status:null!==(_=a.params.status)&&void 0!==_?_:null,start:null!==(c=a.params.start)&&void 0!==c?c:null,token:null!==(n=a.params.token)&&void 0!==n?n:null,serverId:null!==(u=a.params.serverId)&&void 0!==u?u:null,typeId:null!==(m=a.params.typeId)&&void 0!==m?m:null,sharedRole:null!==(y=a.params.sharedRole)&&void 0!==y?y:null,password:null!==(M=a.params.password)&&void 0!==M?M:null,isLobby:null!==(D=a.params.isLobby)&&void 0!==D?D:null,isPublished:null!==(I=a.params.isPublished)&&void 0!==I?I:null,modifiedDate:null!==(F=a.params.modifiedDate)&&void 0!==F?F:null,modifiedBy:null!==(U=a.params.modifiedBy)&&void 0!==U?U:null,don_vi:null!==(x=a.params.don_vi)&&void 0!==x?x:null},success:f=>{"function"==typeof a.callback&&a.callback(f.data||null)},error:f=>{var j;"function"==typeof a.callback&&a.callback(null==f||null===(j=f.response)||void 0===j?void 0:j.data),console.error(f)},loading:a.loading,loadingController:a.loadingController})});return function(i){return $.apply(this,arguments)}}(),A=function(){var $=(0,h.A)(function*(a){var i;a.params=a.params||{},(0,v.sj)({url:"QuanLyLapLich/xoa_lich_hop",params:{id:null!==(i=a.params.id)&&void 0!==i?i:null},success:s=>{"function"==typeof a.callback&&a.callback(s.data||null)},error:s=>{var d;"function"==typeof a.callback&&a.callback(null==s||null===(d=s.response)||void 0===d?void 0:d.data),console.error(s)},loading:a.loading,loadingController:a.loadingController})});return function(i){return $.apply(this,arguments)}}(),l=function(){var $=(0,h.A)(function*(a){var i;a.params=a.params||{},(0,v.hm)({url:"QuanLyLapLich/thong_tin_cuoc_hop",params:{id:null!==(i=a.params.id)&&void 0!==i?i:null},success:s=>{"function"==typeof a.callback&&a.callback(s.data||null)},error:s=>{var d;"function"==typeof a.callback&&a.callback(null==s||null===(d=s.response)||void 0===d?void 0:d.data),console.error(s)},loading:a.loading,loadingController:a.loadingController})});return function(i){return $.apply(this,arguments)}}()},3664:(O,T,r)=>{r.d(T,{x:()=>l});var h=r(177),R=r(9417),p=r(4742),v=r(4438);let C=(()=>{class e{}return e.\u0275fac=function(P){return new(P||e)},e.\u0275mod=v.$C({type:e}),e.\u0275inj=v.G2t({}),e})();var A=r(4342);let l=(()=>{var e;class L{}return(e=L).\u0275fac=function(o){return new(o||e)},e.\u0275mod=v.$C({type:e}),e.\u0275inj=v.G2t({imports:[h.MD,R.YN,p.bv,C,A.LP,C,A.LP]}),L})()},9515:(O,T,r)=>{r.r(T),r.d(T,{RoomJoinPageModule:()=>k});var h=r(177),R=r(9417),p=r(4742),v=r(2175),g=r(467),C=r(23),A=r(4393),l=r(5826),e=r(6539),L=r(1312),P=r(8833),o=r(4438),N=r(4842);const $=["inputRoomCode"];function a(t,_){if(1&t){const c=o.RV6();o.j41(0,"div",12)(1,"ion-chip")(2,"ion-avatar"),o.nrm(3,"img",13),o.k0s(),o.j41(4,"ion-label"),o.EFF(5),o.k0s()(),o.j41(6,"ion-button",14),o.bIt("click",function(){o.eBV(c);const u=o.XpG();return o.Njj(u.signOut())}),o.j41(7,"ion-label"),o.EFF(8,"\u0110\u1ed5i t\xe0i kho\u1ea3n"),o.k0s()()()}if(2&t){const c=o.XpG();o.R7$(5),o.JRh(c.user.ho_ten)}}function i(t,_){if(1&t){const c=o.RV6();o.j41(0,"div",15),o.nrm(1,"div",16),o.j41(2,"div")(3,"ion-button",17),o.bIt("click",function(){o.eBV(c);const u=o.XpG();return o.Njj(u.navigateByUrl(u.APP_ROUTE.AUTH))}),o.j41(4,"ion-label"),o.EFF(5),o.nI1(6,"translate"),o.k0s()()(),o.nrm(7,"div",16),o.k0s()}2&t&&(o.R7$(5),o.JRh(o.bMT(6,1,"SignIn")))}const d=[{path:"",component:(()=>{var t;class _{constructor(n){this.router=n,this.APP_ROUTE=P._,this.APP_FUNC_FormatDate=L.Rv,this.dataForm={}}ngOnInit(){var n=this;(0,g.A)(function*(){n.user=(yield(0,e.xk)()).data})()}ngAfterViewInit(){setTimeout(()=>{var n;null===(n=this.inputRoomCode)||void 0===n||n.setFocus()},300)}navigateByUrl(n){this.router.navigateByUrl(n)}signOut(n){var u=this;return(0,g.A)(function*(){yield(0,A.SD)(),(0,C.wn)({callback:()=>{u.router.navigateByUrl(P._.HOME,{replaceUrl:!0})}}),null==n||n.dismiss()})()}changeRoomCode(n){var u=this;return(0,g.A)(function*(){var m;u.dataForm.RoomCode=null===(m=n.detail.value)||void 0===m?void 0:m.trim()})()}submitRoomCode(){var n=this;return(0,g.A)(function*(){n.dataForm.RoomCode&&(0,l.j9)({params:{id:n.dataForm.RoomCode},callback:u=>{var m,y;null!=u&&null!==(m=u.data)&&void 0!==m&&m.id&&n.router.navigateByUrl(P._.ROOM_EXTERNAL_ID.replace(":id",null==u||null===(y=u.data)||void 0===y?void 0:y.id))}})})()}}return(t=_).\u0275fac=function(n){return new(n||t)(o.rXU(v.Ix))},t.\u0275cmp=o.VBU({type:t,selectors:[["app-room-join"]],viewQuery:function(n,u){if(1&n&&o.GBs($,5),2&n){let m;o.mGM(m=o.lsd())&&(u.inputRoomCode=m.first)}},decls:20,vars:1,consts:[[1,"min-h-100","w-100","d-flex","flex-column"],[1,"text-center","py-5","area-primary"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/logo-icon.png"],[1,"mt-2","fs-32","fw-900"],[1,"mt-0","mb-4","fs-20"],[1,"flex-grow-1","d-flex","justify-content-center","py-5","area-white"],[1,"w-100","mw-360","px-4"],[1,"mb-4"],[1,"fw-500","fs-14","mb-1"],["mode","md","fill","outline","placeholder","Nh\u1eadp m\xe3 tham gia",3,"ionChange","keyup.enter"],["color","primary","expand","block",1,"ion-no-margin",3,"click"],[1,"mt-5","d-flex","align-items-center","justify-content-between"],["src","../../../assets/favicon/ms-icon-70x70.png","title","avatar"],["size","small","color","medium","fill","clear",3,"click"],[1,"mt-5","d-flex","align-items-center"],[1,"flex-grow-1","border-top"],["size","small","color","primary","fill","clear",3,"click"]],template:function(n,u){1&n&&(o.j41(0,"ion-content")(1,"div",0)(2,"div",1)(3,"div",2),o.nrm(4,"ion-img",3),o.k0s(),o.j41(5,"div",4),o.EFF(6,"MONRE MEETING"),o.k0s(),o.j41(7,"div",5),o.EFF(8,"N\u1ec1n t\u1ea3ng h\u1ecdp tr\u1ef1c tuy\u1ebfn"),o.k0s()(),o.j41(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),o.EFF(13,"Vui l\xf2ng \u0111i\u1ec1n m\xe3 tham gia d\u01b0\u1edbi \u0111\xe2y"),o.k0s(),o.j41(14,"ion-input",10),o.bIt("ionChange",function(y){return u.changeRoomCode(y)})("keyup.enter",function(){return u.submitRoomCode()}),o.k0s()(),o.j41(15,"ion-button",11),o.bIt("click",function(){return u.submitRoomCode()}),o.j41(16,"ion-label"),o.EFF(17,"Tham gia"),o.k0s()(),o.DNE(18,a,9,1,"div",12)(19,i,8,3),o.k0s()()()()),2&n&&(o.R7$(18),o.vxM(18,u.user?18:19))},dependencies:[p.mC,p.Jm,p.ZB,p.W9,p.KW,p.$w,p.he,p.Gw,N.D9],styles:[".area-primary[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:var(--ion-color-primary-contrast)}.area-white[_ngcontent-%COMP%]{margin-top:-1.5rem;background-color:var(--ion-color-primary-contrast);border-radius:1.5rem 1.5rem 0 0}"]}),_})()}];let E=(()=>{var t;class _{}return(t=_).\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[v.iI.forChild(d),v.iI]}),_})();var b=r(3664);let k=(()=>{var t;class _{}return(t=_).\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[h.MD,R.YN,p.bv,E,b.x]}),_})()},6539:(O,T,r)=>{r.d(T,{UZ:()=>g,kU:()=>A,lJ:()=>C,xk:()=>v});var h=r(467),R=r(8833),p=r(23);const v=function(){var l=(0,h.A)(function*(){return yield(0,p.Pn)()});return function(){return l.apply(this,arguments)}}(),g=function(){var l=(0,h.A)(function*(){let e=yield(0,p.Pn)();return e.AccessToken||(yield(0,p.wn)(),window.location.replace(R._.AUTH+`?returnurl=${encodeURIComponent(window.location.href)}`)),e});return function(){return l.apply(this,arguments)}}(),C=function(){var l=(0,h.A)(function*(){return!!(yield(0,p.Pn)()).AccessToken});return function(){return l.apply(this,arguments)}}(),A=function(){var l=(0,h.A)(function*(){let e=yield(0,p.Pn)();return e.AccessToken||(yield(0,p.wn)()),!!e.AccessToken});return function(){return l.apply(this,arguments)}}()},1312:(O,T,r)=>{r.d(T,{IV:()=>g,NY:()=>C,Rv:()=>p,k8:()=>A});var h=r(7586),R=r.n(h);function p(l,e,L){return L?R()(l||void 0).utcOffset(0,!1).format(null!=e?e:"HH:mm, DD/MM/YYYY"):R()(l||void 0).format(null!=e?e:"HH:mm, DD/MM/YYYY")}const g=l=>(null!=l?l:"0123456789").replace(/^0/,"+84").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,C=l=>(null!=l?l:"123456789").replace(/[^0-9]/,"").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,A=l=>{if(!l)return!1;try{return navigator.clipboard.writeText(l),!0}catch(e){console.error(e)}return!1}}}]);