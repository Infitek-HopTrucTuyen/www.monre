"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9515],{5826:(A,_,t)=>{t.d(_,{D7:()=>M,Dm:()=>y,KL:()=>L,bt:()=>l,j7:()=>D,l9:()=>P,pD:()=>e,qC:()=>b,rm:()=>k,s_:()=>E,vR:()=>h,vx:()=>o});var s=t(467),R=t(7586),c=t.n(R),d=t(5972);const L=function(){var m=(0,s.A)(function*(a){var n,r,T,i;a.params=a.params||{},(0,d.Ll)({url:"QuanLyLapLich/them",params:{title:a.params.title,content:a.params.content,startTime:null!==(n=a.params.startTime)&&void 0!==n?n:c()(new Date).format("YYYY-MM-DDTHH:mm:ss"),endTime:null!==(r=a.params.endTime)&&void 0!==r?r:c()(new Date((i=new Date,i.setHours(i.getHours()+4),i))).format("YYYY-MM-DDTHH:mm:ss"),chairMan:a.params.chairMan,roomName:null!==(T=a.params.roomName)&&void 0!==T?T:c()(new Date).format("YYYYMMDDHHmmss"),place:a.params.place,status:a.params.status,start:a.params.start,token:a.params.token,serverId:a.params.serverId,typeId:a.params.typeId,sharedRole:a.params.sharedRole,password:a.params.password,isLobby:a.params.isLobby,isPublished:a.params.isPublished},success:i=>{"function"==typeof a.callback&&a.callback(i.data||null)},error:i=>{var p;"function"==typeof a.callback&&a.callback(null==i||null===(p=i.response)||void 0===p?void 0:p.data),console.error(i)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),P=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.IH)({url:`QuanLyLapLich/chinhsua?id=${a.params.id}`,params:{id:a.params.id,title:a.params.title,content:a.params.content,startTime:a.params.startTime,endTime:a.params.endTime,chairMan:a.params.chairMan,roomName:a.params.roomName,place:a.params.place,status:a.params.status,start:a.params.start,token:a.params.token,serverId:a.params.serverId,typeId:a.params.typeId,sharedRole:a.params.sharedRole,password:a.params.password,isLobby:a.params.isLobby,isPublished:a.params.isPublished,modifiedDate:a.params.modifiedDate,modifiedBy:a.params.modifiedBy,don_vi:a.params.don_vi},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),b=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.sj)({url:`QuanLyLapLich/xoa?id=${a.params.id}`,params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),o=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.hm)({url:"QuanLyLapLich/thongtin",params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),l=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.hm)({url:"QuanLyLapLich/chitietphonghop",params:{roomName:a.params.roomName},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),h=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.Ll)({url:`QuanLyLapLich/xacnhan?id=${a.params.id}`,params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),y=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.Ll)({url:`QuanLyLapLich/huyxacnhan?id=${a.params.id}`,params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),e=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.hm)({url:"QuanLyLapLich/danhsachdaxoa",success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),k=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.Ll)({url:`QuanLyLapLich/khoiphuc?id=${a.params.id}`,params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),E=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.hm)({url:"QuanLyLapLich/danhsach",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,dateFrom:a.params.dateFrom,dateTo:a.params.dateTo,search:a.params.search},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),M=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.hm)({url:"QuanLyLapLich/danhsachserver",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}(),D=function(){var m=(0,s.A)(function*(a){a.params=a.params||{},(0,d.hm)({url:"QuanLyLapLich/thongtinnguoidung",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return m.apply(this,arguments)}}()},3664:(A,_,t)=>{t.d(_,{x:()=>o});var s=t(177),R=t(9417),c=t(4742),d=t(4438);let P=(()=>{class l{}return l.\u0275fac=function(y){return new(y||l)},l.\u0275mod=d.$C({type:l}),l.\u0275inj=d.G2t({}),l})();var b=t(4342);let o=(()=>{var l;class h{}return(l=h).\u0275fac=function(e){return new(e||l)},l.\u0275mod=d.$C({type:l}),l.\u0275inj=d.G2t({imports:[s.MD,R.YN,c.bv,P,b.LP,P,b.LP]}),h})()},9515:(A,_,t)=>{t.r(_),t.d(_,{RoomJoinPageModule:()=>T});var s=t(177),R=t(9417),c=t(4742),d=t(2175),L=t(467),P=t(23),b=t(4393),o=t(5826),l=t(6539),h=t(1312),y=t(8833),e=t(4438),k=t(4842);const E=["inputRoomCode"];function M(i,p){if(1&i){const v=e.RV6();e.j41(0,"div",16)(1,"ion-chip")(2,"ion-avatar"),e.nrm(3,"img",17),e.k0s(),e.j41(4,"ion-label"),e.EFF(5),e.k0s()(),e.j41(6,"ion-button",18),e.bIt("click",function(){e.eBV(v);const f=e.XpG();return e.Njj(f.signOut())}),e.j41(7,"ion-label"),e.EFF(8,"\u0110\u1ed5i t\xe0i kho\u1ea3n"),e.k0s()()()}if(2&i){const v=e.XpG();e.R7$(5),e.JRh(v.user.name)}}function D(i,p){if(1&i){const v=e.RV6();e.j41(0,"div",19),e.nrm(1,"div",20),e.j41(2,"div")(3,"ion-button",21),e.bIt("click",function(){e.eBV(v);const f=e.XpG();return e.Njj(f.navigateByUrl(f.APP_ROUTE.AUTH))}),e.j41(4,"ion-label"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.nrm(7,"div",20),e.k0s()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"SignIn")))}const a=[{path:"",component:(()=>{var i;class p{constructor(u){this.router=u,this.APP_ROUTE=y._,this.APP_FUNC_FormatDate=h.Rv,this.dataForm={}}ngOnInit(){var u=this;(0,L.A)(function*(){u.user=(yield(0,l.xk)()).data})()}ngAfterViewInit(){setTimeout(()=>{var u;null===(u=this.inputRoomCode)||void 0===u||u.setFocus()},300)}navigateByUrl(u){this.router.navigateByUrl(u)}signOut(u){var f=this;return(0,L.A)(function*(){yield(0,b.SD)(),(0,P.wn)({callback:()=>{f.router.navigateByUrl(y._.HOME,{replaceUrl:!0})}}),null==u||u.dismiss()})()}changeRoomCode(u){var f=this;return(0,L.A)(function*(){var g;f.dataForm.RoomCode=null===(g=u.detail.value)||void 0===g?void 0:g.trim()})()}submitRoomCode(){var u=this;return(0,L.A)(function*(){u.dataForm.RoomCode&&(0,o.bt)({params:{roomName:u.dataForm.RoomCode},callback:f=>{var g,C;null!=f&&null!==(g=f.data)&&void 0!==g&&g.id&&u.router.navigateByUrl(y._.ROOM_EXTERNAL_ID.replace(":id",null==f||null===(C=f.data)||void 0===C?void 0:C.id))}})})()}}return(i=p).\u0275fac=function(u){return new(u||i)(e.rXU(d.Ix))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-room-join"]],viewQuery:function(u,f){if(1&u&&e.GBs(E,5),2&u){let g;e.mGM(g=e.lsd())&&(f.inputRoomCode=g.first)}},decls:24,vars:1,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],[1,"min-h-100","w-100","d-flex","flex-column"],[1,"text-center","py-5","area-primary"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/logo-icon.png"],[1,"mt-2","fs-32","fw-900"],[1,"mt-0","mb-4","fs-20"],[1,"flex-grow-1","d-flex","justify-content-center","py-5","area-white"],[1,"w-100","mw-360","px-4"],[1,"mb-4"],[1,"fw-500","fs-14","mb-1"],["mode","md","fill","outline","placeholder","Nh\u1eadp m\xe3 tham gia",3,"ionChange","keyup.enter"],["color","primary","expand","block",1,"ion-no-margin",3,"click"],[1,"mt-5","d-flex","align-items-center","justify-content-between"],["src","../../../assets/favicon/ms-icon-70x70.png","title","avatar"],["size","small","color","medium","fill","clear",3,"click"],[1,"mt-5","d-flex","align-items-center"],[1,"flex-grow-1","border-top"],["size","small","color","primary","fill","clear",3,"click"]],template:function(u,f){1&u&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s()()(),e.j41(4,"ion-content")(5,"div",4)(6,"div",5)(7,"div",6),e.nrm(8,"ion-img",7),e.k0s(),e.j41(9,"div",8),e.EFF(10,"MONRE MEETING"),e.k0s(),e.j41(11,"div",9),e.EFF(12,"N\u1ec1n t\u1ea3ng h\u1ecdp tr\u1ef1c tuy\u1ebfn"),e.k0s()(),e.j41(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),e.EFF(17,"Vui l\xf2ng \u0111i\u1ec1n m\xe3 tham gia d\u01b0\u1edbi \u0111\xe2y"),e.k0s(),e.j41(18,"ion-input",14),e.bIt("ionChange",function(C){return f.changeRoomCode(C)})("keyup.enter",function(){return f.submitRoomCode()}),e.k0s()(),e.j41(19,"ion-button",15),e.bIt("click",function(){return f.submitRoomCode()}),e.j41(20,"ion-label"),e.EFF(21,"Tham gia"),e.k0s()(),e.DNE(22,M,9,1,"div",16)(23,D,8,3),e.k0s()()()()),2&u&&(e.R7$(22),e.vxM(22,f.user?22:23))},dependencies:[c.mC,c.Jm,c.QW,c.ZB,c.W9,c.eU,c.KW,c.$w,c.he,c.ai,c.Gw,c.el,k.D9],styles:[".area-primary[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:var(--ion-color-primary-contrast)}.area-white[_ngcontent-%COMP%]{margin-top:-1.5rem;background-color:var(--ion-color-primary-contrast);border-radius:1.5rem 1.5rem 0 0}"]}),p})()}];let n=(()=>{var i;class p{}return(i=p).\u0275fac=function(u){return new(u||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[d.iI.forChild(a),d.iI]}),p})();var r=t(3664);let T=(()=>{var i;class p{}return(i=p).\u0275fac=function(u){return new(u||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[s.MD,R.YN,c.bv,n,r.x]}),p})()},6539:(A,_,t)=>{t.d(_,{UZ:()=>L,kU:()=>b,lJ:()=>P,xk:()=>d});var s=t(467),R=t(8833),c=t(23);const d=function(){var o=(0,s.A)(function*(){return yield(0,c.Pn)()});return function(){return o.apply(this,arguments)}}(),L=function(){var o=(0,s.A)(function*(){var l;let h=yield(0,c.Pn)();return(!h.AccessToken||(null!==(l=h.TokenExpiry)&&void 0!==l?l:0)-(new Date).getTime()<0)&&(yield(0,c.wn)(),window.location.replace(R._.AUTH+`?returnurl=${encodeURIComponent(window.location.href)}`)),h});return function(){return o.apply(this,arguments)}}(),P=function(){var o=(0,s.A)(function*(){return!!(yield(0,c.Pn)()).AccessToken});return function(){return o.apply(this,arguments)}}(),b=function(){var o=(0,s.A)(function*(){var l;let h=yield(0,c.Pn)();return(!h.AccessToken||(null!==(l=h.TokenExpiry)&&void 0!==l?l:0)-(new Date).getTime()<0)&&(yield(0,c.wn)()),!!h.AccessToken});return function(){return o.apply(this,arguments)}}()},1312:(A,_,t)=>{t.d(_,{IV:()=>L,NY:()=>P,Rv:()=>c,k8:()=>b});var s=t(7586),R=t.n(s);function c(o,l,h){return h?R()(o||void 0).utcOffset(0,!1).format(null!=l?l:"HH:mm, DD/MM/YYYY"):R()(o||void 0).format(null!=l?l:"HH:mm, DD/MM/YYYY")}const L=o=>(null!=o?o:"0123456789").replace(/^0/,"+84").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,P=o=>(null!=o?o:"123456789").replace(/[^0-9]/,"").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,b=o=>{if(!o)return!1;try{return navigator.clipboard.writeText(o),!0}catch(l){console.error(l)}return!1}}}]);