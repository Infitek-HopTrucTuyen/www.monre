"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9515],{5826:(E,_,c)=>{c.d(_,{D7:()=>A,Dm:()=>R,KL:()=>o,Up:()=>i,bt:()=>k,j7:()=>Q,l9:()=>f,qC:()=>y,rm:()=>x,s_:()=>M,vR:()=>T,vx:()=>g});var h=c(467),b=c(7586),d=c.n(b),s=c(5972);const o=function(){var u=(0,h.A)(function*(a){var n,r,C,t;a.params=a.params||{},(0,s.Ll)({url:"QuanLyLapLich/them",params:{title:a.params.title||"H\u1ecdp tr\u1ef1c tuy\u1ebfn",content:a.params.content,startTime:null!==(n=a.params.startTime)&&void 0!==n?n:d()(new Date).format("YYYY-MM-DDTHH:mm:ss"),endTime:null!==(r=a.params.endTime)&&void 0!==r?r:d()(new Date((t=new Date,t.setHours(t.getHours()+4),t))).format("YYYY-MM-DDTHH:mm:ss"),chairMan:a.params.chairMan,roomName:null!==(C=a.params.roomName)&&void 0!==C?C:d()(new Date).format("YYYYMMDDHHmmss"),place:a.params.place,status:a.params.status,start:a.params.start,token:a.params.token,serverId:4,typeId:a.params.typeId,sharedRole:a.params.sharedRole,password:a.params.password,isLobby:a.params.isLobby,isPublished:a.params.isPublished},success:t=>{"function"==typeof a.callback&&a.callback(t.data||null)},error:t=>{var p;"function"==typeof a.callback&&a.callback(null==t||null===(p=t.response)||void 0===p?void 0:p.data),console.error(t)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),f=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.IH)({url:`QuanLyLapLich/chinhsua?id=${a.params.id}`,params:{id:a.params.id,title:a.params.title,content:a.params.content,startTime:a.params.startTime,endTime:a.params.endTime,chairMan:a.params.chairMan,roomName:a.params.roomName,place:a.params.place,status:a.params.status,start:a.params.start,token:a.params.token,serverId:a.params.serverId,typeId:a.params.typeId,sharedRole:a.params.sharedRole,password:a.params.password,isLobby:a.params.isLobby,isPublished:a.params.isPublished,don_vi:a.params.don_vi},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),y=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.sj)({url:"QuanLyLapLich/xoa",params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),i=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.sj)({url:"QuanLyLapLich/xoahoantoan",params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),g=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.hm)({url:"QuanLyLapLich/thongtin",params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),k=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.hm)({url:"QuanLyLapLich/chitietphonghop",params:{roomName:a.params.roomName},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),T=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.Ll)({url:`QuanLyLapLich/xacnhan?id=${a.params.id}`,params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),R=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.Ll)({url:`QuanLyLapLich/huyxacnhan?id=${a.params.id}`,params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),x=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.Ll)({url:`QuanLyLapLich/khoiphuc?id=${a.params.id}`,params:{id:a.params.id},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),M=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.hm)({url:"QuanLyLapLich/danhsach",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search,dateFrom:a.params.dateFrom,dateTo:a.params.dateTo,status:a.params.status,start:a.params.start,isdeleted:a.params.isdeleted},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),A=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.hm)({url:"QuanLyLapLich/danhsachserver",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}(),Q=function(){var u=(0,h.A)(function*(a){a.params=a.params||{},(0,s.hm)({url:"QuanLyLapLich/thongtinnguoidung",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var r;"function"==typeof a.callback&&a.callback(null==n||null===(r=n.response)||void 0===r?void 0:r.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(n){return u.apply(this,arguments)}}()},9515:(E,_,c)=>{c.r(_),c.d(_,{RoomJoinPageModule:()=>C});var h=c(177),b=c(9417),d=c(4742),s=c(2175),o=c(467),f=c(23),y=c(4393),i=c(5826),g=c(6539),k=c(5751),T=c(1312),R=c(8833),l=c(4438),x=c(4842);const M=["inputRoomCode"];function A(t,p){if(1&t){const L=l.RV6();l.j41(0,"div",16)(1,"ion-chip")(2,"ion-avatar"),l.nrm(3,"img",17),l.k0s(),l.j41(4,"ion-label"),l.EFF(5),l.k0s()(),l.j41(6,"ion-button",18),l.bIt("click",function(){l.eBV(L);const m=l.XpG();return l.Njj(m.signOut())}),l.j41(7,"ion-label"),l.EFF(8,"\u0110\u1ed5i t\xe0i kho\u1ea3n"),l.k0s()()()}if(2&t){const L=l.XpG();l.R7$(5),l.JRh(L.user.name)}}function Q(t,p){if(1&t){const L=l.RV6();l.j41(0,"div",19),l.nrm(1,"div",20),l.j41(2,"div")(3,"ion-button",21),l.bIt("click",function(){l.eBV(L);const m=l.XpG();return l.Njj(m.navigateByUrl(m.APP_ROUTE.AUTH))}),l.j41(4,"ion-label"),l.EFF(5),l.nI1(6,"translate"),l.k0s()()(),l.nrm(7,"div",20),l.k0s()}2&t&&(l.R7$(5),l.JRh(l.bMT(6,1,"SignIn")))}const a=[{path:"",component:(()=>{var t;class p{constructor(e,m,v){this.router=e,this.loadingController=m,this.toastController=v,this.APP_ROUTE=R._,this.APP_FUNC_FormatDate=T.Rv,this.dataForm={}}ngOnInit(){var e=this;(0,o.A)(function*(){e.user=(yield(0,g.xk)()).data})()}ngAfterViewInit(){setTimeout(()=>{var e;null===(e=this.inputRoomCode)||void 0===e||e.setFocus()},300)}navigateByUrl(e){this.router.navigateByUrl(e)}signOut(e){var m=this;return(0,o.A)(function*(){yield(0,y.SD)(),(0,f.wn)({callback:()=>{m.router.navigateByUrl(R._.HOME,{replaceUrl:!0})}}),null==e||e.dismiss()})()}changeRoomCode(e){var m=this;return(0,o.A)(function*(){var v;m.dataForm.RoomCode=null===(v=e.detail.value)||void 0===v?void 0:v.trim()})()}submitRoomCode(){var e=this;return(0,o.A)(function*(){e.dataForm.RoomCode&&(0,i.bt)({loadingController:e.loadingController,params:{roomName:e.dataForm.RoomCode},callback:m=>{var v,P,D;null!=m&&m.status?null!==(v=e.user)&&void 0!==v&&v.id?e.router.navigateByUrl(R._.ROOM_EXTERNAL_ID.replace(":id",null===(P=m.data)||void 0===P?void 0:P.id)):e.router.navigateByUrl(R._.ROOM_EXTERNAL_GUEST_ID.replace(":id",null!==(D=e.dataForm.RoomCode)&&void 0!==D?D:"")):(0,k.q)(e.toastController,{},m).then(F=>F.present())}})})()}}return(t=p).\u0275fac=function(e){return new(e||t)(l.rXU(s.Ix),l.rXU(d.Xi),l.rXU(d.K_))},t.\u0275cmp=l.VBU({type:t,selectors:[["app-room-join"]],viewQuery:function(e,m){if(1&e&&l.GBs(M,5),2&e){let v;l.mGM(v=l.lsd())&&(m.inputRoomCode=v.first)}},decls:24,vars:1,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],[1,"min-h-100","w-100","d-flex","flex-column"],[1,"text-center","py-5","area-primary"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/logo-icon.png"],[1,"mt-2","fs-32","fw-900"],[1,"mt-0","mb-4","fs-20"],[1,"flex-grow-1","d-flex","justify-content-center","py-5","area-white"],[1,"w-100","mw-360","px-4"],[1,"mb-4"],[1,"fw-500","fs-14","mb-1"],["mode","md","fill","outline","placeholder","Nh\u1eadp m\xe3 tham gia",3,"ionChange","keyup.enter"],["color","primary","expand","block",1,"ion-no-margin",3,"click"],[1,"mt-5","d-flex","align-items-center","justify-content-between"],["src","../../../assets/favicon/ms-icon-70x70.png","title","avatar"],["size","small","color","medium","fill","clear",3,"click"],[1,"mt-5","d-flex","align-items-center"],[1,"flex-grow-1","border-top"],["size","small","color","primary","fill","clear",3,"click"]],template:function(e,m){1&e&&(l.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),l.nrm(3,"ion-back-button",3),l.k0s()()(),l.j41(4,"ion-content")(5,"div",4)(6,"div",5)(7,"div",6),l.nrm(8,"ion-img",7),l.k0s(),l.j41(9,"div",8),l.EFF(10,"MONRE MEETING"),l.k0s(),l.j41(11,"div",9),l.EFF(12,"N\u1ec1n t\u1ea3ng h\u1ecdp tr\u1ef1c tuy\u1ebfn"),l.k0s()(),l.j41(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),l.EFF(17,"Vui l\xf2ng \u0111i\u1ec1n m\xe3 tham gia d\u01b0\u1edbi \u0111\xe2y"),l.k0s(),l.j41(18,"ion-input",14),l.bIt("ionChange",function(P){return m.changeRoomCode(P)})("keyup.enter",function(){return m.submitRoomCode()}),l.k0s()(),l.j41(19,"ion-button",15),l.bIt("click",function(){return m.submitRoomCode()}),l.j41(20,"ion-label"),l.EFF(21,"Tham gia"),l.k0s()(),l.DNE(22,A,9,1,"div",16)(23,Q,8,3),l.k0s()()()()),2&e&&(l.R7$(22),l.vxM(22,m.user?22:23))},dependencies:[d.mC,d.Jm,d.QW,d.ZB,d.W9,d.eU,d.KW,d.$w,d.he,d.ai,d.Gw,d.el,x.D9],styles:[".area-primary[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:var(--ion-color-primary-contrast)}.area-white[_ngcontent-%COMP%]{margin-top:-1.5rem;background-color:var(--ion-color-primary-contrast);border-radius:1.5rem 1.5rem 0 0}"]}),p})()}];let n=(()=>{var t;class p{}return(t=p).\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.$C({type:t}),t.\u0275inj=l.G2t({imports:[s.iI.forChild(a),s.iI]}),p})();var r=c(3890);let C=(()=>{var t;class p{}return(t=p).\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.$C({type:t}),t.\u0275inj=l.G2t({imports:[h.MD,b.YN,d.bv,n,r.x]}),p})()},5751:(E,_,c)=>{c.d(_,{q:()=>b});var h=c(467);const b=function(){var d=(0,h.A)(function*(s,o,f){var y,i,g;return!o.message&&f&&(o.message=null!==(g=null==f?void 0:f.message)&&void 0!==g?g:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!",o.icon||(o.icon=null!=f&&f.message?"checkmark-circle-sharp":"alert-circle-outline"),o.color||(o.color=null!=f&&f.status?"success":-1==(null==f?void 0:f.data)?"danger":"warning")),o.position||(o.position="middle"),o.icon||(o.icon="bulb-outline"),o.color||(o.color="secondary"),o.duration=null!==(y=o.duration)&&void 0!==y?y:3e3,o.animated=null===(i=o.animated)||void 0===i||i,o.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield s.create(o)});return function(o,f,y){return d.apply(this,arguments)}}()},1312:(E,_,c)=>{c.d(_,{IV:()=>o,NY:()=>f,Rv:()=>d,k8:()=>y});var h=c(7586),b=c.n(h);function d(i,g,k){return k?b()(i||void 0).utcOffset(0,!1).format(null!=g?g:"HH:mm, DD/MM/YYYY"):b()(i||void 0).format(null!=g?g:"HH:mm, DD/MM/YYYY")}const o=i=>(null!=i?i:"0123456789").replace(/^0/,"+84").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,f=i=>(null!=i?i:"123456789").replace(/[^0-9]/,"").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,y=i=>{if(!i)return!1;try{return navigator.clipboard.writeText(i),!0}catch(g){console.error(g)}return!1}}}]);