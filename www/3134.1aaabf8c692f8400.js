"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3134],{3134:(T,P,r)=>{r.r(P),r.d(P,{OptionPageModule:()=>U});var f=r(177),v=r(9417),a=r(4742),p=r(2175),o=r(467),s=r(4167),m=r(3738),d=r(6539),u=r(5751),_=r(8833),t=r(4438),A=r(4842);function E(i,g){1&i&&(t.j41(0,"div",6)(1,"div",10)(2,"div")(3,"div",11),t.nrm(4,"ion-img",12),t.k0s(),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()),2&i&&(t.R7$(6),t.JRh(t.bMT(7,1,"DataNotFound")))}function O(i,g){if(1&i&&(t.j41(0,"div",14),t.eu8(1,15),t.k0s()),2&i){t.XpG();const c=t.sdS(18);t.R7$(),t.Y8G("ngTemplateOutlet",c)}}function C(i,g){if(1&i){const c=t.RV6();t.j41(0,"ion-infinite-scroll",16),t.bIt("ionInfinite",function(e){t.eBV(c);const l=t.XpG();return t.Njj(l.onIonInfinite(e))}),t.nrm(1,"ion-infinite-scroll-content"),t.k0s()}}function I(i,g){if(1&i){const c=t.RV6();t.j41(0,"ion-item",19),t.bIt("click",function(){const e=t.eBV(c).$implicit,l=t.XpG(2);return t.Njj(l.navigateByUrl(l.APP_ROUTE.OPTION_DETAIL_ID.replace(":id",e.id)))}),t.j41(1,"ion-label"),t.EFF(2),t.k0s()()}if(2&i){const c=g.$implicit;t.R7$(2),t.JRh(c.label_vn)}}function y(i,g){if(1&i&&(t.j41(0,"ion-list",17),t.Z7z(1,I,3,1,"ion-item",18,t.fX1),t.k0s()),2&i){const c=t.XpG();t.R7$(),t.Dyx(c.listData)}}const D=[{path:"",component:(()=>{var i;class g{constructor(n,e,l,h){this.router=n,this.loadingController=e,this.toastController=l,this.modalController=h,this.APP_ROUTE=_._,this.filter={},this.paging={sortfield:null,sorttype:null,page:1,limit:20,active:!0},this.listData=[],this.limitLoad=0}ngOnInit(){var n=this;(0,o.A)(function*(){(yield(0,d.kU)())&&n.refreshData()})()}onIonRefresher(n){this.filter={},this.refreshData(()=>{n.target.complete()})}onIonInfinite(n){this.loadMore(()=>{n.target.complete()})}pushData(n){1==this.paging.page&&(this.listData.length=0),this.listData=this.listData.concat(n)}refreshData(n){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit(n)}loadMore(n){this.paging.page+=1,this.loadData_Paging_Limit(n)}searchChange(n){this.filter.search=n.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}loadData_Paging_Limit(n){var e=this;return(0,o.A)(function*(){if(e.limitLoad>0)return void(n&&n());e.limitLoad=300;let l=setInterval(()=>{e.limitLoad-=100,e.limitLoad<=0&&(clearInterval(l),e.loadData_Paging(n))},100)})()}loadData_Paging(n){var e=this;return(0,o.A)(function*(){(0,m.Sd)({loadingController:e.loadingController,params:{pageNumber:e.paging.page,pageSize:e.paging.limit},callback:l=>{null!=l&&l.status?e.pushData((null==l?void 0:l.data)||[]):(0,u.q)(e.toastController,{},l).then(h=>h.present()),e.listData.length<e.paging.limit*e.paging.page&&(e.paging.active=!1),n&&n()}})})()}navigateByUrl(n){var e=this;return(0,o.A)(function*(){e.router.navigateByUrl(n)})()}presentModalOptionAdd(n){var e=this;return(0,o.A)(function*(){const l=yield e.modalController.create({component:s.V});l.onDidDismiss().then(h=>{"success"==h.role&&e.refreshData()}),l.present()})()}}return(i=g).\u0275fac=function(n){return new(n||i)(t.rXU(p.Ix),t.rXU(a.Xi),t.rXU(a.K_),t.rXU(a.W3))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-option"]],decls:19,vars:2,consts:[["templateList",""],[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],["slot","fixed",3,"ionRefresh"],[1,"py-5"],[3,"ionInfinite",4,"ngIf"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"ion-padding"],[3,"ngTemplateOutlet"],[3,"ionInfinite"],["lines","none"],["button","true","detail","true"],["button","true","detail","true",3,"click"]],template:function(n,e){if(1&n){const l=t.RV6();t.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),t.nrm(3,"ion-back-button",4),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"C\u1ea5u h\xecnh cu\u1ed9c h\u1ecdp"),t.k0s()()(),t.j41(6,"ion-content")(7,"ion-refresher",5),t.bIt("ionRefresh",function(j){return t.eBV(l),t.Njj(e.onIonRefresher(j))}),t.nrm(8,"ion-refresher-content"),t.k0s(),t.DNE(9,E,8,3,"div",6)(10,O,2,1)(11,C,2,0,"ion-infinite-scroll",7),t.k0s(),t.j41(12,"ion-footer",8)(13,"ion-toolbar")(14,"ion-button",9),t.bIt("click",function(){return t.eBV(l),t.Njj(e.presentModalOptionAdd())}),t.j41(15,"ion-label"),t.EFF(16,"Th\xeam c\u1ea5u h\xecnh"),t.k0s()()()(),t.DNE(17,y,3,0,"ng-template",null,0,t.C5r)}2&n&&(t.R7$(9),t.vxM(9,e.listData.length?10:9),t.R7$(2),t.Y8G("ngIf",e.paging.active))},dependencies:[f.bT,f.T3,a.Jm,a.QW,a.W9,a.M0,a.eU,a.KW,a.Ax,a.Hp,a.uz,a.he,a.nf,a.To,a.Ki,a.BC,a.ai,a.el,A.D9],styles:["ion-list[_ngcontent-%COMP%]{--background: transparent}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-radius: 8px;--background: var(--ion-color-light)}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}"]}),g})()}];let R=(()=>{var i;class g{}return(i=g).\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[p.iI.forChild(D),p.iI]}),g})();var M=r(3890);let U=(()=>{var i;class g{}return(i=g).\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[f.MD,v.YN,a.bv,R,M.x]}),g})()},6539:(T,P,r)=>{r.d(P,{UZ:()=>o,kU:()=>m,lJ:()=>s,xk:()=>p});var f=r(467),v=r(8833),a=r(23);const p=function(){var d=(0,f.A)(function*(){return yield(0,a.Pn)()});return function(){return d.apply(this,arguments)}}(),o=function(){var d=(0,f.A)(function*(){var u;let _=yield(0,a.Pn)();return(!_.AccessToken||(null!==(u=_.TokenExpiry)&&void 0!==u?u:0)-(new Date).getTime()<0)&&(yield(0,a.wn)(),window.location.replace(v._.AUTH+`?returnurl=${encodeURIComponent(window.location.href)}`)),_});return function(){return d.apply(this,arguments)}}(),s=function(){var d=(0,f.A)(function*(){return!!(yield(0,a.Pn)()).AccessToken});return function(){return d.apply(this,arguments)}}(),m=function(){var d=(0,f.A)(function*(){var u;let _=yield(0,a.Pn)();return(!_.AccessToken||(null!==(u=_.TokenExpiry)&&void 0!==u?u:0)-(new Date).getTime()<0)&&(yield(0,a.wn)()),!!_.AccessToken});return function(){return d.apply(this,arguments)}}()},5751:(T,P,r)=>{r.d(P,{q:()=>v});var f=r(467);const v=function(){var a=(0,f.A)(function*(p,o,s){var m,d,u;return!o.message&&s&&(o.message=null!==(u=null==s?void 0:s.message)&&void 0!==u?u:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!",o.icon||(o.icon=null!=s&&s.message?"checkmark-circle-sharp":"alert-circle-outline"),o.color||(o.color=null!=s&&s.status?"success":-1==(null==s?void 0:s.data)?"danger":"warning")),o.position||(o.position="middle"),o.icon||(o.icon="bulb-outline"),o.color||(o.color="secondary"),o.duration=null!==(m=o.duration)&&void 0!==m?m:3e3,o.animated=null===(d=o.animated)||void 0===d||d,o.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield p.create(o)});return function(o,s,m){return a.apply(this,arguments)}}()}}]);