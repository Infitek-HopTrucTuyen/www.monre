"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[416],{416:($e,T,m)=>{m.r(T),m.d(T,{ScheduleDetailPageModule:()=>Fe});var k=m(177),P=m(9417),r=m(4742),g=m(2175),s=m(467),B=m(7586),h=m.n(B),C=m(5826),d=m(5751),b=m(1312),M=m(5883),t=m(4438);const U=["inputTitle"],V=["inputRoomPwd"];function X(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",23)(1,"ion-input",26,1),t.bIt("ionChange",function(e){t.eBV(i);const a=t.XpG();return t.Njj(a.changeRoomPwd(e))}),t.nrm(3,"ion-input-password-toggle",27),t.k0s()()}if(2&l){const i=t.XpG();t.R7$(),t.Y8G("value",i.dataForm.password)}}let R=(()=>{var l;class o{constructor(n,e,a,c){this.router=n,this.loadingController=e,this.modalController=a,this.toastController=c,this.APP_FUNC_FormatDate=b.Rv,this.dataForm={roomName:h()(new Date).format("YYYYMMDDHHmmss")}}ngOnInit(){this.refreshData()}ngAfterViewInit(){setTimeout(()=>{var n;null===(n=this.inputTitle)||void 0===n||n.setFocus()},300)}refreshData(){var n=this;return(0,s.A)(function*(){(0,C.vx)({loadingController:n.loadingController,params:{id:n.id},callback:e=>{null!=e&&e.status?(n.dataForm=(null==e?void 0:e.data)||{},n.isPwd=!!n.dataForm.password):(0,d.q)(n.toastController,{},e).then(a=>a.present())}})})()}modalClose(){this.modalController.dismiss()}modalSubmit(){(0,C.l9)({params:Object.assign(this.dataForm,{password:this.isPwd?this.dataForm.password:null}),callback:n=>{(0,d.q)(this.toastController,{},n).then(e=>e.present()),null!=n&&n.status&&this.modalController.dismiss(null,"success")}})}get modalSubmit_Disabled(){return!(this.dataForm.title&&(this.dataForm.password||!this.isPwd))}changeIsPwd(n){var e=this;return(0,s.A)(function*(){e.isPwd=n.detail.checked,e.isPwd&&(e.dataForm.title||(e.dataForm.title="H\u1ecdp tr\u1ef1c tuy\u1ebfn"),setTimeout(()=>{var a;null===(a=e.inputRoomPwd)||void 0===a||a.setFocus()},300))})()}changeTitle(n){var e=this;return(0,s.A)(function*(){var a;e.dataForm.title=null===(a=n.detail.value)||void 0===a?void 0:a.trim()})()}changeContent(n){var e=this;return(0,s.A)(function*(){var a;e.dataForm.content=null===(a=n.detail.value)||void 0===a?void 0:a.trim()})()}changePlace(n){var e=this;return(0,s.A)(function*(){var a;e.dataForm.place=null===(a=n.detail.value)||void 0===a?void 0:a.trim()})()}changeRoomName(n){var e=this;return(0,s.A)(function*(){var a;e.dataForm.roomName=null===(a=n.detail.value)||void 0===a?void 0:a.replace(/[^a-zA-Z0-9]/g,"")})()}changeRoomPwd(n){var e=this;return(0,s.A)(function*(){var a;e.dataForm.password=null===(a=n.detail.value)||void 0===a?void 0:a.trim()})()}presentModalDatetimePicker_DateFrom(){var n=this;return(0,s.A)(function*(){const e=yield n.modalController.create({component:M.W,componentProps:{options:{presentation:"date-time",min:h()(new Date).format("YYYY-MM-DD"),value:n.dataForm.startTime}},cssClass:"ion-modal-auto"});e.onDidDismiss().then(a=>{"success"==a.role&&(n.dataForm.startTime=a.data)}),e.present()})()}presentModalDatetimePicker_DateTo(){var n=this;return(0,s.A)(function*(){const e=yield n.modalController.create({component:M.W,componentProps:{options:{presentation:"date-time",min:h()(new Date).format("YYYY-MM-DD"),value:n.dataForm.endTime}},cssClass:"ion-modal-auto"});e.onDidDismiss().then(a=>{"success"==a.role&&(n.dataForm.endTime=a.data)}),e.present()})()}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(g.Ix),t.rXU(r.Xi),t.rXU(r.W3),t.rXU(r.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-schedule-update"]],viewQuery:function(n,e){if(1&n&&(t.GBs(U,5),t.GBs(V,5)),2&n){let a;t.mGM(a=t.lsd())&&(e.inputTitle=a.first),t.mGM(a=t.lsd())&&(e.inputRoomPwd=a.first)}},inputs:{id:"id"},decls:54,vars:8,consts:[["inputTitle",""],["inputRoomPwd",""],["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","placeholder","Nh\u1eadp t\xean ph\xf2ng h\u1ecdp","minlength","6","maxlength","100",3,"ionChange","value"],[1,"mt-4"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp n\u1ed9i dung","minlength","6","maxlength","1000",3,"ionChange","value"],[1,"mt-2","d-flex","align-items-center"],[1,"flex-grow-1","custom-input-datetime"],["lines","none","color","transparent","detail","false","button","true",3,"click"],["color","medium"],["color","primary","src","../../../assets/icon/calendar.svg",1,"fs-16"],["src","../../../assets/icon/arrow-right.svg",1,"fs-16","mx-2"],["mode","md","fill","outline","clear-input","true","placeholder","Nh\u1eadp \u0111\u1ecba \u0111i\u1ec3m h\u1ecdp","minlength","6","maxlength","100",3,"ionChange","value"],["mode","md","fill","outline","clear-input","true","placeholder","Nh\u1eadp m\xe3 ph\xf2ng h\u1ecdp","minlength","6","maxlength","100",3,"ionChange","value"],[1,"mt-4","max-w-240"],["labelPlacement","start",3,"ionChange","checked"],[1,"fw-600"],[1,"mt-2","max-w-240"],["collapse","fade"],["color","primary","expand","block",3,"click"],["mode","md","type","password","fill","outline","placeholder","******","minlength","6","maxlength","32",3,"ionChange","value"],["slot","end","color","dark"]],template:function(n,e){if(1&n){const a=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar",2)(2,"ion-title"),t.EFF(3,"C\u1eadp nh\u1eadt l\u1ecbch h\u1ecdp"),t.k0s(),t.j41(4,"ion-buttons",3)(5,"ion-button",4),t.bIt("click",function(){return t.eBV(a),t.Njj(e.modalClose())}),t.nrm(6,"ion-icon",5),t.k0s()()()(),t.j41(7,"ion-content",6)(8,"div")(9,"div",7),t.EFF(10,"T\xean ph\xf2ng h\u1ecdp "),t.j41(11,"ion-text",8),t.EFF(12,"*"),t.k0s()(),t.j41(13,"ion-input",9,0),t.bIt("ionChange",function(u){return t.eBV(a),t.Njj(e.changeTitle(u))}),t.k0s()(),t.j41(15,"div",10)(16,"div",7),t.EFF(17,"N\u1ed9i dung"),t.k0s(),t.j41(18,"ion-textarea",11),t.bIt("ionChange",function(u){return t.eBV(a),t.Njj(e.changeContent(u))}),t.k0s()(),t.j41(19,"div",10)(20,"div",7),t.EFF(21,"Th\u1eddi gian"),t.k0s(),t.j41(22,"div",12)(23,"div",13)(24,"ion-item",14),t.bIt("click",function(){return t.eBV(a),t.Njj(e.presentModalDatetimePicker_DateFrom())}),t.j41(25,"ion-label",15),t.EFF(26),t.k0s(),t.nrm(27,"ion-icon",16),t.k0s()(),t.nrm(28,"ion-icon",17),t.j41(29,"div",13)(30,"ion-item",14),t.bIt("click",function(){return t.eBV(a),t.Njj(e.presentModalDatetimePicker_DateTo())}),t.j41(31,"ion-label",15),t.EFF(32),t.k0s(),t.nrm(33,"ion-icon",16),t.k0s()()()(),t.j41(34,"div",10)(35,"div",7),t.EFF(36,"\u0110\u1ecba \u0111i\u1ec3m"),t.k0s(),t.j41(37,"ion-input",18,0),t.bIt("ionChange",function(u){return t.eBV(a),t.Njj(e.changePlace(u))}),t.k0s()(),t.j41(39,"div",10)(40,"div",7),t.EFF(41,"M\xe3 ph\xf2ng h\u1ecdp"),t.k0s(),t.j41(42,"ion-input",19,0),t.bIt("ionChange",function(u){return t.eBV(a),t.Njj(e.changeRoomName(u))}),t.k0s()(),t.j41(44,"div",20)(45,"ion-toggle",21),t.bIt("ionChange",function(u){return t.eBV(a),t.Njj(e.changeIsPwd(u))}),t.j41(46,"ion-label",22),t.EFF(47,"M\u1eadt kh\u1ea9u"),t.k0s()()(),t.DNE(48,X,4,1,"div",23),t.k0s(),t.j41(49,"ion-footer",24)(50,"ion-toolbar")(51,"ion-button",25),t.bIt("click",function(){return t.eBV(a),t.Njj(e.modalSubmit())}),t.j41(52,"ion-label"),t.EFF(53,"Ho\xe0n t\u1ea5t"),t.k0s()()()()}2&n&&(t.R7$(13),t.Y8G("value",e.dataForm.title),t.R7$(5),t.Y8G("value",e.dataForm.content),t.R7$(8),t.JRh(e.dataForm.startTime?e.APP_FUNC_FormatDate(e.dataForm.startTime,"DD/MM/YYYY HH:mm"):"B\u1eaft \u0111\u1ea7u"),t.R7$(6),t.JRh(e.dataForm.endTime?e.APP_FUNC_FormatDate(e.dataForm.endTime,"DD/MM/YYYY HH:mm"):"K\u1ebft th\xfac"),t.R7$(5),t.Y8G("value",e.dataForm.place),t.R7$(5),t.Y8G("value",e.dataForm.roomName),t.R7$(3),t.Y8G("checked",e.isPwd),t.R7$(3),t.vxM(48,e.isPwd?48:-1))},dependencies:[r.Jm,r.QW,r.W9,r.M0,r.eU,r.iq,r.$w,r.Wv,r.uz,r.he,r.IO,r.nc,r.BC,r.BY,r.ai,r.hB,r.Gw]}),o})();var y=m(8833);function w(l,o){1&l&&(t.j41(0,"ion-chip",4)(1,"ion-label"),t.EFF(2,"\u0110\xe3 duy\u1ec7t"),t.k0s()())}function G(l,o){1&l&&(t.j41(0,"ion-chip",14)(1,"ion-label"),t.EFF(2,"Ch\u01b0a duy\u1ec7t"),t.k0s()())}function O(l,o){if(1&l&&(t.j41(0,"ion-text",7),t.EFF(1),t.k0s()),2&l){const i=t.XpG();t.R7$(),t.E5c("",i.APP_FUNC_FormatDate(i.itemData.startTime,"MM/DD/YYYY"),", ",i.APP_FUNC_FormatDate(i.itemData.startTime,"HH:mm")," - ",i.APP_FUNC_FormatDate(i.itemData.endTime,"HH:mm"),"")}}function H(l,o){if(1&l&&(t.j41(0,"ion-text",7)(1,"div"),t.EFF(2),t.k0s(),t.j41(3,"div"),t.EFF(4),t.k0s()()),2&l){const i=t.XpG();t.R7$(2),t.JRh(i.APP_FUNC_FormatDate(i.itemData.startTime,"HH:mm, DD/MM/YYYY")),t.R7$(2),t.JRh(i.APP_FUNC_FormatDate(i.itemData.endTime,"HH:mm, DD/MM/YYYY"))}}function Y(l,o){if(1&l&&(t.j41(0,"div",8),t.nrm(1,"ion-icon",15),t.j41(2,"ion-text",7),t.EFF(3),t.k0s()()),2&l){const i=t.XpG();t.R7$(3),t.JRh(null==i.itemData.server?null:i.itemData.server.title)}}function L(l,o){if(1&l&&(t.j41(0,"div",8),t.nrm(1,"ion-icon",16),t.j41(2,"ion-text",7),t.EFF(3),t.k0s()()),2&l){const i=t.XpG();t.R7$(3),t.JRh(i.itemData.place)}}function q(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",17),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.copyRoomCode(e.itemData.roomName))}),t.nrm(1,"ion-icon",18),t.j41(2,"ion-text",7),t.EFF(3),t.k0s()()}if(2&l){const i=t.XpG();t.R7$(3),t.JRh(i.itemData.roomName)}}function z(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",17),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.changeIsPwd(!e.isShowPwd))}),t.nrm(1,"ion-icon",19),t.j41(2,"ion-text",7),t.EFF(3),t.k0s()()}if(2&l){const i=t.XpG();t.R7$(3),t.JRh(i.isShowPwd?i.itemData.password:"******")}}function J(l,o){if(1&l&&(t.j41(0,"div",9)(1,"b"),t.EFF(2,"N\u1ed9i dung"),t.k0s(),t.j41(3,"div",10),t.nrm(4,"ion-note",20),t.k0s()()),2&l){const i=t.XpG();t.R7$(4),t.Y8G("innerHTML",i.itemData.content,t.npT)}}function K(l,o){if(1&l&&(t.j41(0,"div",10)(1,"ion-chip",21)(2,"ion-avatar"),t.nrm(3,"img",22),t.k0s(),t.j41(4,"ion-label"),t.EFF(5),t.k0s()()()),2&l){const i=o.$implicit;t.R7$(5),t.JRh(i.email)}}function Q(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",24),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.confirmScheduleOk(e.itemData.id))}),t.j41(1,"ion-label"),t.EFF(2,"X\xe1c nh\u1eadn"),t.k0s()()}}function W(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",25),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.confirmScheduleCancel(e.itemData.id))}),t.j41(1,"ion-label"),t.EFF(2,"H\u1ee7y x\xe1c nh\u1eadn"),t.k0s()()}}function Z(l,o){if(1&l&&t.DNE(0,Q,3,0,"ion-button",23)(1,W,3,0),2&l){const i=t.XpG();t.vxM(0,0==i.itemData.status||1==i.itemData.status?0:1)}}function tt(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",27),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.navigateByUrl(e.APP_ROUTE.ROOM_EXTERNAL_ID.replace(":id",e.itemData.id)))}),t.j41(1,"ion-label"),t.EFF(2,"Tham gia"),t.k0s()()}}function et(l,o){if(1&l&&t.DNE(0,tt,3,0,"ion-button",26),2&l){const i=t.XpG();t.vxM(0,2==i.itemData.status||3==i.itemData.status?0:-1)}}function nt(l,o){1&l&&(t.j41(0,"ion-chip",28)(1,"ion-label"),t.EFF(2,"L\u1ecbch h\u1ecdp \u0111\xe3 k\u1ebft th\xfac"),t.k0s()())}let ot=(()=>{var l;class o{constructor(n,e,a,c){this.router=n,this.toastController=e,this.modalController=a,this.loadingController=c,this.APP_ROUTE=y._,this.APP_FUNC_FormatDate=b.Rv,this.listUser=[]}ngOnInit(){this.listUser=this.itemData.meetingMember||[]}refreshData(n){(0,C.vx)({loadingController:this.loadingController,params:{id:this.itemData.id},callback:e=>{this.itemData=null==e?void 0:e.data,n&&n()}})}changeIsPwd(n){var e=this;return(0,s.A)(function*(){e.isShowPwd=n})()}copyRoomCode(n){var e=this;return(0,s.A)(function*(){e.isCopied=(0,b.k8)(n),e.isCopied&&(0,d.q)(e.toastController,{color:"success",message:"\u0110\xe3 sao ch\xe9p m\xe3 ph\xf2ng h\u1ecdp!"}).then(a=>a.present())})()}navigateByUrl(n){var e=this;return(0,s.A)(function*(){e.router.navigateByUrl(n)})()}checkStatus(n){return h()().isAfter(h()(n))?0:1}presentModalScheduleUpdate(){var n=this;return(0,s.A)(function*(){const e=yield n.modalController.create({component:R,componentProps:{id:n.itemData.id}});e.onDidDismiss().then(a=>{"success"==a.role&&n.refreshData()}),e.present()})()}confirmScheduleOk(n){var e=this;return(0,s.A)(function*(){(0,C.vR)({loadingController:e.loadingController,params:{id:n},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&e.refreshData()}})})()}confirmScheduleCancel(n){var e=this;return(0,s.A)(function*(){(0,C.Dm)({loadingController:e.loadingController,params:{id:n},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&e.refreshData()}})})()}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(g.Ix),t.rXU(r.K_),t.rXU(r.W3),t.rXU(r.Xi))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-schedule-info"]],inputs:{itemData:"itemData",inherits:"inherits"},decls:31,vars:11,consts:[[1,"min-h-100","d-flex","flex-column"],[1,"flex-grow-1","ion-padding","bg-light"],[1,"d-flex","align-items-start","justify-content-between"],[1,"my-0","fw-700"],["color","success",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],[1,"mt-3","d-flex","align-items-start"],["color","medium","src","../../../assets/icon/clock.svg",1,"fs-16","mr-2"],["color","medium",1,"fs-14"],[1,"mt-2","d-flex","align-items-center"],[1,"mt-4"],[1,"mt-2"],["collapse","fade"],[1,"d-flex"],["color","medium","fill","outline","expand","block",3,"click"],["color","warning",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],["color","medium","src","../../../../assets/icon/globe-alt.svg",1,"fs-16","mr-2"],["color","medium","src","../../../assets/icon/location-marker.svg",1,"fs-16","mr-2"],[1,"mt-2","d-flex","align-items-center",3,"click"],["color","medium","src","../../../../assets/icon/desktop-computer.svg",1,"fs-16","mr-2"],["color","medium","name","key-outline",1,"fs-16","mr-2"],["color","medium",3,"innerHTML"],["color","transparent",1,"ion-no-margin"],["src","../../../../assets/image/default-avatar.svg"],["color","primary",1,"flex-grow-1"],["color","primary",1,"flex-grow-1",3,"click"],["color","primary","fill","outline",3,"click"],["color","primary","expand","block",1,"flex-grow-1"],["color","primary","expand","block",1,"flex-grow-1",3,"click"],["color","medium",1,"flex-grow-1","justify-content-center"]],template:function(n,e){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),t.EFF(4),t.k0s(),t.DNE(5,w,3,0,"ion-chip",4)(6,G,3,0),t.k0s(),t.j41(7,"div",5),t.nrm(8,"ion-icon",6),t.DNE(9,O,2,3,"ion-text",7)(10,H,5,2),t.k0s(),t.DNE(11,Y,4,1,"div",8)(12,L,4,1,"div",8)(13,q,4,1,"div",8)(14,z,4,1,"div",8)(15,J,5,1,"div",9),t.j41(16,"div",9)(17,"b"),t.EFF(18),t.k0s(),t.j41(19,"div"),t.Z7z(20,K,6,1,"div",10,t.fX1),t.k0s()()(),t.j41(22,"ion-footer",11)(23,"ion-toolbar")(24,"div",12)(25,"ion-button",13),t.bIt("click",function(){return e.presentModalScheduleUpdate()}),t.j41(26,"ion-label"),t.EFF(27,"Ch\u1ec9nh s\u1eeda"),t.k0s()(),t.DNE(28,Z,2,1)(29,et,1,1)(30,nt,3,0),t.k0s()()()()),2&n&&(t.R7$(4),t.JRh(e.itemData.title),t.R7$(),t.vxM(5,2==e.itemData.status||3==e.itemData.status?5:6),t.R7$(4),t.vxM(9,e.APP_FUNC_FormatDate(e.itemData.startTime,"DD/MM/YYYY")==e.APP_FUNC_FormatDate(e.itemData.endTime,"DD/MM/YYYY")?9:10),t.R7$(2),t.vxM(11,null!=e.itemData.server&&e.itemData.server.title?11:-1),t.R7$(),t.vxM(12,e.itemData.place?12:-1),t.R7$(),t.vxM(13,e.itemData.roomName?13:-1),t.R7$(),t.vxM(14,e.itemData.password?14:-1),t.R7$(),t.vxM(15,e.itemData.content?15:-1),t.R7$(3),t.SpI("Ng\u01b0\u1eddi tham gia (",e.listUser.length,")"),t.R7$(2),t.Dyx(e.listUser),t.R7$(8),t.vxM(28,e.checkStatus(e.itemData.endTime)?28:-1),t.R7$(),t.vxM(29,e.checkStatus(e.itemData.endTime)?29:30))},dependencies:[r.mC,r.Jm,r.ZB,r.M0,r.iq,r.he,r.JI,r.IO,r.ai],styles:['.card-schedule[_ngcontent-%COMP%]{--line-color: var(--ion-color-primary);position:relative}.card-schedule[color=primary][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-primary)}.card-schedule[color=medium][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-medium)}.card-schedule[color=warning][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-warning)}.card-schedule[color=danger][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-danger)}.card-schedule[_ngcontent-%COMP%]:before{content:"";padding-left:1rem;background-color:var(--line-color);position:absolute;top:0;left:-3px;bottom:0;border-radius:1rem 0 0 1rem}.card-schedule[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast);border-radius:1rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 2px #0006}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-.5rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background-color:var(--ion-color-medium);color:var(--ion-color-medium-contrast);border-radius:50%;font-size:.75rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-.5rem}']}),o})();var p=m(5972);const I=function(){var l=(0,s.A)(function*(o){o.params=o.params||{},(0,p.Ll)({url:"KetLuanCuocHop/them",params:{title:o.params.title,scheduleId:o.params.scheduleId,content:o.params.content,fileUrl:o.params.fileUrl,fileOriginalName:o.params.fileOriginalName,fileSystemName:o.params.fileSystemName,fileType:o.params.fileType,fileSize:o.params.fileSize,status:o.params.status},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var n;"function"==typeof o.callback&&o.callback(null==i||null===(n=i.response)||void 0===n?void 0:n.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),it=function(){var l=(0,s.A)(function*(o){o.params=o.params||{},(0,p.IH)({url:"KetLuanCuocHop/chinhsua?id="+o.params.id,params:{id:o.params.id,title:o.params.title,scheduleId:o.params.scheduleId,content:o.params.content,fileUrl:o.params.fileUrl,fileOriginalName:o.params.fileOriginalName,fileSystemName:o.params.fileSystemName,fileType:o.params.fileType,fileSize:o.params.fileSize,status:o.params.status},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var n;"function"==typeof o.callback&&o.callback(null==i||null===(n=i.response)||void 0===n?void 0:n.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),at=function(){var l=(0,s.A)(function*(o){o.params=o.params||{},(0,p.sj)({url:"KetLuanCuocHop/xoa",params:{id:o.params.id},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var n;"function"==typeof o.callback&&o.callback(null==i||null===(n=i.response)||void 0===n?void 0:n.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),lt=function(){var l=(0,s.A)(function*(o){o.params=o.params||{},(0,p.IH)({url:"KetLuanCuocHop/xacnhan?id="+o.params.id,params:{id:o.params.id},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var n;"function"==typeof o.callback&&o.callback(null==i||null===(n=i.response)||void 0===n?void 0:n.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),rt=function(){var l=(0,s.A)(function*(o){o.params=o.params||{},(0,p.IH)({url:"KetLuanCuocHop/huyxacnhan?id="+o.params.id,params:{id:o.params.id},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var n;"function"==typeof o.callback&&o.callback(null==i||null===(n=i.response)||void 0===n?void 0:n.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),ct=function(){var l=(0,s.A)(function*(o){o.params=o.params||{},(0,p.hm)({url:"KetLuanCuocHop/ketluancuochop",params:{id:o.params.id},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var n;"function"==typeof o.callback&&o.callback(null==i||null===(n=i.response)||void 0===n?void 0:n.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),st=function(){var l=(0,s.A)(function*(o){o.params=o.params||{},(0,p.hm)({url:"KetLuanCuocHop/chitietketluan",params:{id:o.params.id},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var n;"function"==typeof o.callback&&o.callback(null==i||null===(n=i.response)||void 0===n?void 0:n.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),$=function(){var l=(0,s.A)(function*(o){o.params=o.params||{},(0,p.ZD)({url:"KetLuanCuocHop/taiteptinlen?scheduleId="+o.params.scheduleId,params:{scheduleId:o.params.scheduleId,file:o.params.file},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var n;"function"==typeof o.callback&&o.callback(null==i||null===(n=i.response)||void 0===n?void 0:n.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),ut=function(){var l=(0,s.A)(function*(o){var i,n,e;o.params=o.params||{},(0,p.NI)({url:"KetLuanCuocHop/laytep",params:{scheduleId:null!==(i=o.params.scheduleId)&&void 0!==i?i:null,fileName:null!==(n=o.params.fileName)&&void 0!==n?n:null,fileType:null!==(e=o.params.fileType)&&void 0!==e?e:null},success:a=>{"function"==typeof o.callback&&o.callback(a.data||null)},error:a=>{var c;"function"==typeof o.callback&&o.callback(null==a||null===(c=a.response)||void 0===c?void 0:c.data),console.error(a)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),dt=function(){var l=(0,s.A)(function*(o){var i;o.params=o.params||{},(0,p.hm)({url:"TaiLieuCuocHop/tailieucuochop",params:{id:null!==(i=o.params.id)&&void 0!==i?i:null},success:n=>{"function"==typeof o.callback&&o.callback(n.data||null)},error:n=>{var e;"function"==typeof o.callback&&o.callback(null==n||null===(e=n.response)||void 0===e?void 0:e.data),console.error(n)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),mt=function(){var l=(0,s.A)(function*(o){var i;o.params=o.params||{},(0,p.IH)({url:"TaiLieuCuocHop/xacnhan?id="+o.params.id,params:{id:null!==(i=o.params.id)&&void 0!==i?i:null},success:n=>{"function"==typeof o.callback&&o.callback(n.data||null)},error:n=>{var e;"function"==typeof o.callback&&o.callback(null==n||null===(e=n.response)||void 0===e?void 0:e.data),console.error(n)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),pt=function(){var l=(0,s.A)(function*(o){var i;o.params=o.params||{},(0,p.IH)({url:"TaiLieuCuocHop/huyxacnhan?id="+o.params.id,params:{id:null!==(i=o.params.id)&&void 0!==i?i:null},success:n=>{"function"==typeof o.callback&&o.callback(n.data||null)},error:n=>{var e;"function"==typeof o.callback&&o.callback(null==n||null===(e=n.response)||void 0===e?void 0:e.data),console.error(n)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),_t=function(){var l=(0,s.A)(function*(o){var i;o.params=o.params||{},(0,p.sj)({url:"TaiLieuCuocHop/xoa",params:{id:null!==(i=o.params.id)&&void 0!==i?i:null},success:n=>{"function"==typeof o.callback&&o.callback(n.data||null)},error:n=>{var e;"function"==typeof o.callback&&o.callback(null==n||null===(e=n.response)||void 0===e?void 0:e.data),console.error(n)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),ft=function(){var l=(0,s.A)(function*(o){o.params=o.params||{},(0,p.ZD)({url:"TaiLieuCuocHop/taiteptinlen?scheduleId="+o.params.scheduleId,params:{scheduleId:o.params.scheduleId,files:o.params.files},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var n;"function"==typeof o.callback&&o.callback(null==i||null===(n=i.response)||void 0===n?void 0:n.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),ht=function(){var l=(0,s.A)(function*(o){var i,n,e;o.params=o.params||{},(0,p.NI)({url:"TaiLieuCuocHop/laytep",params:{scheduleId:null!==(i=o.params.scheduleId)&&void 0!==i?i:null,fileName:null!==(n=o.params.fileName)&&void 0!==n?n:null,fileType:null!==(e=o.params.fileType)&&void 0!==e?e:null},success:a=>{"function"==typeof o.callback&&o.callback(a.data||null)},error:a=>{var c;"function"==typeof o.callback&&o.callback(null==a||null===(c=a.response)||void 0===c?void 0:c.data),console.error(a)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}();let D=(()=>{var l;class o{constructor(n,e,a){this.loadingController=n,this.modalController=e,this.toastController=a}ngOnInit(){this.refreshData()}refreshData(){var n=this;return(0,s.A)(function*(){switch(n.mod){case"document":ht({loadingController:n.loadingController,params:{scheduleId:n.scheduleId,fileName:n.fileName,fileType:n.fileType},callback:e=>{n.modalClose()}});break;case"conslusion":ut({loadingController:n.loadingController,params:{scheduleId:n.scheduleId,fileName:n.fileName,fileType:n.fileType},callback:e=>{n.modalClose()}})}})()}modalClose(){this.modalController.dismiss()}modalSubmit(){}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(r.Xi),t.rXU(r.W3),t.rXU(r.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-document-detail"]],inputs:{fileName:"fileName",fileType:"fileType",scheduleId:"scheduleId",mod:"mod"},decls:13,vars:0,consts:[["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],["collapse","fade"],["color","primary","expand","block",3,"click"]],template:function(n,e){1&n&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"Xem t\xe0i li\u1ec7u"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return e.modalClose()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.nrm(7,"ion-content",4),t.j41(8,"ion-footer",5)(9,"ion-toolbar")(10,"ion-button",6),t.bIt("click",function(){return e.modalSubmit()}),t.j41(11,"ion-label"),t.EFF(12,"T\u1ea3i v\u1ec1"),t.k0s()()()())},dependencies:[r.Jm,r.QW,r.W9,r.M0,r.eU,r.iq,r.he,r.BC,r.ai]}),o})();const E=(l,o)=>{var i=document.createElement("input");i.type="file",i.accept=l.accept,i.multiple=!!l.multiple,i.style.display="none",i.style.visibility="hidden",i.addEventListener("change",n=>{var e;n.preventDefault();let a=(null===(e=n.target)||void 0===e?void 0:e.files)||[];a.length>0&&o(a),document.body.removeChild(i)}),document.body.appendChild(i),i.click()};var F=m(4842);const Ct=l=>({$implicit:l});function vt(l,o){1&l&&(t.j41(0,"div",4)(1,"div",8)(2,"div")(3,"div",9),t.nrm(4,"ion-img",10),t.k0s(),t.j41(5,"div",11),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()),2&l&&(t.R7$(6),t.JRh(t.bMT(7,1,"DataNotFound")))}function gt(l,o){if(1&l&&(t.j41(0,"div",12),t.eu8(1,13),t.k0s()),2&l){const i=o.$implicit;t.XpG(2);const n=t.sdS(13);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,Ct,i))}}function bt(l,o){if(1&l&&t.Z7z(0,gt,2,4,"div",12,t.fX1),2&l){const i=t.XpG();t.Dyx(i.listData)}}function kt(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",14)(1,"div",15)(2,"h4",12),t.EFF(3,"X\xf3a t\xe0i li\u1ec7u"),t.k0s(),t.j41(4,"p",16),t.EFF(5,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a m\u1ee5c n\xe0y?"),t.k0s()(),t.j41(6,"div",17)(7,"div",18)(8,"ion-button",19),t.bIt("click",function(){t.eBV(i),t.XpG();const e=t.sdS(10);return t.Njj(null==e?null:e.dismiss())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",20)(12,"ion-button",21),t.bIt("click",function(){t.eBV(i);const e=t.XpG(),a=t.sdS(10);return t.Njj(e.confirmDelete(a))}),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()}2&l&&(t.R7$(9),t.JRh(t.bMT(10,2,"Cancel")),t.R7$(4),t.JRh(t.bMT(14,4,"Delete")))}function Dt(l,o){1&l&&(t.j41(0,"ion-chip",28)(1,"ion-label"),t.EFF(2,"\u0110\xe3 duy\u1ec7t"),t.k0s()())}function Et(l,o){1&l&&(t.j41(0,"ion-chip",33)(1,"ion-label"),t.EFF(2,"Ch\u01b0a duy\u1ec7t"),t.k0s()())}function Ft(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",34),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,a=t.XpG();return t.Njj(a.confirmDocumentOk(e.id))}),t.j41(1,"ion-label"),t.EFF(2,"X\xe1c nh\u1eadn"),t.k0s()()}}function yt(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",35),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,a=t.XpG();return t.Njj(a.confirmDocumentCancel(e.id))}),t.j41(1,"ion-label"),t.EFF(2,"H\u1ee7y x\xe1c nh\u1eadn"),t.k0s()()}}function $t(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",22)(1,"div")(2,"div",23)(3,"div",24),t.bIt("click",function(){const e=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.presentModalDocumentDetail(e.fileOriginalName,e.fileType,e.fileUrl))}),t.j41(4,"div",25),t.nrm(5,"ion-icon",26),t.j41(6,"ion-text",27),t.EFF(7),t.k0s()(),t.DNE(8,Dt,3,0,"ion-chip",28)(9,Et,3,0),t.k0s()(),t.j41(10,"div",29),t.DNE(11,Ft,3,0,"ion-button",30)(12,yt,3,0),t.j41(13,"ion-button",31),t.bIt("click",function(){const e=t.eBV(i).$implicit,a=t.XpG(),c=t.sdS(10);return a.selectedId=e.id,t.Njj(null==c?null:c.present())}),t.j41(14,"ion-label"),t.EFF(15,"X\xf3a"),t.k0s()()()()(),t.nrm(16,"hr",32)}if(2&l){const i=o.$implicit;t.R7$(7),t.JRh(i.title),t.R7$(),t.vxM(8,i.status?8:9),t.R7$(3),t.vxM(11,i.status?12:11)}}let jt=(()=>{var l;class o{constructor(n,e,a){this.toastController=n,this.loadingController=e,this.modalController=a,this.listData=[]}ngOnInit(){this.refreshData()}refreshData(){var n=this;return(0,s.A)(function*(){dt({loadingController:n.loadingController,params:{id:n.itemData.id},callback:e=>{null!=e&&e.status?n.listData=(null==e?void 0:e.data)||[]:(0,d.q)(n.toastController,{},e).then(a=>a.present())}})})()}addDocument(){E({accept:".txt,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf,.rar,.zip"},n=>{ft({loadingController:this.loadingController,params:{scheduleId:this.itemData.id,files:n[0]},callback:a=>{(0,d.q)(this.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&this.refreshData()}})})}confirmDocumentOk(n){var e=this;return(0,s.A)(function*(){mt({loadingController:e.loadingController,params:{id:n},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&e.refreshData()}})})()}confirmDocumentCancel(n){var e=this;return(0,s.A)(function*(){pt({loadingController:e.loadingController,params:{id:n},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&e.refreshData()}})})()}confirmDelete(n){var e=this;return(0,s.A)(function*(){_t({loadingController:e.loadingController,params:{id:e.selectedId},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&(null==n||n.dismiss(),e.refreshData())}})})()}presentModalDocumentDetail(n,e,a){var c=this;return(0,s.A)(function*(){(yield c.modalController.create({component:D,componentProps:{fileName:n,fileType:e,fileUrl:a,scheduleId:c.itemData.id,mod:"document"}})).present()})()}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(r.K_),t.rXU(r.Xi),t.rXU(r.W3))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-schedule-document"]],inputs:{itemData:"itemData",listData:"listData"},decls:14,vars:1,consts:[["modalConfirmDelete",""],["templateItem",""],[1,"min-h-100","d-flex","flex-column"],[1,"flex-grow-1","ion-padding","bg-light"],[1,"py-5"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"ion-modal-small"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"mb-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-4"],[1,"text-center"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["color","primary","fill","outline","expand","block",3,"click"],[1,"col-6","pl-1"],["color","danger","expand","block",3,"click"],[1,"card-document"],[1,"document-item"],[1,"d-flex","align-items-start","justify-content-between","cursor-pointer",3,"click"],[1,"d-flex","align-items-start"],["color","medium","src","../../../../assets/icon/document.svg",1,"fs-20","mr-2"],["color","medium"],["color","success",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],[1,"d-flex","align-items-center","mt-2"],["size","small","color","primary",1,"flex-grow-1","m-1"],["size","small","color","danger","fill","outline",1,"min-w-120","m-1",3,"click"],[1,"border-top","my-3"],["color","warning",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],["size","small","color","primary",1,"flex-grow-1","m-1",3,"click"],["size","small","color","primary","fill","outline",1,"flex-grow-1","m-1",3,"click"]],template:function(n,e){if(1&n){const a=t.RV6();t.j41(0,"div",2)(1,"div",3),t.DNE(2,vt,8,3,"div",4)(3,bt,2,0),t.k0s(),t.j41(4,"ion-footer",5)(5,"ion-toolbar")(6,"ion-button",6),t.bIt("click",function(){return t.eBV(a),t.Njj(e.addDocument())}),t.j41(7,"ion-label"),t.EFF(8,"Th\xeam t\xe0i li\u1ec7u"),t.k0s()()()()(),t.j41(9,"ion-modal",7,0),t.DNE(11,kt,15,6,"ng-template"),t.k0s(),t.DNE(12,$t,17,3,"ng-template",null,1,t.C5r)}2&n&&(t.R7$(2),t.vxM(2,e.listData.length?3:2))},dependencies:[k.T3,r.Jm,r.ZB,r.M0,r.iq,r.KW,r.he,r.IO,r.ai,r.Sb,F.D9],styles:[".card-document[_ngcontent-%COMP%]   .document-item[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:.5rem;border:1px solid #E6E7EA;background:#f4f4f6}"]}),o})();const S=function(){var l=(0,s.A)(function*(o){var i,n,e,a,c;o.params=o.params||{},(0,p.Ll)({url:"BieuQuyet/chonbieuquyet",params:{title:null!==(i=o.params.title)&&void 0!==i?i:null,voteId:null!==(n=o.params.voteId)&&void 0!==n?n:null,createdBy:null!==(e=o.params.createdBy)&&void 0!==e?e:null,createdDate:null!==(a=o.params.createdDate)&&void 0!==a?a:null,isCreatedByAd:null!==(c=o.params.isCreatedByAd)&&void 0!==c?c:null},success:u=>{"function"==typeof o.callback&&o.callback(u.data||null)},error:u=>{var _;"function"==typeof o.callback&&o.callback(null==u||null===(_=u.response)||void 0===_?void 0:_.data),console.error(u)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),xt=function(){var l=(0,s.A)(function*(o){var i,n,e;o.params=o.params||{},(0,p.IH)({url:"BieuQuyet/chinhsua",params:{id:null!==(i=o.params.id)&&void 0!==i?i:null,title:null!==(n=o.params.title)&&void 0!==n?n:null,voteId:null!==(e=o.params.voteId)&&void 0!==e?e:null},success:a=>{"function"==typeof o.callback&&o.callback(a.data||null)},error:a=>{var c;"function"==typeof o.callback&&o.callback(null==a||null===(c=a.response)||void 0===c?void 0:c.data),console.error(a)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}(),Tt=function(){var l=(0,s.A)(function*(o){var i;o.params=o.params||{},(0,p.sj)({url:"BieuQuyet/xoa",params:{id:null!==(i=o.params.id)&&void 0!==i?i:null},success:n=>{"function"==typeof o.callback&&o.callback(n.data||null)},error:n=>{var e;"function"==typeof o.callback&&o.callback(null==n||null===(e=n.response)||void 0===e?void 0:e.data),console.error(n)},loading:o.loading,loadingController:o.loadingController})});return function(i){return l.apply(this,arguments)}}();var v=m(6932);const Mt=()=>[];function Rt(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",22),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,a=t.XpG();return t.Njj(a.removeContent(e.id))}),t.nrm(1,"ion-icon",23),t.k0s()}}function It(l,o){if(1&l){const i=t.RV6();t.j41(0,"li",10)(1,"div",19)(2,"ion-textarea",20),t.bIt("ionChange",function(e){const a=t.eBV(i).$implicit,c=t.XpG();return t.Njj(c.changeContent(e,a.id))}),t.k0s(),t.DNE(3,Rt,2,0,"ion-button",21),t.k0s()()}if(2&l){let i;const n=o.$implicit,e=t.XpG();t.R7$(2),t.Y8G("value",n.title),t.R7$(),t.vxM(3,(null!==(i=null==e.dataForm.meetingvoted?null:e.dataForm.meetingvoted.length)&&void 0!==i?i:0)>2?3:-1)}}let St=(()=>{var l;class o{constructor(n,e,a){this.loadingController=n,this.modalController=e,this.toastController=a,this.dataForm={meetingvoted:[{id:Math.floor(999999*Math.random())},{id:Math.floor(999999*Math.random())}],type:!0}}ngOnInit(){}modalClose(){this.modalController.dismiss()}modalSubmit(){var n;(0,v.Sw)({params:{scheduleId:null===(n=this.itemData)||void 0===n?void 0:n.id,title:this.dataForm.title,type:this.dataForm.type},callback:e=>{if((0,d.q)(this.toastController,{},e).then(u=>u.present()),null!=e&&e.status){var a,c=[];null===(a=this.dataForm.meetingvoted)||void 0===a||a.forEach(u=>{c.push(new Promise((_,f)=>{S({params:{title:u.title,voteId:e.data,isCreatedByAd:1},callback:x=>{_(x)}})}))}),Promise.all(c).then(u=>{this.modalController.dismiss(null==e?void 0:e.data,"success")})}}})}changeTitle(n){var e;this.dataForm.title=null===(e=n.detail.value)||void 0===e?void 0:e.trim()}changeType(n){console.log(n.detail),this.dataForm.type=n.detail.value}changeContent(n,e){var a;null===(a=this.dataForm.meetingvoted)||void 0===a||a.filter(c=>c.id==e).forEach(c=>{var u;c.title=null===(u=n.detail.value)||void 0===u?void 0:u.trim()})}addContent(){this.dataForm.meetingvoted||(this.dataForm.meetingvoted=[]),this.dataForm.meetingvoted.push({id:Math.floor(999999999*Math.random()),isnew:!0})}removeContent(n){var e;this.dataForm.meetingvoted=null===(e=this.dataForm.meetingvoted)||void 0===e?void 0:e.filter(a=>a.id!=n)}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(r.Xi),t.rXU(r.W3),t.rXU(r.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-vote-add"]],inputs:{itemData:"itemData"},decls:46,vars:5,consts:[["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","auto-grow","true","clear-input","true","placeholder","Nh\u1eadp ch\u1ee7 \u0111\u1ec1 bi\u1ec3u quy\u1ebft","minlength","6","maxlength","1000",3,"ionChange","value"],[1,"mt-4"],[1,"m-0"],[1,"mb-3"],["size","small","color","medium","fill","outline","expand","block",1,"ion-no-margin","btn-add-content",3,"click"],["slot","end","name","add-outline"],[1,"fw-600","fs-16","mb-2"],["mode","md",3,"ionChange","value"],["labelPlacement","end",3,"value"],["color","medium",1,"ml-2"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"d-flex","align-items-start"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp n\u1ed9i dung bi\u1ec3u quy\u1ebft","minlength","6","maxlength","1000",1,"flex-grow-1",3,"ionChange","value"],["color","danger",1,"ion-no-margin","btn-remove-content","ml-2"],["color","danger",1,"ion-no-margin","btn-remove-content","ml-2",3,"click"],["src","../../../assets/icon/trash.svg",1,"fs-18"]],template:function(n,e){if(1&n&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"T\u1ea1o bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return e.modalClose()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4)(8,"div")(9,"div",5),t.EFF(10,"Ch\u1ee7 \u0111\u1ec1 bi\u1ec3u quy\u1ebft "),t.j41(11,"ion-text",6),t.EFF(12,"*"),t.k0s()(),t.j41(13,"ion-textarea",7),t.bIt("ionChange",function(c){return e.changeTitle(c)}),t.k0s()(),t.j41(14,"div",8)(15,"div",5),t.EFF(16,"N\u1ed9i dung bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(17,"ul",9),t.Z7z(18,It,4,2,"li",10,t.fX1),t.k0s(),t.j41(20,"div")(21,"ion-button",11),t.bIt("click",function(){return e.addContent()}),t.j41(22,"ion-label"),t.EFF(23,"Th\xeam n\u1ed9i dung bi\u1ec3u quy\u1ebft"),t.k0s(),t.nrm(24,"ion-icon",12),t.k0s()()(),t.j41(25,"div",8)(26,"div",13),t.EFF(27,"H\xecnh th\u1ee9c bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(28,"ion-radio-group",14),t.bIt("ionChange",function(c){return e.changeType(c)}),t.j41(29,"div",10)(30,"ion-radio",15)(31,"ion-label"),t.EFF(32,"Ch\u1ecdn m\u1ed9t"),t.k0s(),t.j41(33,"ion-note",16),t.EFF(34,"(Cho ph\xe9p ng\u01b0\u1eddi d\xf9ng ch\u1ec9 ch\u1ecdn m\u1ed9t trong s\u1ed1 c\xe1c l\u1ef1a ch\u1ecdn)"),t.k0s()()(),t.j41(35,"div",10)(36,"ion-radio",15)(37,"ion-label"),t.EFF(38,"Ch\u1ecdn nhi\u1ec1u"),t.k0s(),t.j41(39,"ion-note",16),t.EFF(40,"Cho ph\xe9p ng\u01b0\u1eddi d\xf9ng ch\u1ecdn m\u1ed9t ho\u1eb7c nhi\u1ec1u tu\u1ef3 ch\u1ecdn trong s\u1ed1 c\xe1c l\u1ef1a ch\u1ecdn"),t.k0s()()()()()(),t.j41(41,"ion-footer",17)(42,"ion-toolbar")(43,"ion-button",18),t.bIt("click",function(){return e.modalSubmit()}),t.j41(44,"ion-label"),t.EFF(45,"Ho\xe0n t\u1ea5t"),t.k0s()()()()),2&n){let a;t.R7$(13),t.Y8G("value",e.dataForm.title),t.R7$(5),t.Dyx(null!==(a=e.dataForm.meetingvoted)&&void 0!==a?a:t.lJ4(4,Mt)),t.R7$(10),t.Y8G("value",e.dataForm.type),t.R7$(2),t.Y8G("value",!1),t.R7$(6),t.Y8G("value",!0)}},dependencies:[r.Jm,r.QW,r.W9,r.M0,r.eU,r.iq,r.he,r.JI,r.KO,r.f0,r.IO,r.nc,r.BC,r.ai,r.Je,r.Gw],styles:["ion-radio[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-radio[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{white-space:wrap;font-weight:400}ul[_ngcontent-%COMP%]{list-style:none;padding:0}.btn-remove-content[_ngcontent-%COMP%]{--padding-top: 0;--padding-start: 0;--padding-end: 0;--padding-bottom: 0;--border-radius: .5rem;min-width:2.5rem;min-height:2.5rem}.btn-add-content[_ngcontent-%COMP%]{--border-style: dashed}.btn-add-content[_ngcontent-%COMP%]::part(native){border-color:rgba(var(--ion-color-medium-rgb),.4)}"]}),o})();function At(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",22),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,a=t.XpG();return t.Njj(a.removeContent(e.id))}),t.nrm(1,"ion-icon",23),t.k0s()}}function Nt(l,o){if(1&l){const i=t.RV6();t.j41(0,"li",10)(1,"div",19)(2,"ion-textarea",20),t.bIt("ionChange",function(e){const a=t.eBV(i).$implicit,c=t.XpG();return t.Njj(c.changeContent(e,a.id))}),t.k0s(),t.DNE(3,At,2,0,"ion-button",21),t.k0s()()}if(2&l){let i;const n=o.$implicit,e=t.XpG();t.R7$(2),t.Y8G("value",n.title),t.R7$(),t.vxM(3,(null!==(i=null==e.dataForm.meetingvoted?null:e.dataForm.meetingvoted.length)&&void 0!==i?i:0)>2?3:-1)}}let Pt=(()=>{var l;class o{constructor(n,e,a){this.loadingController=n,this.modalController=e,this.toastController=a,this.dataForm={}}ngOnInit(){this.refreshData()}refreshData(){var n=this;return(0,s.A)(function*(){(0,v.uG)({loadingController:n.loadingController,params:{id:n.id},callback:e=>{n.dataForm=(null==e?void 0:e.data)||{}}})})()}modalClose(){this.modalController.dismiss()}modalSubmit(){(0,v.xw)({params:{id:this.dataForm.id,scheduleId:this.dataForm.scheduleId,title:this.dataForm.title,status:!1,end:!1,createdBy:8,createdDate:h()().format("YYYY-MM-DDTHH:mm")},callback:n=>{if((0,d.q)(this.toastController,{},n).then(c=>c.present()),null!=n&&n.status){var e,a=[];null===(e=this.dataForm.meetingvoted)||void 0===e||e.forEach(c=>{c.isnew&&a.push(new Promise((u,_)=>{S({params:{title:c.title,voteId:this.dataForm.id,isCreatedByAd:1},callback:f=>{u(f)}})})),a.push(new Promise(c.isdelete?(u,_)=>{Tt({params:{id:c.id},callback:f=>{u(f)}})}:(u,_)=>{xt({params:{id:c.id,title:c.title,voteId:c.voteId},callback:f=>{u(f)}})}))}),Promise.all(a).then(c=>{this.modalController.dismiss(null==n?void 0:n.data,"success")})}}})}changeTitle(n){var e;this.dataForm.title=null===(e=n.detail.value)||void 0===e?void 0:e.trim()}changeType(n){console.log(n.detail),this.dataForm.type=n.detail.value}changeContent(n,e){var a;null===(a=this.dataForm.meetingvoted)||void 0===a||a.filter(c=>c.id==e).forEach(c=>{var u;c.title=null===(u=n.detail.value)||void 0===u?void 0:u.trim()})}get dataMeetingvoted(){var n;return(null!==(n=this.dataForm.meetingvoted)&&void 0!==n?n:[]).filter(e=>!e.isdelete)}addContent(){this.dataForm.meetingvoted||(this.dataForm.meetingvoted=[]),this.dataForm.meetingvoted.push({id:Math.floor(999999999*Math.random()),isnew:!0})}removeContent(n){var e;let a=null===(e=this.dataForm.meetingvoted)||void 0===e?void 0:e.find(u=>u.id==n);if(a)if(a.isnew){var c;this.dataForm.meetingvoted=null===(c=this.dataForm.meetingvoted)||void 0===c?void 0:c.filter(u=>u.id!=n)}else a.isdelete=!0}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(r.Xi),t.rXU(r.W3),t.rXU(r.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-vote-update"]],inputs:{id:"id"},decls:46,vars:4,consts:[["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","auto-grow","true","clear-input","true","placeholder","Nh\u1eadp ch\u1ee7 \u0111\u1ec1 bi\u1ec3u quy\u1ebft","minlength","6","maxlength","1000",3,"ionChange","value"],[1,"mt-4"],[1,"m-0"],[1,"mb-3"],["size","small","color","medium","fill","outline","expand","block",1,"ion-no-margin","btn-add-content",3,"click"],["slot","end","name","add-outline"],[1,"fw-600","fs-16","mb-2"],["mode","md",3,"ionChange","value"],["labelPlacement","end",3,"value"],["color","medium",1,"ml-2"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"d-flex","align-items-start"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp n\u1ed9i dung bi\u1ec3u quy\u1ebft","minlength","6","maxlength","1000",1,"flex-grow-1",3,"ionChange","value"],["color","danger",1,"ion-no-margin","btn-remove-content","ml-2"],["color","danger",1,"ion-no-margin","btn-remove-content","ml-2",3,"click"],["src","../../../assets/icon/trash.svg",1,"fs-18"]],template:function(n,e){1&n&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"C\u1eadp nh\u1eadt bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return e.modalClose()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4)(8,"div")(9,"div",5),t.EFF(10,"Ch\u1ee7 \u0111\u1ec1 bi\u1ec3u quy\u1ebft "),t.j41(11,"ion-text",6),t.EFF(12,"*"),t.k0s()(),t.j41(13,"ion-textarea",7),t.bIt("ionChange",function(c){return e.changeTitle(c)}),t.k0s()(),t.j41(14,"div",8)(15,"div",5),t.EFF(16,"N\u1ed9i dung bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(17,"ul",9),t.Z7z(18,Nt,4,2,"li",10,t.fX1),t.k0s(),t.j41(20,"div")(21,"ion-button",11),t.bIt("click",function(){return e.addContent()}),t.j41(22,"ion-label"),t.EFF(23,"Th\xeam n\u1ed9i dung bi\u1ec3u quy\u1ebft"),t.k0s(),t.nrm(24,"ion-icon",12),t.k0s()()(),t.j41(25,"div",8)(26,"div",13),t.EFF(27,"H\xecnh th\u1ee9c bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(28,"ion-radio-group",14),t.bIt("ionChange",function(c){return e.changeType(c)}),t.j41(29,"div",10)(30,"ion-radio",15)(31,"ion-label"),t.EFF(32,"Ch\u1ecdn m\u1ed9t"),t.k0s(),t.j41(33,"ion-note",16),t.EFF(34,"(Cho ph\xe9p ng\u01b0\u1eddi d\xf9ng ch\u1ec9 ch\u1ecdn m\u1ed9t trong s\u1ed1 c\xe1c l\u1ef1a ch\u1ecdn)"),t.k0s()()(),t.j41(35,"div",10)(36,"ion-radio",15)(37,"ion-label"),t.EFF(38,"Ch\u1ecdn nhi\u1ec1u"),t.k0s(),t.j41(39,"ion-note",16),t.EFF(40,"Cho ph\xe9p ng\u01b0\u1eddi d\xf9ng ch\u1ecdn m\u1ed9t ho\u1eb7c nhi\u1ec1u tu\u1ef3 ch\u1ecdn trong s\u1ed1 c\xe1c l\u1ef1a ch\u1ecdn"),t.k0s()()()()()(),t.j41(41,"ion-footer",17)(42,"ion-toolbar")(43,"ion-button",18),t.bIt("click",function(){return e.modalSubmit()}),t.j41(44,"ion-label"),t.EFF(45,"Ho\xe0n t\u1ea5t"),t.k0s()()()()),2&n&&(t.R7$(13),t.Y8G("value",e.dataForm.title),t.R7$(5),t.Dyx(e.dataMeetingvoted),t.R7$(10),t.Y8G("value",e.dataForm.type),t.R7$(2),t.Y8G("value",!1),t.R7$(6),t.Y8G("value",!0))},dependencies:[r.Jm,r.QW,r.W9,r.M0,r.eU,r.iq,r.he,r.JI,r.KO,r.f0,r.IO,r.nc,r.BC,r.ai,r.Je,r.Gw],styles:["ion-radio[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-radio[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{white-space:wrap;font-weight:400}ul[_ngcontent-%COMP%]{list-style:none;padding:0}.btn-remove-content[_ngcontent-%COMP%]{--padding-top: 0;--padding-start: 0;--padding-end: 0;--padding-bottom: 0;--border-radius: .5rem;min-width:2.5rem;min-height:2.5rem}.btn-add-content[_ngcontent-%COMP%]{--border-style: dashed}.btn-add-content[_ngcontent-%COMP%]::part(native){border-color:rgba(var(--ion-color-medium-rgb),.4)}"]}),o})();const Bt=l=>({$implicit:l});function Ut(l,o){1&l&&(t.j41(0,"div",4)(1,"div",8)(2,"div")(3,"div",9),t.nrm(4,"ion-img",10),t.k0s(),t.j41(5,"div",11),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()),2&l&&(t.R7$(6),t.JRh(t.bMT(7,1,"DataNotFound")))}function Vt(l,o){if(1&l&&(t.j41(0,"div",12),t.eu8(1,13),t.k0s()),2&l){const i=o.$implicit;t.XpG(2);const n=t.sdS(13);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,Bt,i))}}function Xt(l,o){if(1&l&&t.Z7z(0,Vt,2,4,"div",12,t.fX1),2&l){const i=t.XpG();t.Dyx(i.listData)}}function wt(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",14)(1,"div",15)(2,"h4",12),t.EFF(3,"X\xf3a bi\u1ec3u quy\u1ebft"),t.k0s(),t.j41(4,"p",16),t.EFF(5,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a m\u1ee5c n\xe0y?"),t.k0s()(),t.j41(6,"div",17)(7,"div",18)(8,"ion-button",19),t.bIt("click",function(){t.eBV(i),t.XpG();const e=t.sdS(10);return t.Njj(null==e?null:e.dismiss())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",20)(12,"ion-button",21),t.bIt("click",function(){t.eBV(i);const e=t.XpG(),a=t.sdS(10);return t.Njj(e.confirmDelete(a))}),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()}2&l&&(t.R7$(9),t.JRh(t.bMT(10,2,"Cancel")),t.R7$(4),t.JRh(t.bMT(14,4,"Delete")))}function Gt(l,o){1&l&&(t.j41(0,"ion-chip",24)(1,"ion-label"),t.EFF(2,"\u0110\xe3 duy\u1ec7t"),t.k0s()())}function Ot(l,o){1&l&&(t.j41(0,"ion-chip",30)(1,"ion-label"),t.EFF(2,"Ch\u01b0a duy\u1ec7t"),t.k0s()())}function Ht(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",31),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,a=t.XpG();return t.Njj(a.confirmVoteOk(e.id))}),t.j41(1,"ion-label"),t.EFF(2,"X\xe1c nh\u1eadn"),t.k0s()()}}function Yt(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",32),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,a=t.XpG();return t.Njj(a.confirmVoteCancel(e.id))}),t.j41(1,"ion-label"),t.EFF(2,"H\u1ee7y x\xe1c nh\u1eadn"),t.k0s()()}}function Lt(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",22)(1,"div")(2,"div",23)(3,"div")(4,"b"),t.EFF(5),t.k0s()(),t.DNE(6,Gt,3,0,"ion-chip",24)(7,Ot,3,0),t.k0s(),t.nrm(8,"hr",25),t.j41(9,"div",26),t.DNE(10,Ht,3,0,"ion-button",27)(11,Yt,3,0),t.j41(12,"ion-button",28),t.bIt("click",function(){const e=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.presentModalVoteUpdate(e.id))}),t.j41(13,"ion-label"),t.EFF(14,"Ch\u1ec9nh s\u1eeda"),t.k0s()(),t.j41(15,"ion-button",29),t.bIt("click",function(){const e=t.eBV(i).$implicit,a=t.XpG(),c=t.sdS(10);return a.selectedId=e.id,t.Njj(null==c?null:c.present())}),t.j41(16,"ion-label"),t.EFF(17,"X\xf3a"),t.k0s()()()()()}if(2&l){const i=o.$implicit;t.R7$(5),t.JRh(i.title),t.R7$(),t.vxM(6,i.status?6:7),t.R7$(4),t.vxM(10,i.status?11:10)}}let qt=(()=>{var l;class o{constructor(n,e,a){this.modalController=n,this.toastController=e,this.loadingController=a,this.listData=[]}ngOnInit(){this.refreshData()}refreshData(){var n=this;return(0,s.A)(function*(){(0,v.WW)({loadingController:n.loadingController,params:{id:n.itemData.id},callback:e=>{null!=e&&e.status?n.listData=(null==e?void 0:e.data)||[]:(0,d.q)(n.toastController,{},e).then(a=>a.present())}})})()}confirmVoteOk(n){var e=this;return(0,s.A)(function*(){(0,v.zs)({loadingController:e.loadingController,params:{id:n},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&e.refreshData()}})})()}confirmVoteCancel(n){var e=this;return(0,s.A)(function*(){(0,v.zD)({loadingController:e.loadingController,params:{id:n},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&e.refreshData()}})})()}confirmDelete(n){var e=this;return(0,s.A)(function*(){(0,v.AE)({loadingController:e.loadingController,params:{id:e.selectedId},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&(null==n||n.dismiss(),e.refreshData())}})})()}presentModalVoteAdd(){var n=this;return(0,s.A)(function*(){const e=yield n.modalController.create({component:St,componentProps:{itemData:n.itemData}});e.onDidDismiss().then(a=>{"success"==a.role&&n.refreshData()}),e.present()})()}presentModalVoteUpdate(n){var e=this;return(0,s.A)(function*(){if(!n)return;const a=yield e.modalController.create({component:Pt,componentProps:{id:n}});a.onDidDismiss().then(c=>{"success"==c.role&&e.refreshData()}),a.present()})()}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(r.W3),t.rXU(r.K_),t.rXU(r.Xi))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-schedule-vote"]],inputs:{itemData:"itemData",listData:"listData"},decls:14,vars:1,consts:[["modalConfirmDelete",""],["templateItem",""],[1,"min-h-100","d-flex","flex-column"],[1,"flex-grow-1","ion-padding","bg-light"],[1,"py-5"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"ion-modal-small"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"mb-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-4"],[1,"text-center"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["color","primary","fill","outline","expand","block",3,"click"],[1,"col-6","pl-1"],["color","danger","expand","block",3,"click"],[1,"card-vote"],[1,"d-flex","align-items-start","justify-content-between"],["color","success",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],[1,"border-top","mt-3","mb-2"],[1,"d-flex"],["size","small","color","primary",1,"flex-grow-1","m-1"],["size","small","color","medium","fill","outline",3,"click"],["size","small","color","danger","fill","outline",3,"click"],["color","warning",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],["size","small","color","primary",1,"flex-grow-1","m-1",3,"click"],["size","small","color","primary","fill","outline",1,"flex-grow-1","m-1",3,"click"]],template:function(n,e){if(1&n){const a=t.RV6();t.j41(0,"div",2)(1,"div",3),t.DNE(2,Ut,8,3,"div",4)(3,Xt,2,0),t.k0s(),t.j41(4,"ion-footer",5)(5,"ion-toolbar")(6,"ion-button",6),t.bIt("click",function(){return t.eBV(a),t.Njj(e.presentModalVoteAdd())}),t.j41(7,"ion-label"),t.EFF(8,"T\u1ea1o bi\u1ec3u quy\u1ebft"),t.k0s()()()()(),t.j41(9,"ion-modal",7,0),t.DNE(11,wt,15,6,"ng-template"),t.k0s(),t.DNE(12,Lt,18,3,"ng-template",null,1,t.C5r)}2&n&&(t.R7$(2),t.vxM(2,e.listData.length?3:2))},dependencies:[k.T3,r.Jm,r.ZB,r.M0,r.KW,r.he,r.ai,r.Sb,F.D9],styles:['.card-vote[_ngcontent-%COMP%]{--line-color: var(--ion-color-primary);position:relative}.card-vote[color=primary][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-primary)}.card-vote[color=medium][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-medium)}.card-vote[color=warning][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-warning)}.card-vote[color=danger][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-danger)}.card-vote[_ngcontent-%COMP%]:before{content:"";padding-left:1rem;background-color:var(--line-color);position:absolute;top:0;left:-3px;bottom:0;border-radius:1rem 0 0 1rem}.card-vote[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast);border-radius:1rem}']}),o})();function zt(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",14),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.presentModalDocumentDetail())}),t.j41(1,"div",15)(2,"div",16),t.nrm(3,"ion-icon",17),t.j41(4,"ion-text",18),t.EFF(5),t.k0s()(),t.j41(6,"ion-button",19),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.removeDocument())}),t.nrm(7,"ion-icon",20),t.k0s()()()}if(2&l){const i=t.XpG();t.R7$(5),t.JRh(i.dataForm.fileOriginalName)}}function Jt(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",21),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.addDocument())}),t.j41(1,"ion-label"),t.EFF(2,"Ch\u1ecdn t\u1eadp tin"),t.k0s(),t.nrm(3,"ion-icon",22),t.k0s()}}let Kt=(()=>{var l;class o{constructor(n,e,a){this.loadingController=n,this.modalController=e,this.toastController=a,this.dataForm={}}ngOnInit(){}modalClose(){this.modalController.dismiss()}modalSubmit(){I({params:Object.assign(this.dataForm,{scheduleId:this.scheduleId,status:!1}),callback:n=>{(0,d.q)(this.toastController,{},n).then(e=>e.present()),null!=n&&n.status&&this.modalController.dismiss(null==n?void 0:n.data,"success")}})}changeTitle(n){var e;this.dataForm.title=null===(e=n.detail.value)||void 0===e?void 0:e.trim()}changeContent(n){var e;this.dataForm.content=null===(e=n.detail.value)||void 0===e?void 0:e.trim()}removeDocument(){this.dataForm.fileUrl=null,this.dataForm.fileOriginalName=null,this.dataForm.fileSystemName=null,this.dataForm.fileType=null,this.dataForm.fileSize=null}addDocument(){E({accept:".txt,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf"},n=>{$({loadingController:this.loadingController,params:{scheduleId:this.dataForm.id,file:n[0]},callback:a=>{if(null!=a&&a.status){var c=a.data;c&&(this.dataForm.fileUrl=c.fileUrl,this.dataForm.fileOriginalName=c.fileName,this.dataForm.fileSystemName=null,this.dataForm.fileType=c.contentType,this.dataForm.fileSize=c.fileSize)}else(0,d.q)(this.toastController,{},a).then(u=>u.present())}})})}presentModalDocumentDetail(){var n=this;return(0,s.A)(function*(){(yield n.modalController.create({component:D,componentProps:{fileName:n.dataForm.fileOriginalName,fileType:n.dataForm.fileType,fileUrl:n.dataForm.fileUrl,scheduleId:n.dataForm.id,mod:"conslusion"}})).present()})()}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(r.Xi),t.rXU(r.W3),t.rXU(r.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-conslusion-add"]],inputs:{scheduleId:"scheduleId"},decls:30,vars:3,consts:[["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp ti\xeau \u0111\u1ec1","minlength","6","maxlength","1000",3,"ionChange","value"],[1,"mt-4"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp n\u1ed9i dung","minlength","6","maxlength","4000",3,"ionChange","value"],[1,"fs-12","mb-1"],[1,"document-item","cursor-pointer"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"document-item","cursor-pointer",3,"click"],[1,"d-flex","align-items-start","justify-content-between"],[1,"d-flex","align-items-start"],["color","medium","src","../../../../assets/icon/document.svg",1,"fs-20","mr-2"],["color","medium"],["color","danger","fill","clear",1,"ion-no-margin","btn-remove-content","ml-2",3,"click"],["name","close-outline",1,"fs-20"],["size","small","color","medium","fill","outline","expand","block",1,"ion-no-margin","btn-upload",3,"click"],["slot","end","name","cloud-upload-outline",1,"fs-18"]],template:function(n,e){1&n&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"Th\xeam k\u1ebft lu\u1eadn cu\u1ed9c h\u1ecdp"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return e.modalClose()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4)(8,"div")(9,"div",5),t.EFF(10,"Ti\xeau \u0111\u1ec1 "),t.j41(11,"ion-text",6),t.EFF(12,"*"),t.k0s()(),t.j41(13,"ion-textarea",7),t.bIt("ionChange",function(c){return e.changeTitle(c)}),t.k0s()(),t.j41(14,"div",8)(15,"div",5),t.EFF(16,"N\u1ed9i dung "),t.j41(17,"ion-text",6),t.EFF(18,"*"),t.k0s()(),t.j41(19,"ion-textarea",9),t.bIt("ionChange",function(c){return e.changeContent(c)}),t.k0s()(),t.j41(20,"div",8)(21,"div",10),t.EFF(22,"T\u1ec7p \u0111\xednh k\xe8m"),t.k0s(),t.DNE(23,zt,8,1,"div",11)(24,Jt,4,0),t.k0s()(),t.j41(25,"ion-footer",12)(26,"ion-toolbar")(27,"ion-button",13),t.bIt("click",function(){return e.modalSubmit()}),t.j41(28,"ion-label"),t.EFF(29,"Ho\xe0n t\u1ea5t"),t.k0s()()()()),2&n&&(t.R7$(13),t.Y8G("value",e.dataForm.title),t.R7$(6),t.Y8G("value",e.dataForm.content),t.R7$(4),t.vxM(23,e.dataForm.fileUrl?23:24))},dependencies:[r.Jm,r.QW,r.W9,r.M0,r.eU,r.iq,r.he,r.IO,r.nc,r.BC,r.ai,r.Gw],styles:[".btn-upload[_ngcontent-%COMP%]{--border-style: dashed}.btn-upload[_ngcontent-%COMP%]::part(native){border-color:rgba(var(--ion-color-medium-rgb),.4)}.document-item[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:.5rem;border:1px solid #E6E7EA;background:#f4f4f6}.btn-remove-content[_ngcontent-%COMP%]{--padding-top: 0;--padding-start: 0;--padding-end: 0;--padding-bottom: 0;--border-radius: .5rem;margin:0;min-width:1.25rem;min-height:1.25rem}"]}),o})();function Qt(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",14),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.presentModalDocumentDetail())}),t.j41(1,"div",15)(2,"div",16),t.nrm(3,"ion-icon",17),t.j41(4,"ion-text",18),t.EFF(5),t.k0s()(),t.j41(6,"ion-button",19),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.removeDocument())}),t.nrm(7,"ion-icon",20),t.k0s()()()}if(2&l){const i=t.XpG(2);t.R7$(5),t.JRh(i.itemData.fileOriginalName)}}function Wt(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",21),t.bIt("click",function(){t.eBV(i);const e=t.XpG(2);return t.Njj(e.addDocument())}),t.j41(1,"ion-label"),t.EFF(2,"Ch\u1ecdn t\u1eadp tin"),t.k0s(),t.nrm(3,"ion-icon",22),t.k0s()}}function Zt(l,o){if(1&l){const i=t.RV6();t.j41(0,"div")(1,"div",7),t.EFF(2,"Ti\xeau \u0111\u1ec1 "),t.j41(3,"ion-text",8),t.EFF(4,"*"),t.k0s()(),t.j41(5,"ion-textarea",9),t.bIt("ionChange",function(e){t.eBV(i);const a=t.XpG();return t.Njj(a.changeTitle(e))}),t.k0s()(),t.j41(6,"div",10)(7,"div",7),t.EFF(8,"N\u1ed9i dung "),t.j41(9,"ion-text",8),t.EFF(10,"*"),t.k0s()(),t.j41(11,"ion-textarea",11),t.bIt("ionChange",function(e){t.eBV(i);const a=t.XpG();return t.Njj(a.changeContent(e))}),t.k0s()(),t.j41(12,"div",10)(13,"div",12),t.EFF(14,"T\u1ec7p \u0111\xednh k\xe8m"),t.k0s(),t.DNE(15,Qt,8,1,"div",13)(16,Wt,4,0),t.k0s()}if(2&l){const i=t.XpG();t.R7$(5),t.Y8G("value",i.itemData.title),t.R7$(6),t.Y8G("value",i.itemData.content),t.R7$(4),t.vxM(15,i.itemData.fileUrl?15:16)}}let te=(()=>{var l;class o{constructor(n,e,a){this.loadingController=n,this.modalController=e,this.toastController=a}ngOnInit(){this.refreshData()}refreshData(){var n=this;return(0,s.A)(function*(){st({loadingController:n.loadingController,params:{id:n.id},callback:e=>{null!=e&&e.status?n.itemData=(null==e?void 0:e.data)||{}:(0,d.q)(n.toastController,{},e).then(a=>a.present())}})})()}modalClose(){this.modalController.dismiss()}modalSubmit(){it({params:this.itemData,callback:n=>{(0,d.q)(this.toastController,{},n).then(e=>e.present()),null!=n&&n.status&&this.modalController.dismiss(null==n?void 0:n.data,"success")}})}changeTitle(n){var e;this.itemData.title=null===(e=n.detail.value)||void 0===e?void 0:e.trim()}changeContent(n){var e;this.itemData.content=null===(e=n.detail.value)||void 0===e?void 0:e.trim()}removeDocument(){this.itemData.fileUrl=null,this.itemData.fileOriginalName=null,this.itemData.fileSystemName=null,this.itemData.fileType=null,this.itemData.fileSize=null}addDocument(){E({accept:".txt,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf"},n=>{$({loadingController:this.loadingController,params:{scheduleId:this.itemData.id,file:n[0]},callback:a=>{if(null!=a&&a.status){var c=a.data;c&&(this.itemData.fileUrl=c.fileUrl,this.itemData.fileOriginalName=c.fileName,this.itemData.fileSystemName=null,this.itemData.fileType=c.contentType,this.itemData.fileSize=c.fileSize)}else(0,d.q)(this.toastController,{},a).then(u=>u.present())}})})}presentModalDocumentDetail(){var n=this;return(0,s.A)(function*(){(yield n.modalController.create({component:D,componentProps:{fileName:n.itemData.fileOriginalName,fileType:n.itemData.fileType,fileUrl:n.itemData.fileUrl,scheduleId:n.itemData.id,mod:"conslusion"}})).present()})()}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(r.Xi),t.rXU(r.W3),t.rXU(r.K_))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-modal-conslusion-update"]],inputs:{id:"id"},decls:14,vars:1,consts:[["color","primary"],["slot","end"],[3,"click"],["color","light","name","close-outline"],[1,"ion-padding"],["collapse","fade"],["color","primary","expand","block",3,"click"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp ti\xeau \u0111\u1ec1","minlength","6","maxlength","1000",3,"ionChange","value"],[1,"mt-4"],["mode","md","fill","outline","auto-grow","true","placeholder","Nh\u1eadp n\u1ed9i dung","minlength","6","maxlength","4000",3,"ionChange","value"],[1,"fs-12","mb-1"],[1,"document-item","cursor-pointer"],[1,"document-item","cursor-pointer",3,"click"],[1,"d-flex","align-items-start","justify-content-between"],[1,"d-flex","align-items-start"],["color","medium","src","../../../../assets/icon/document.svg",1,"fs-20","mr-2"],["color","medium"],["color","danger","fill","clear",1,"ion-no-margin","btn-remove-content","ml-2",3,"click"],["name","close-outline",1,"fs-20"],["size","small","color","medium","fill","outline","expand","block",1,"ion-no-margin","btn-upload",3,"click"],["slot","end","name","cloud-upload-outline",1,"fs-18"]],template:function(n,e){1&n&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"C\u1eadp nh\u1eadt k\u1ebft lu\u1eadn"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return e.modalClose()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4),t.DNE(8,Zt,17,3),t.k0s(),t.j41(9,"ion-footer",5)(10,"ion-toolbar")(11,"ion-button",6),t.bIt("click",function(){return e.modalSubmit()}),t.j41(12,"ion-label"),t.EFF(13,"Ho\xe0n t\u1ea5t"),t.k0s()()()()),2&n&&(t.R7$(8),t.vxM(8,e.itemData?8:-1))},dependencies:[r.Jm,r.QW,r.W9,r.M0,r.eU,r.iq,r.he,r.IO,r.nc,r.BC,r.ai,r.Gw],styles:[".btn-upload[_ngcontent-%COMP%]{--border-style: dashed}.btn-upload[_ngcontent-%COMP%]::part(native){border-color:rgba(var(--ion-color-medium-rgb),.4)}.document-item[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:.5rem;border:1px solid #E6E7EA;background:#f4f4f6}.btn-remove-content[_ngcontent-%COMP%]{--padding-top: 0;--padding-start: 0;--padding-end: 0;--padding-bottom: 0;--border-radius: .5rem;margin:0;min-width:1.25rem;min-height:1.25rem}"]}),o})();const ee=l=>({$implicit:l});function ne(l,o){1&l&&(t.j41(0,"div",4)(1,"div",10)(2,"div")(3,"div",11),t.nrm(4,"ion-img",12),t.k0s(),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()),2&l&&(t.R7$(6),t.JRh(t.bMT(7,1,"DataNotFound")))}function oe(l,o){if(1&l&&(t.j41(0,"div",14),t.eu8(1,15),t.k0s()),2&l){const i=o.$implicit;t.XpG(2);const n=t.sdS(17);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,ee,i))}}function ie(l,o){if(1&l&&t.Z7z(0,oe,2,4,"div",14,t.fX1),2&l){const i=t.XpG();t.Dyx(i.listData)}}function ae(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",16)(1,"div",17)(2,"h4",14),t.EFF(3,"X\xf3a k\u1ebft lu\u1eadn cu\u1ed9c h\u1ecdp"),t.k0s(),t.j41(4,"p",18),t.EFF(5,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a m\u1ee5c n\xe0y?"),t.k0s()(),t.j41(6,"div",19)(7,"div",20)(8,"ion-button",21),t.bIt("click",function(){t.eBV(i),t.XpG();const e=t.sdS(14);return t.Njj(null==e?null:e.dismiss())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",22)(12,"ion-button",23),t.bIt("click",function(){t.eBV(i);const e=t.XpG(),a=t.sdS(14);return t.Njj(e.confirmDelete(a))}),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()}2&l&&(t.R7$(9),t.JRh(t.bMT(10,2,"Cancel")),t.R7$(4),t.JRh(t.bMT(14,4,"Delete")))}function le(l,o){1&l&&(t.j41(0,"ion-chip",27)(1,"ion-label"),t.EFF(2,"\u0110\xe3 duy\u1ec7t"),t.k0s()())}function re(l,o){1&l&&(t.j41(0,"ion-chip",34)(1,"ion-label"),t.EFF(2,"H\u1ee7y duy\u1ec7t"),t.k0s()())}function ce(l,o){1&l&&(t.j41(0,"ion-chip",35)(1,"ion-label"),t.EFF(2,"Ch\u01b0a duy\u1ec7t"),t.k0s()())}function se(l,o){if(1&l&&(t.j41(0,"div",28)(1,"b"),t.EFF(2,"N\u1ed9i dung:"),t.k0s(),t.j41(3,"div",36),t.nrm(4,"ion-note",37),t.k0s()()),2&l){const i=t.XpG().$implicit;t.R7$(4),t.Y8G("innerHTML",i.content,t.npT)}}function ue(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",28)(1,"div",38),t.EFF(2,"T\u1ec7p \u0111\xednh k\xe8m:"),t.k0s(),t.j41(3,"div",39),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,a=t.XpG();return t.Njj(a.presentModalDocumentDetail(e.fileOriginalName,e.fileType,e.fileUrl))}),t.j41(4,"div",40)(5,"div",41),t.nrm(6,"ion-icon",42),t.j41(7,"ion-text",43),t.EFF(8),t.k0s()()()()()}if(2&l){const i=t.XpG().$implicit;t.R7$(8),t.JRh(i.fileOriginalName)}}function de(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",44),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,a=t.XpG();return t.Njj(a.confirmConslusionOk(e.id))}),t.j41(1,"ion-label"),t.EFF(2,"X\xe1c nh\u1eadn"),t.k0s()()}}function me(l,o){if(1&l){const i=t.RV6();t.j41(0,"ion-button",45),t.bIt("click",function(){t.eBV(i);const e=t.XpG().$implicit,a=t.XpG();return t.Njj(a.confirmConslusionCancel(e.id))}),t.j41(1,"ion-label"),t.EFF(2,"H\u1ee7y x\xe1c nh\u1eadn"),t.k0s()()}}function pe(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",24)(1,"div",25)(2,"h5",26),t.EFF(3),t.k0s(),t.DNE(4,le,3,0,"ion-chip",27)(5,re,3,0)(6,ce,3,0),t.k0s(),t.DNE(7,se,5,1,"div",28)(8,ue,9,1,"div",28),t.k0s(),t.j41(9,"div",29),t.DNE(10,de,3,0,"ion-button",30)(11,me,3,0),t.j41(12,"ion-button",31),t.bIt("click",function(){const e=t.eBV(i).$implicit,a=t.XpG();return t.Njj(a.presentModalConslusionUpdate(e.id))}),t.j41(13,"ion-label"),t.EFF(14,"Ch\u1ec9nh s\u1eeda"),t.k0s()(),t.j41(15,"ion-button",32),t.bIt("click",function(){const e=t.eBV(i).$implicit,a=t.XpG(),c=t.sdS(14);return a.selectedId=e.id,t.Njj(null==c?null:c.present())}),t.j41(16,"ion-label"),t.EFF(17,"X\xf3a"),t.k0s()()(),t.nrm(18,"hr",33)}if(2&l){const i=o.$implicit;t.R7$(3),t.JRh(i.title),t.R7$(),t.vxM(4,2==i.status?4:3==i.status?5:6),t.R7$(3),t.vxM(7,i.content?7:-1),t.R7$(),t.vxM(8,i.fileUrl?8:-1),t.R7$(2),t.vxM(10,2!=i.status?10:11)}}let _e=(()=>{var l;class o{constructor(n,e,a){this.modalController=n,this.toastController=e,this.loadingController=a,this.listData=[]}ngOnInit(){this.refreshData()}refreshData(){var n=this;return(0,s.A)(function*(){ct({loadingController:n.loadingController,params:{id:n.itemData.id},callback:e=>{null!=e&&e.status?n.listData=(null==e?void 0:e.data)||[]:(0,d.q)(n.toastController,{},e).then(a=>a.present())}})})()}presentModalConslusionAdd(){var n=this;return(0,s.A)(function*(){const e=yield n.modalController.create({component:Kt,componentProps:{scheduleId:n.itemData.id}});e.onDidDismiss().then(a=>{"success"==a.role&&n.refreshData()}),e.present()})()}presentModalConslusionUpdate(n){var e=this;return(0,s.A)(function*(){const a=yield e.modalController.create({component:te,componentProps:{id:n}});a.onDidDismiss().then(c=>{"success"==c.role&&e.refreshData()}),a.present()})()}addDocument(){E({accept:".txt,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf"},n=>{$({loadingController:this.loadingController,params:{scheduleId:this.itemData.id,file:n[0]},callback:a=>{if(null!=a&&a.status){var c=a.data;c&&I({params:{scheduleId:this.itemData.id,title:`T\xe0i li\u1ec7u k\u1ebft lu\u1eadn cu\u1ed9c h\u1ecdp (#${Math.floor(999999*Math.random())})`,fileUrl:c.fileUrl,fileOriginalName:c.fileName,fileType:c.contentType,fileSize:c.fileSize},callback:u=>{(0,d.q)(this.toastController,{},u).then(_=>_.present()),null!=u&&u.status&&this.refreshData()}})}else(0,d.q)(this.toastController,{},a).then(u=>u.present())}})})}confirmConslusionOk(n){var e=this;return(0,s.A)(function*(){lt({loadingController:e.loadingController,params:{id:n},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&e.refreshData()}})})()}confirmConslusionCancel(n){var e=this;return(0,s.A)(function*(){rt({loadingController:e.loadingController,params:{id:n},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&e.refreshData()}})})()}confirmDelete(n){var e=this;return(0,s.A)(function*(){at({loadingController:e.loadingController,params:{id:e.selectedId},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&(null==n||n.dismiss(),e.refreshData())}})})()}presentModalDocumentDetail(n,e,a){var c=this;return(0,s.A)(function*(){(yield c.modalController.create({component:D,componentProps:{fileName:n,fileType:e,fileUrl:a,scheduleId:c.itemData.id,mod:"conslusion"}})).present()})()}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(r.W3),t.rXU(r.K_),t.rXU(r.Xi))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-schedule-conslusion"]],inputs:{itemData:"itemData",listData:"listData"},decls:18,vars:1,consts:[["modalConfirmDelete",""],["templateItem",""],[1,"min-h-100","d-flex","flex-column"],[1,"flex-grow-1","ion-padding","bg-light"],[1,"py-5"],["collapse","fade"],[1,"d-flex"],["color","primary","fill","outline","expand","block",1,"flex-grow-1",3,"click"],["color","primary","expand","block",1,"flex-grow-1",3,"click"],[1,"ion-modal-small"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"mb-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-4"],[1,"text-center"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["color","primary","fill","outline","expand","block",3,"click"],[1,"col-6","pl-1"],["color","danger","expand","block",3,"click"],[1,"card-conslusion"],[1,"d-flex","align-items-start","justify-content-between"],[1,"my-0","fw-700"],["color","success",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],[1,"mt-4"],[1,"d-flex","align-items-center","mt-2"],["size","small","color","primary",1,"flex-grow-1","m-1"],["size","small","color","medium","fill","outline",1,"min-w-120","m-1",3,"click"],["size","small","color","danger","fill","outline",1,"min-w-120","m-1",3,"click"],[1,"border-top","my-3"],["color","danger",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],["color","warning",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],[1,"mt-2"],["color","medium",3,"innerHTML"],[1,"fs-12"],[1,"mt-1","document-item","cursor-pointer",3,"click"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-start","text-truncate"],["color","medium","src","../../../../assets/icon/document.svg",1,"fs-20","mr-2"],["color","medium",1,"text-truncate"],["size","small","color","primary",1,"flex-grow-1","m-1",3,"click"],["size","small","color","primary","fill","outline",1,"flex-grow-1","m-1",3,"click"]],template:function(n,e){if(1&n){const a=t.RV6();t.j41(0,"div",2)(1,"div",3),t.DNE(2,ne,8,3,"div",4)(3,ie,2,0),t.k0s(),t.j41(4,"ion-footer",5)(5,"ion-toolbar")(6,"div",6)(7,"ion-button",7),t.bIt("click",function(){return t.eBV(a),t.Njj(e.addDocument())}),t.j41(8,"ion-label"),t.EFF(9,"Th\xeam t\xe0i li\u1ec7u"),t.k0s()(),t.j41(10,"ion-button",8),t.bIt("click",function(){return t.eBV(a),t.Njj(e.presentModalConslusionAdd())}),t.j41(11,"ion-label"),t.EFF(12,"Th\xeam k\u1ebft lu\u1eadn"),t.k0s()()()()()(),t.j41(13,"ion-modal",9,0),t.DNE(15,ae,15,6,"ng-template"),t.k0s(),t.DNE(16,pe,19,5,"ng-template",null,1,t.C5r)}2&n&&(t.R7$(2),t.vxM(2,e.listData.length?3:2))},dependencies:[k.T3,r.Jm,r.ZB,r.M0,r.iq,r.KW,r.he,r.JI,r.IO,r.ai,r.Sb,F.D9],styles:[".document-item[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:.5rem;border:1px solid #E6E7EA;background:#f4f4f6}"]}),o})();const j=()=>[];function fe(l,o){if(1&l&&t.nrm(0,"app-schedule-info",14),2&l){const i=t.XpG(2);t.Y8G("itemData",i.itemData)}}function he(l,o){if(1&l&&t.nrm(0,"app-schedule-document",15),2&l){const i=t.XpG(2);t.Y8G("itemData",i.itemData)("listData",i.itemData.meetingDocument||t.lJ4(2,j))}}function Ce(l,o){if(1&l&&t.nrm(0,"app-schedule-vote",15),2&l){const i=t.XpG(2);t.Y8G("itemData",i.itemData)("listData",i.itemData.meetingVotes||t.lJ4(2,j))}}function ve(l,o){if(1&l&&t.nrm(0,"app-schedule-conslusion",15),2&l){const i=t.XpG(2);t.Y8G("itemData",i.itemData)("listData",i.itemData.meetingConslusion||t.lJ4(2,j))}}function ge(l,o){if(1&l&&t.DNE(0,fe,1,1)(1,he,1,3)(2,Ce,1,3)(3,ve,1,3),2&l){let i;const n=t.XpG();t.vxM(0,"info"===(i=n.tabActive)?0:"document"===i?1:"vote"===i?2:"conslusion"===i?3:-1)}}function be(l,o){if(1&l){const i=t.RV6();t.j41(0,"div",16)(1,"div",17)(2,"h4",18),t.EFF(3,"X\xf3a l\u1ecbch h\u1ecdp"),t.k0s(),t.j41(4,"p",19),t.EFF(5,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a l\u1ecbch h\u1ecdp n\xe0y?"),t.k0s()(),t.j41(6,"div",20)(7,"div",21)(8,"ion-button",22),t.bIt("click",function(){t.eBV(i),t.XpG();const e=t.sdS(25);return t.Njj(null==e?null:e.dismiss())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",23)(12,"ion-button",24),t.bIt("click",function(){t.eBV(i);const e=t.XpG(),a=t.sdS(25);return t.Njj(e.confirmDelete(a))}),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()}2&l&&(t.R7$(9),t.JRh(t.bMT(10,2,"Cancel")),t.R7$(4),t.JRh(t.bMT(14,4,"Delete")))}const ke=[{path:"",component:(()=>{var l;class o{constructor(n,e,a,c,u){this.activatedRoute=n,this.router=e,this.modalController=a,this.toastController=c,this.loadingController=u,this.APP_ROUTE=y._,this.APP_FUNC_FormatDate=b.Rv,this.APP_FUNC_FormatRoomNumber=b.NY,this.tabActive="info";let _=n.snapshot.queryParams.tab;_&&(this.tabActive=_);let f=n.snapshot.params.id;f&&(this.roomId=f,this.refreshData())}ngOnInit(){}refreshData(n){(0,C.vx)({loadingController:this.loadingController,params:{id:this.roomId},callback:e=>{this.itemData=null==e?void 0:e.data,n&&n()}})}changeTab(n){var e=this;return(0,s.A)(function*(){e.tabActive=n.detail.value,e.router.navigate([],{relativeTo:e.activatedRoute,queryParams:{tab:e.tabActive},queryParamsHandling:"merge",replaceUrl:!0})})()}navigateByUrl(n){var e=this;return(0,s.A)(function*(){e.router.navigateByUrl(n)})()}changeIsPwd(n){var e=this;return(0,s.A)(function*(){e.isShowPwd=n})()}copyRoomCode(n){var e=this;return(0,s.A)(function*(){e.isCopied=(0,b.k8)(n)})()}checkStatus(n){return h()().isAfter(h()(n))?0:1}confirmDelete(n){var e=this;return(0,s.A)(function*(){(0,C.qC)({loadingController:e.loadingController,params:{id:e.roomId},callback:a=>{(0,d.q)(e.toastController,{},a).then(c=>c.present()),null!=a&&a.status&&(null==n||n.dismiss(),e.router.navigateByUrl(y._.SCHEDULE,{replaceUrl:!0}))}})})()}presentModalScheduleUpdate(){var n=this;return(0,s.A)(function*(){const e=yield n.modalController.create({component:R,componentProps:{itemData:n.itemData}});e.onDidDismiss().then(a=>{"success"==a.role&&n.refreshData()}),e.present()})()}}return(l=o).\u0275fac=function(n){return new(n||l)(t.rXU(g.nX),t.rXU(g.Ix),t.rXU(r.W3),t.rXU(r.K_),t.rXU(r.Xi))},l.\u0275cmp=t.VBU({type:l,selectors:[["app-schedule-detail"]],decls:27,vars:5,consts:[["modalConfirmDelete",""],[1,"ion-no-border"],["color","primary"],["slot","start"],[3,"defaultHref","text"],["slot","end"],["color","light",3,"click"],["src","../../../assets/icon/trash.svg",1,"fs-24"],["mode","md",3,"ionChange","scrollable","value"],["value","info"],["value","document"],["value","vote"],["value","conslusion"],[1,"ion-modal-small"],[3,"itemData"],[3,"itemData","listData"],[1,"p-4"],[1,"text-center"],[1,"mb-2"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["color","primary","fill","outline","expand","block",3,"click"],[1,"col-6","pl-1"],["color","danger","expand","block",3,"click"]],template:function(n,e){if(1&n){const a=t.RV6();t.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),t.nrm(3,"ion-back-button",4),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"Chi ti\u1ebft cu\u1ed9c h\u1ecdp"),t.k0s(),t.j41(6,"ion-buttons",5)(7,"ion-button",6),t.bIt("click",function(){t.eBV(a);const u=t.sdS(25);return t.Njj(null==u?null:u.present())}),t.nrm(8,"ion-icon",7),t.k0s()()(),t.j41(9,"ion-segment",8),t.bIt("ionChange",function(u){return t.eBV(a),t.Njj(e.changeTab(u))}),t.j41(10,"ion-segment-button",9)(11,"ion-label"),t.EFF(12,"Th\xf4ng tin"),t.k0s()(),t.j41(13,"ion-segment-button",10)(14,"ion-label"),t.EFF(15,"T\xe0i li\u1ec7u"),t.k0s()(),t.j41(16,"ion-segment-button",11)(17,"ion-label"),t.EFF(18,"Bi\u1ec3u quy\u1ebft"),t.k0s()(),t.j41(19,"ion-segment-button",12)(20,"ion-label"),t.EFF(21,"K\u1ebft lu\u1eadn"),t.k0s()()()(),t.j41(22,"ion-content"),t.DNE(23,ge,4,1),t.j41(24,"ion-modal",13,0),t.DNE(26,be,15,6,"ng-template"),t.k0s()()}2&n&&(t.R7$(3),t.Y8G("defaultHref","/")("text",""),t.R7$(6),t.Y8G("scrollable",!0)("value",e.tabActive),t.R7$(14),t.vxM(23,e.itemData?23:-1))},dependencies:[r.Jm,r.QW,r.W9,r.eU,r.iq,r.he,r.Gp,r.eP,r.BC,r.ai,r.Sb,r.Je,r.el,ot,jt,qt,_e,F.D9],styles:["ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.875rem;text-transform:initial}"]}),o})()}];let De=(()=>{var l;class o{}return(l=o).\u0275fac=function(n){return new(n||l)},l.\u0275mod=t.$C({type:l}),l.\u0275inj=t.G2t({imports:[g.iI.forChild(ke),g.iI]}),o})();var Ee=m(3664);let Fe=(()=>{var l;class o{}return(l=o).\u0275fac=function(n){return new(n||l)},l.\u0275mod=t.$C({type:l}),l.\u0275inj=t.G2t({imports:[k.MD,P.YN,r.bv,De,Ee.x]}),o})()}}]);