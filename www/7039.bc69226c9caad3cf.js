"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7039],{5826:(b,C,o)=>{o.d(C,{D7:()=>G,Dm:()=>D,KL:()=>i,Up:()=>_,bt:()=>n,j7:()=>T,l9:()=>s,qC:()=>y,rm:()=>k,s_:()=>M,vR:()=>E,vx:()=>L});var p=o(467),P=o(7586),h=o.n(P),c=o(5972);const i=function(){var m=(0,p.A)(function*(a){var e,t,R,g;a.params=a.params||{},(0,c.Ll)({url:"QuanLyLapLich/them",params:{title:a.params.title||"H\u1ecdp tr\u1ef1c tuy\u1ebfn",content:a.params.content,startTime:null!==(e=a.params.startTime)&&void 0!==e?e:h()(new Date).format("YYYY-MM-DDTHH:mm:ss"),endTime:null!==(t=a.params.endTime)&&void 0!==t?t:h()(new Date((g=new Date,g.setHours(g.getHours()+4),g))).format("YYYY-MM-DDTHH:mm:ss"),chairMan:a.params.chairMan,roomName:null!==(R=a.params.roomName)&&void 0!==R?R:h()(new Date).format("YYYYMMDDHHmmss"),place:a.params.place,status:a.params.status,start:a.params.start,token:a.params.token,serverId:4,typeId:a.params.typeId,sharedRole:a.params.sharedRole,password:a.params.password,isLobby:a.params.isLobby,isPublished:a.params.isPublished},success:g=>{"function"==typeof a.callback&&a.callback(g.data||null)},error:g=>{var x;"function"==typeof a.callback&&a.callback(null==g||null===(x=g.response)||void 0===x?void 0:x.data),console.error(g)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),s=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.IH)({url:`QuanLyLapLich/chinhsua?id=${a.params.id}`,params:{id:a.params.id,title:a.params.title,content:a.params.content,startTime:a.params.startTime,endTime:a.params.endTime,chairMan:a.params.chairMan,roomName:a.params.roomName,place:a.params.place,status:a.params.status,start:a.params.start,token:a.params.token,serverId:a.params.serverId,typeId:a.params.typeId,sharedRole:a.params.sharedRole,password:a.params.password,isLobby:a.params.isLobby,isPublished:a.params.isPublished,modifiedDate:a.params.modifiedDate,modifiedBy:a.params.modifiedBy,don_vi:a.params.don_vi},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),y=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.sj)({url:"QuanLyLapLich/xoa",params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),_=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.sj)({url:"QuanLyLapLich/xoahoantoan",params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),L=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.hm)({url:"QuanLyLapLich/thongtin",params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),n=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.hm)({url:"QuanLyLapLich/chitietphonghop",params:{roomName:a.params.roomName},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),E=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.Ll)({url:`QuanLyLapLich/xacnhan?id=${a.params.id}`,params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),D=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.Ll)({url:`QuanLyLapLich/huyxacnhan?id=${a.params.id}`,params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),k=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.Ll)({url:`QuanLyLapLich/khoiphuc?id=${a.params.id}`,params:{id:a.params.id},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),M=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.hm)({url:"QuanLyLapLich/danhsach",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search,dateFrom:a.params.dateFrom,dateTo:a.params.dateTo,status:a.params.status,start:a.params.start,isdeleted:a.params.isdeleted},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),G=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.hm)({url:"QuanLyLapLich/danhsachserver",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}(),T=function(){var m=(0,p.A)(function*(a){a.params=a.params||{},(0,c.hm)({url:"QuanLyLapLich/thongtinnguoidung",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search},success:e=>{"function"==typeof a.callback&&a.callback(e.data||null)},error:e=>{var t;"function"==typeof a.callback&&a.callback(null==e||null===(t=e.response)||void 0===t?void 0:t.data),console.error(e)},loading:a.loading,loadingController:a.loadingController})});return function(e){return m.apply(this,arguments)}}()},3890:(b,C,o)=>{o.d(C,{x:()=>y});var p=o(177),P=o(9417),h=o(4742),c=o(2706),i=o(4342),s=o(4438);let y=(()=>{var _;class L{}return(_=L).\u0275fac=function(E){return new(E||_)},_.\u0275mod=s.$C({type:_}),_.\u0275inj=s.G2t({imports:[p.MD,P.YN,h.bv,c.G,i.LP,c.G,i.LP]}),L})()},7039:(b,C,o)=>{o.r(C),o.d(C,{RoomExternalGuestPageModule:()=>x});var p=o(177),P=o(9417),h=o(4742),c=o(2175),i=o(467),s=o(5826),y=o(6539),_=o(5751),L=o(9485),n=o(4438),E=o(2925);const D=["inputRoomPwd"];function A(u,v){1&u&&(n.j41(0,"ion-buttons",3),n.nrm(1,"ion-back-button",4),n.k0s())}function k(u,v){if(1&u&&(n.j41(0,"ion-content",5),n.nrm(1,"app-jitsi-meet",6),n.k0s()),2&u){const f=n.XpG(2);n.Y8G("scrollX",!1)("scrollY",!1),n.R7$(),n.Y8G("roomData",f.roomData)("userData",f.userData)}}function M(u,v){if(1&u){const f=n.RV6();n.j41(0,"div")(1,"div",10),n.EFF(2,"M\u1eadt kh\u1ea9u "),n.j41(3,"ion-text",11),n.EFF(4,"*"),n.k0s()(),n.j41(5,"ion-input",12,0),n.bIt("ionChange",function(r){n.eBV(f);const d=n.XpG(3);return n.Njj(d.changeRoomPwd(r))})("keyup.enter",function(){n.eBV(f);const r=n.XpG(3);return n.Njj(r.checkAccepted())}),n.k0s()()}}function G(u,v){if(1&u){const f=n.RV6();n.j41(0,"div",13)(1,"div",10),n.EFF(2,"T\xean hi\u1ec3n th\u1ecb "),n.j41(3,"ion-text",11),n.EFF(4,"*"),n.k0s()(),n.j41(5,"ion-input",14),n.bIt("ionChange",function(r){n.eBV(f);const d=n.XpG(3);return n.Njj(d.changeUserName(r))}),n.k0s()(),n.j41(6,"div",13)(7,"div",10),n.EFF(8,"Email "),n.j41(9,"ion-text",11),n.EFF(10,"*"),n.k0s()(),n.j41(11,"ion-input",15),n.bIt("ionChange",function(r){n.eBV(f);const d=n.XpG(3);return n.Njj(d.changeUserEmail(r))}),n.k0s()()}if(2&u){const f=n.XpG(3);n.R7$(5),n.Y8G("value",f.userData.name),n.R7$(6),n.Y8G("value",f.userData.email)}}function T(u,v){if(1&u){const f=n.RV6();n.j41(0,"ion-content")(1,"div",7),n.DNE(2,M,7,0,"div")(3,G,12,2),n.j41(4,"div",8)(5,"ion-button",9),n.bIt("click",function(){n.eBV(f);const r=n.XpG(2);return n.Njj(r.checkAccepted())}),n.j41(6,"ion-label"),n.EFF(7,"Tham gia"),n.k0s()()()()()}if(2&u){const f=n.XpG(2);n.R7$(2),n.vxM(2,f.isPassedPwd?-1:2),n.R7$(),n.vxM(3,f.isPassedAuth?-1:3)}}function m(u,v){if(1&u&&n.DNE(0,k,2,4,"ion-content",5)(1,T,8,2),2&u){const f=n.XpG();n.vxM(0,f.isAccepted?0:1)}}const e=[{path:"",component:(()=>{var u;class v{constructor(l,r,d,j,N){this.router=r,this.loadingController=d,this.modalController=j,this.toastController=N;let Q=l.snapshot.params.id;Q&&(this.roomName=Q)}ngOnInit(){var l=this;(0,i.A)(function*(){var r,d;l.user=(yield(0,y.xk)()).data,l.userData={name:null===(r=l.user)||void 0===r?void 0:r.name,email:null===(d=l.user)||void 0===d?void 0:d.email},yield(0,L.Dy)(),yield(0,L.Gd)(),l.refreshData()})()}ngAfterViewInit(){setTimeout(()=>{var l;null===(l=this.inputRoomPwd)||void 0===l||l.setFocus()},300)}refreshData(){var l=this;return(0,i.A)(function*(){(0,s.bt)({loadingController:l.loadingController,params:{roomName:l.roomName},callback:r=>{null!=r&&r.status?(l.roomData=null==r?void 0:r.data,l.checkAccepted()):(0,_.q)(l.toastController,{},r).then(d=>d.present())}})})()}checkAccepted(){var l,r,d;this.isPassedAuth=!(!this.userData.name||!this.userData.email),this.isPassedPwd=null===(l=this.roomData)||void 0===l||!l.password||(null===(r=this.roomData)||void 0===r?void 0:r.password)==(null===(d=this.roomData)||void 0===d?void 0:d.confirm_password),this.isAccepted=this.isPassedAuth&&this.isPassedPwd}changeRoomPwd(l){var r=this;return(0,i.A)(function*(){r.roomData&&(r.roomData.confirm_password=l.detail.value)})()}changeUserName(l){var r=this;return(0,i.A)(function*(){var d;r.userData.name=null===(d=l.detail.value)||void 0===d?void 0:d.trim()})()}changeUserEmail(l){var r=this;return(0,i.A)(function*(){var d;r.userData.email=null===(d=l.detail.value)||void 0===d?void 0:d.trim()})()}}return(u=v).\u0275fac=function(l){return new(l||u)(n.rXU(c.nX),n.rXU(c.Ix),n.rXU(h.Xi),n.rXU(h.W3),n.rXU(h.K_))},u.\u0275cmp=n.VBU({type:u,selectors:[["app-room-external-guest"]],viewQuery:function(l,r){if(1&l&&n.GBs(D,5),2&l){let d;n.mGM(d=n.lsd())&&(r.inputRoomPwd=d.first)}},decls:6,vars:3,consts:[["inputRoomPwd",""],[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],["mode","md",3,"scrollX","scrollY"],[3,"roomData","userData"],[1,"ion-padding"],[1,"mt-3"],["color","primary","expand","block",1,"ion-no-margin",3,"click"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","clear-input","true","placeholder","Nh\u1eadp m\u1eadt kh\u1ea9u ph\xf2ng h\u1ecdp",3,"ionChange","keyup.enter"],[1,"mt-4"],["mode","md","fill","outline","clear-input","true","placeholder","Nh\u1eadp t\xean hi\u1ec3n th\u1ecb","minlength","6","maxlength","100",3,"ionChange","value"],["mode","md","fill","outline","clear-input","true","placeholder","Nh\u1eadp email","minlength","6","maxlength","100",3,"ionChange","value"]],template:function(l,r){1&l&&(n.j41(0,"ion-header",1)(1,"ion-toolbar",2),n.DNE(2,A,2,0,"ion-buttons",3),n.j41(3,"ion-title"),n.EFF(4),n.k0s()()(),n.DNE(5,m,2,1)),2&l&&(n.R7$(2),n.vxM(2,r.isAccepted?-1:2),n.R7$(2),n.JRh(null==r.roomData?null:r.roomData.title),n.R7$(),n.vxM(5,r.roomData?5:-1))},dependencies:[h.Jm,h.QW,h.W9,h.eU,h.$w,h.he,h.IO,h.BC,h.ai,h.Gw,h.el,E.c],styles:["ion-input[fill=outline][_ngcontent-%COMP%]{--border-radius: 0}"]}),v})()}];let t=(()=>{var u;class v{}return(u=v).\u0275fac=function(l){return new(l||u)},u.\u0275mod=n.$C({type:u}),u.\u0275inj=n.G2t({imports:[c.iI.forChild(e),c.iI]}),v})();var R=o(3890),g=o(5173);let x=(()=>{var u;class v{}return(u=v).\u0275fac=function(l){return new(l||u)},u.\u0275mod=n.$C({type:u}),u.\u0275inj=n.G2t({imports:[p.MD,P.YN,h.bv,t,R.x,g.Q]}),v})()},5751:(b,C,o)=>{o.d(C,{q:()=>P});var p=o(467);const P=function(){var h=(0,p.A)(function*(c,i,s){var y,_,L;return!i.message&&s&&(i.message=null!==(L=null==s?void 0:s.message)&&void 0!==L?L:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!",i.icon||(i.icon=null!=s&&s.message?"checkmark-circle-sharp":"alert-circle-outline"),i.color||(i.color=null!=s&&s.status?"success":-1==(null==s?void 0:s.data)?"danger":"warning")),i.position||(i.position="middle"),i.icon||(i.icon="bulb-outline"),i.color||(i.color="secondary"),i.duration=null!==(y=i.duration)&&void 0!==y?y:3e3,i.animated=null===(_=i.animated)||void 0===_||_,i.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield c.create(i)});return function(i,s,y){return h.apply(this,arguments)}}()},2706:(b,C,o)=>{o.d(C,{G:()=>h});var p=o(4438);let h=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=p.$C({type:c}),c.\u0275inj=p.G2t({}),c})()}}]);