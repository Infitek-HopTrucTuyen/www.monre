"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7039],{5826:(M,C,s)=>{s.d(C,{D7:()=>A,Dm:()=>P,KL:()=>o,Up:()=>L,bt:()=>n,j7:()=>T,l9:()=>f,qC:()=>_,rm:()=>D,s_:()=>G,vR:()=>E,vx:()=>y});var p=s(467),R=s(7586),m=s.n(R),h=s(5972);const o=function(){var u=(0,p.A)(function*(a){var l,e,x,v;a.params=a.params||{},(0,h.Ll)({url:"QuanLyLapLich/them",params:{title:a.params.title||"H\u1ecdp tr\u1ef1c tuy\u1ebfn",content:a.params.content,startTime:null!==(l=a.params.startTime)&&void 0!==l?l:m()(new Date).format("YYYY-MM-DDTHH:mm:ss"),endTime:null!==(e=a.params.endTime)&&void 0!==e?e:m()(new Date((v=new Date,v.setHours(v.getHours()+4),v))).format("YYYY-MM-DDTHH:mm:ss"),chairMan:a.params.chairMan,roomName:null!==(x=a.params.roomName)&&void 0!==x?x:m()(new Date).format("YYYYMMDDHHmmss"),place:a.params.place,status:a.params.status,start:a.params.start,token:a.params.token,serverId:4,typeId:a.params.typeId,sharedRole:a.params.sharedRole,password:a.params.password,isLobby:a.params.isLobby,isPublished:a.params.isPublished},success:v=>{"function"==typeof a.callback&&a.callback(v.data||null)},error:v=>{var b;"function"==typeof a.callback&&a.callback(null==v||null===(b=v.response)||void 0===b?void 0:b.data),console.error(v)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),f=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.IH)({url:`QuanLyLapLich/chinhsua?id=${a.params.id}`,params:{id:a.params.id,title:a.params.title,content:a.params.content,startTime:a.params.startTime,endTime:a.params.endTime,chairMan:a.params.chairMan,roomName:a.params.roomName,place:a.params.place,status:a.params.status,start:a.params.start,token:a.params.token,serverId:a.params.serverId,typeId:a.params.typeId,sharedRole:a.params.sharedRole,password:a.params.password,isLobby:a.params.isLobby,isPublished:a.params.isPublished,don_vi:a.params.don_vi},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),_=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.sj)({url:"QuanLyLapLich/xoa",params:{id:a.params.id},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),L=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.sj)({url:"QuanLyLapLich/xoahoantoan",params:{id:a.params.id},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),y=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.hm)({url:"QuanLyLapLich/thongtin",params:{id:a.params.id},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),n=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.hm)({url:"QuanLyLapLich/chitietphonghop",params:{roomName:a.params.roomName},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),E=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.Ll)({url:`QuanLyLapLich/xacnhan?id=${a.params.id}`,params:{id:a.params.id},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),P=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.Ll)({url:`QuanLyLapLich/huyxacnhan?id=${a.params.id}`,params:{id:a.params.id},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),D=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.Ll)({url:`QuanLyLapLich/khoiphuc?id=${a.params.id}`,params:{id:a.params.id},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),G=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.hm)({url:"QuanLyLapLich/danhsach",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search,dateFrom:a.params.dateFrom,dateTo:a.params.dateTo,status:a.params.status,start:a.params.start,isdeleted:a.params.isdeleted},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),A=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.hm)({url:"QuanLyLapLich/danhsachserver",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}(),T=function(){var u=(0,p.A)(function*(a){a.params=a.params||{},(0,h.hm)({url:"QuanLyLapLich/thongtinnguoidung",params:{pageNumber:a.params.pageNumber,pageSize:a.params.pageSize,search:a.params.search},success:l=>{"function"==typeof a.callback&&a.callback(l.data||null)},error:l=>{var e;"function"==typeof a.callback&&a.callback(null==l||null===(e=l.response)||void 0===e?void 0:e.data),console.error(l)},loading:a.loading,loadingController:a.loadingController})});return function(l){return u.apply(this,arguments)}}()},7039:(M,C,s)=>{s.r(C),s.d(C,{RoomExternalGuestPageModule:()=>b});var p=s(177),R=s(9417),m=s(4742),h=s(2175),o=s(467),f=s(5826),_=s(6539),L=s(5751),y=s(9485),n=s(4438),E=s(2925);const P=["inputRoomPwd"];function j(i,g){1&i&&(n.j41(0,"ion-buttons",3),n.nrm(1,"ion-back-button",4),n.k0s())}function D(i,g){if(1&i&&(n.j41(0,"ion-content",5),n.nrm(1,"app-jitsi-meet",6),n.k0s()),2&i){const d=n.XpG(2);n.Y8G("scrollX",!1)("scrollY",!1),n.R7$(),n.Y8G("roomData",d.roomData)("userData",d.userData)}}function G(i,g){if(1&i){const d=n.RV6();n.j41(0,"div")(1,"div",10),n.EFF(2,"M\u1eadt kh\u1ea9u "),n.j41(3,"ion-text",11),n.EFF(4,"*"),n.k0s()(),n.j41(5,"ion-input",12,0),n.bIt("ionChange",function(r){n.eBV(d);const c=n.XpG(3);return n.Njj(c.changeRoomPwd(r))})("keyup.enter",function(){n.eBV(d);const r=n.XpG(3);return n.Njj(r.checkAccepted())}),n.k0s()()}}function A(i,g){if(1&i){const d=n.RV6();n.j41(0,"div",13)(1,"div",10),n.EFF(2,"T\xean hi\u1ec3n th\u1ecb "),n.j41(3,"ion-text",11),n.EFF(4,"*"),n.k0s()(),n.j41(5,"ion-input",14),n.bIt("ionChange",function(r){n.eBV(d);const c=n.XpG(3);return n.Njj(c.changeUserName(r))}),n.k0s()(),n.j41(6,"div",13)(7,"div",10),n.EFF(8,"Email "),n.j41(9,"ion-text",11),n.EFF(10,"*"),n.k0s()(),n.j41(11,"ion-input",15),n.bIt("ionChange",function(r){n.eBV(d);const c=n.XpG(3);return n.Njj(c.changeUserEmail(r))}),n.k0s()()}if(2&i){const d=n.XpG(3);n.R7$(5),n.Y8G("value",d.userData.name),n.R7$(6),n.Y8G("value",d.userData.email)}}function T(i,g){if(1&i){const d=n.RV6();n.j41(0,"ion-content")(1,"div",7),n.DNE(2,G,7,0,"div")(3,A,12,2),n.j41(4,"div",8)(5,"ion-button",9),n.bIt("click",function(){n.eBV(d);const r=n.XpG(2);return n.Njj(r.checkAccepted())}),n.j41(6,"ion-label"),n.EFF(7,"Tham gia"),n.k0s()()()()()}if(2&i){const d=n.XpG(2);n.R7$(2),n.vxM(2,d.isPassedPwd?-1:2),n.R7$(),n.vxM(3,d.isPassedAuth?-1:3)}}function u(i,g){if(1&i&&n.DNE(0,D,2,4,"ion-content",5)(1,T,8,2),2&i){const d=n.XpG();n.vxM(0,d.isAccepted?0:1)}}const l=[{path:"",component:(()=>{var i;class g{constructor(t,r,c,k,Q){this.router=r,this.loadingController=c,this.modalController=k,this.toastController=Q;let N=t.snapshot.params.id;N&&(this.roomName=N)}ngOnInit(){var t=this;(0,o.A)(function*(){var r,c;t.user=(yield(0,_.xk)()).data,t.userData={name:null===(r=t.user)||void 0===r?void 0:r.name,email:null===(c=t.user)||void 0===c?void 0:c.email},yield(0,y.Dy)(),yield(0,y.Gd)(),t.refreshData()})()}ngAfterViewInit(){setTimeout(()=>{var t;null===(t=this.inputRoomPwd)||void 0===t||t.setFocus()},300)}refreshData(){var t=this;return(0,o.A)(function*(){(0,f.bt)({loadingController:t.loadingController,params:{roomName:t.roomName},callback:r=>{null!=r&&r.status?(t.roomData=null==r?void 0:r.data,t.checkAccepted()):(0,L.q)(t.toastController,{},r).then(c=>c.present())}})})()}checkAccepted(){var t,r,c,k;this.isPassedAuth=!(!this.userData.name||!this.userData.email),null!==(t=this.roomData)&&void 0!==t&&t.password&&(null===(r=this.roomData)||void 0===r?void 0:r.password)!=(null===(c=this.roomData)||void 0===c?void 0:c.confirm_password)?(this.isPassedPwd=!1,null!==(k=this.roomData)&&void 0!==k&&k.confirm_password&&(0,L.q)(this.toastController,{color:"warning",message:"M\u1eadt kh\u1ea9u truy c\u1eadp kh\xf4ng \u0111\xfang"}).then(Q=>Q.present())):this.isPassedPwd=!0,this.isAccepted=this.isPassedAuth&&this.isPassedPwd}changeRoomPwd(t){var r=this;return(0,o.A)(function*(){r.roomData&&(r.roomData.confirm_password=t.detail.value)})()}changeUserName(t){var r=this;return(0,o.A)(function*(){var c;r.userData.name=null===(c=t.detail.value)||void 0===c?void 0:c.trim()})()}changeUserEmail(t){var r=this;return(0,o.A)(function*(){var c;r.userData.email=null===(c=t.detail.value)||void 0===c?void 0:c.trim()})()}}return(i=g).\u0275fac=function(t){return new(t||i)(n.rXU(h.nX),n.rXU(h.Ix),n.rXU(m.Xi),n.rXU(m.W3),n.rXU(m.K_))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-room-external-guest"]],viewQuery:function(t,r){if(1&t&&n.GBs(P,5),2&t){let c;n.mGM(c=n.lsd())&&(r.inputRoomPwd=c.first)}},decls:6,vars:3,consts:[["inputRoomPwd",""],[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],["mode","md",3,"scrollX","scrollY"],[3,"roomData","userData"],[1,"ion-padding"],[1,"mt-3"],["color","primary","expand","block",1,"ion-no-margin",3,"click"],[1,"fw-600","fs-16","mb-1"],["color","danger"],["mode","md","fill","outline","clear-input","true","placeholder","Nh\u1eadp m\u1eadt kh\u1ea9u ph\xf2ng h\u1ecdp",3,"ionChange","keyup.enter"],[1,"mt-4"],["mode","md","fill","outline","clear-input","true","placeholder","Nh\u1eadp t\xean hi\u1ec3n th\u1ecb","minlength","6","maxlength","100",3,"ionChange","value"],["mode","md","fill","outline","clear-input","true","placeholder","Nh\u1eadp email","minlength","6","maxlength","100",3,"ionChange","value"]],template:function(t,r){1&t&&(n.j41(0,"ion-header",1)(1,"ion-toolbar",2),n.DNE(2,j,2,0,"ion-buttons",3),n.j41(3,"ion-title"),n.EFF(4),n.k0s()()(),n.DNE(5,u,2,1)),2&t&&(n.R7$(2),n.vxM(2,r.isAccepted?-1:2),n.R7$(2),n.JRh(null==r.roomData?null:r.roomData.title),n.R7$(),n.vxM(5,r.roomData?5:-1))},dependencies:[m.Jm,m.QW,m.W9,m.eU,m.$w,m.he,m.IO,m.BC,m.ai,m.Gw,m.el,E.c],styles:["ion-input[fill=outline][_ngcontent-%COMP%]{--border-radius: 0}"]}),g})()}];let e=(()=>{var i;class g{}return(i=g).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[h.iI.forChild(l),h.iI]}),g})();var x=s(3890),v=s(5173);let b=(()=>{var i;class g{}return(i=g).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[p.MD,R.YN,m.bv,e,x.x,v.Q]}),g})()},5751:(M,C,s)=>{s.d(C,{q:()=>R});var p=s(467);const R=function(){var m=(0,p.A)(function*(h,o,f){var _,L,y;return!o.message&&f&&(o.message=null!==(y=null==f?void 0:f.message)&&void 0!==y?y:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!",o.icon||(o.icon=null!=f&&f.message?"checkmark-circle-sharp":"alert-circle-outline"),o.color||(o.color=null!=f&&f.status?"success":-1==(null==f?void 0:f.data)?"danger":"warning")),o.position||(o.position="middle"),o.icon||(o.icon="bulb-outline"),o.color||(o.color="secondary"),o.duration=null!==(_=o.duration)&&void 0!==_?_:3e3,o.animated=null===(L=o.animated)||void 0===L||L,o.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield h.create(o)});return function(o,f,_){return m.apply(this,arguments)}}()}}]);