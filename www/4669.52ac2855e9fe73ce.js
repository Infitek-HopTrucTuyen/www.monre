"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4669],{3890:(D,p,o)=>{o.d(p,{x:()=>_});var f=o(177),v=o(9417),l=o(4742),g=o(2706),i=o(4342),c=o(4438);let _=(()=>{var a;class m{}return(a=m).\u0275fac=function(M){return new(M||a)},a.\u0275mod=c.$C({type:a}),a.\u0275inj=c.G2t({imports:[f.MD,v.YN,l.bv,g.G,i.LP,g.G,i.LP]}),m})()},4669:(D,p,o)=>{o.r(p),o.d(p,{VotePageModule:()=>k});var f=o(177),v=o(9417),l=o(4742),g=o(2175),i=o(467),c=o(8507),_=o(6932),a=o(6539),m=o(5751),P=o(1312),M=o(8833),t=o(4438),E=o(4842);const T=e=>({$implicit:e}),O=()=>[];function F(e,u){1&e&&(t.j41(0,"div",7)(1,"div",9)(2,"div")(3,"div",10),t.nrm(4,"ion-img",11),t.k0s(),t.j41(5,"div",12),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()),2&e&&(t.R7$(6),t.JRh(t.bMT(7,1,"DataNotFound")))}function V(e,u){if(1&e&&(t.j41(0,"div",13),t.eu8(1,14),t.k0s()),2&e){t.XpG();const s=t.sdS(13);t.R7$(),t.Y8G("ngTemplateOutlet",s)}}function R(e,u){if(1&e){const s=t.RV6();t.j41(0,"ion-infinite-scroll",15),t.bIt("ionInfinite",function(r){t.eBV(s);const d=t.XpG();return t.Njj(d.infiniteChange(r))}),t.nrm(1,"ion-infinite-scroll-content"),t.k0s()}}function x(e,u){if(1&e&&(t.j41(0,"div",16),t.eu8(1,17),t.k0s()),2&e){const s=u.$implicit;t.XpG(2);const n=t.sdS(15);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,T,s))}}function I(e,u){if(1&e&&t.Z7z(0,x,2,4,"div",16,t.fX1),2&e){const s=t.XpG();t.Dyx(s.listData)}}function j(e,u){1&e&&(t.j41(0,"ion-text",20),t.EFF(1,"Ch\u1ecdn nhi\u1ec1u"),t.k0s())}function b(e,u){1&e&&(t.j41(0,"ion-text",20),t.EFF(1,"Ch\u1ecdn m\u1ed9t"),t.k0s())}function U(e,u){1&e&&(t.j41(0,"ion-chip",21)(1,"ion-label"),t.EFF(2,"\u0110\xe3 k\u1ebft th\xfac"),t.k0s()())}function L(e,u){1&e&&(t.j41(0,"ion-chip",25)(1,"ion-label"),t.EFF(2,"\u0110ang bi\u1ec3u quy\u1ebft"),t.k0s()())}function A(e,u){if(1&e&&(t.j41(0,"li",16),t.nrm(1,"ion-note",26),t.k0s()),2&e){const s=u.$implicit;t.R7$(),t.Y8G("innerHTML",s.title,t.npT)}}function G(e,u){if(1&e){const s=t.RV6();t.nrm(0,"hr",27),t.j41(1,"div",28)(2,"ion-button",29),t.bIt("click",function(){t.eBV(s);const r=t.XpG().$implicit,d=t.XpG();return t.Njj(d.presentModalVoteChoice(r.id))}),t.j41(3,"ion-label"),t.EFF(4,"Ch\u1ecdn bi\u1ec3u quy\u1ebft"),t.k0s()()()}}function N(e,u){if(1&e&&(t.j41(0,"div",18)(1,"div")(2,"div",19),t.DNE(3,j,2,0,"ion-text",20)(4,b,2,0)(5,U,3,0,"ion-chip",21)(6,L,3,0),t.k0s(),t.nrm(7,"hr",22),t.j41(8,"div")(9,"div")(10,"b"),t.EFF(11),t.k0s()(),t.j41(12,"div",23)(13,"ul",24),t.Z7z(14,A,2,1,"li",16,t.fX1),t.k0s()()(),t.DNE(16,G,5,0),t.k0s()()),2&e){const s=u.$implicit;t.BMQ("color",s.end?"medium":"primary"),t.R7$(3),t.vxM(3,s.type?3:4),t.R7$(2),t.vxM(5,s.end?5:6),t.R7$(6),t.JRh(s.title),t.R7$(3),t.Dyx(s.meetingvoted||t.lJ4(5,O)),t.R7$(2),t.vxM(16,s.end?-1:16)}}const S=[{path:"",component:(()=>{var e;class u{constructor(n,r,d,h,C){this.router=n,this.activatedRoute=r,this.loadingController=d,this.toastController=h,this.modalController=C,this.APP_ROUTE=M._,this.APP_FUNC_FormatDate=P.Rv,this.filter={},this.paging={sortfield:null,sorttype:null,page:1,limit:20,active:!0},this.listData=[],this.limitLoad=0;let y=r.snapshot.params.id;y&&(this.scheduleId=y)}ngOnInit(){var n=this;(0,i.A)(function*(){(yield(0,a.kU)())&&n.loadData()})()}pushData(n){1==this.paging.page&&(this.listData.length=0),this.listData=this.listData.concat(n)}refreshData(){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData()}loadData(n){this.loadData_Paging_Limit(n)}loadData_More(n){this.paging.page+=1,this.loadData_Paging_Limit(n)}loadData_Paging_Limit(n){var r=this;return(0,i.A)(function*(){if(r.limitLoad>0)return void(n&&n());r.limitLoad=300;let d=setInterval(()=>{r.limitLoad-=100,r.limitLoad<=0&&(clearInterval(d),r.loadData_Paging(n))},100)})()}loadData_Paging(n){var r=this;return(0,i.A)(function*(){(0,_.hN)({loadingController:r.loadingController,params:{pageNumber:r.paging.page,pageSize:r.paging.limit,scheduleId:r.scheduleId},callback:d=>{var h;null!=d&&d.status?r.pushData(null!==(h=null==d?void 0:d.data)&&void 0!==h?h:[]):(0,m.q)(r.toastController,{},d).then(C=>C.present()),r.listData.length<r.paging.limit*r.paging.page&&(r.paging.active=!1),n&&n()}})})()}refresherChange(n){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData(()=>{n.target.complete()})}infiniteChange(n){this.loadData_More(()=>{n.target.complete()})}searchChange(n){this.filter.search=n.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}presentModalVoteChoice(n){var r=this;return(0,i.A)(function*(){if(!n)return;const d=yield r.modalController.create({component:c.y,componentProps:{id:n}});d.onDidDismiss().then(h=>{"success"==h.role&&r.refreshData()}),d.present()})()}}return(e=u).\u0275fac=function(n){return new(n||e)(t.rXU(g.Ix),t.rXU(g.nX),t.rXU(l.Xi),t.rXU(l.K_),t.rXU(l.W3))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-vote"]],decls:16,vars:2,consts:[["templateList",""],["templateVote",""],[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],["slot","fixed",3,"ionRefresh"],[1,"py-5"],[3,"ionInfinite",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"ion-padding"],[3,"ngTemplateOutlet"],[3,"ionInfinite"],[1,"mb-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"card-vote"],[1,"d-flex","align-items-center","justify-content-between"],["color","primary",1,"fs-14"],["color","medium",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],[1,"border-top","mt-3","mb-2"],[1,"mt-2"],[1,"my-0"],["color","warning",1,"ion-no-margin","fs-10","min-h-20","py-0","no-opacity"],["color","medium",1,"text-wrap",3,"innerHTML"],[1,"border-top","my-2"],[1,"d-flex"],["size","small","color","primary",1,"flex-grow-1","m-1",3,"click"]],template:function(n,r){if(1&n){const d=t.RV6();t.j41(0,"ion-header",2)(1,"ion-toolbar",3)(2,"ion-buttons",4),t.nrm(3,"ion-back-button",5),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"Danh m\u1ee5c bi\u1ec3u quy\u1ebft"),t.k0s()()(),t.j41(6,"ion-content")(7,"ion-refresher",6),t.bIt("ionRefresh",function(C){return t.eBV(d),t.Njj(r.refresherChange(C))}),t.nrm(8,"ion-refresher-content"),t.k0s(),t.DNE(9,F,8,3,"div",7)(10,V,2,1)(11,R,2,0,"ion-infinite-scroll",8),t.k0s(),t.DNE(12,I,2,0,"ng-template",null,0,t.C5r)(14,N,17,6,"ng-template",null,1,t.C5r)}2&n&&(t.R7$(9),t.vxM(9,r.listData.length?10:9),t.R7$(2),t.Y8G("ngIf",r.paging.active))},dependencies:[f.bT,f.T3,l.Jm,l.QW,l.ZB,l.W9,l.eU,l.KW,l.Ax,l.Hp,l.he,l.JI,l.To,l.Ki,l.IO,l.BC,l.ai,l.el,E.D9],styles:['.card-vote[_ngcontent-%COMP%]{--line-color: var(--ion-color-primary);position:relative}.card-vote[color=primary][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-primary)}.card-vote[color=success][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-success)}.card-vote[color=warning][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-warning)}.card-vote[color=danger][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-danger)}.card-vote[color=medium][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-medium)}.card-vote[_ngcontent-%COMP%]:before{content:"";padding-left:1rem;background-color:var(--line-color);position:absolute;top:0;left:-3px;bottom:0;border-radius:1rem 0 0 1rem}.card-vote[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast);border-radius:1rem}.card-vote[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:decimal;padding:0 0 0 1rem}']}),u})()}];let $=(()=>{var e;class u{}return(e=u).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[g.iI.forChild(S),g.iI]}),u})();var B=o(3890);let k=(()=>{var e;class u{}return(e=u).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[f.MD,v.YN,l.bv,$,B.x]}),u})()},5751:(D,p,o)=>{o.d(p,{q:()=>v});var f=o(467);const v=function(){var l=(0,f.A)(function*(g,i,c){var _,a,m;return!i.message&&c&&(i.message=null!==(m=null==c?void 0:c.message)&&void 0!==m?m:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!",i.icon||(i.icon=null!=c&&c.message?"checkmark-circle-sharp":"alert-circle-outline"),i.color||(i.color=null!=c&&c.status?"success":-1==(null==c?void 0:c.data)?"danger":"warning")),i.position||(i.position="middle"),i.icon||(i.icon="bulb-outline"),i.color||(i.color="secondary"),i.duration=null!==(_=i.duration)&&void 0!==_?_:3e3,i.animated=null===(a=i.animated)||void 0===a||a,i.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield g.create(i)});return function(i,c,_){return l.apply(this,arguments)}}()},1312:(D,p,o)=>{o.d(p,{IV:()=>i,NY:()=>c,Rv:()=>l,k8:()=>_});var f=o(7586),v=o.n(f);function l(a,m,P){return P?v()(a||void 0).utcOffset(0,!1).format(null!=m?m:"HH:mm, DD/MM/YYYY"):v()(a||void 0).format(null!=m?m:"HH:mm, DD/MM/YYYY")}const i=a=>(null!=a?a:"0123456789").replace(/^0/,"+84").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,c=a=>(null!=a?a:"123456789").replace(/[^0-9]/,"").replace(/(.)(?=(\d{3})+$)/g,"$1 ")||null,_=a=>{if(!a)return!1;try{return navigator.clipboard.writeText(a),!0}catch(m){console.error(m)}return!1}},2706:(D,p,o)=>{o.d(p,{G:()=>l});var f=o(4438);let l=(()=>{class g{}return g.\u0275fac=function(c){return new(c||g)},g.\u0275mod=f.$C({type:g}),g.\u0275inj=f.G2t({}),g})()}}]);