"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1912],{197:(H,D,m)=>{m.d(D,{CJ:()=>F,Ow:()=>P,Q2:()=>x,U0:()=>v,Uf:()=>k,Ys:()=>y,cV:()=>L,cg:()=>T,dZ:()=>a,j1:()=>s,zY:()=>b});var p=m(467),f=m(5972);const s=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.hm)({url:"TaiLieuCuocHop/tailieucuochop",params:{id:e.params.id},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}(),T=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.IH)({url:`TaiLieuCuocHop/xacnhan?id=${e.params.id}`,params:{id:e.params.id},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}(),y=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.IH)({url:`TaiLieuCuocHop/huyxacnhan?id=${e.params.id}`,params:{id:e.params.id},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}(),b=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.sj)({url:"TaiLieuCuocHop/xoa",params:{id:e.params.id},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}(),v=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.IH)({url:`TaiLieuCuocHop/khoiphuc?id=${e.params.id}`,params:{id:e.params.id},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}(),P=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.hm)({url:"TaiLieuCuocHop/danhsachdaxoa",params:{pageNumber:e.params.pageNumber,pageSize:e.params.pageSize,scheduleId:e.params.scheduleId},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}(),a=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.sj)({url:"TaiLieuCuocHop/xoahoantoan",params:{id:e.params.id},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}(),k=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.ZD)({url:"TaiLieuCuocHop/taiteptinlen?scheduleId="+e.params.scheduleId,params:{scheduleId:e.params.scheduleId,files:e.params.files},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}(),F=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.NI)({url:"TaiLieuCuocHop/laytep",params:{scheduleId:e.params.scheduleId,fileName:e.params.fileName,fileType:e.params.fileType},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}(),L=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.hm)({url:"TaiLieuCuocHop/danhmucxacnhan",params:{pageNumber:e.params.pageNumber,pageSize:e.params.pageSize,scheduleId:e.params.scheduleId},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}(),x=function(){var u=(0,p.A)(function*(e){e.params=e.params||{},(0,f.hm)({url:"TaiLieuCuocHop/danhsachphonghop",params:{pageNumber:e.params.pageNumber,pageSize:e.params.pageSize,search:e.params.search,dateFrom:e.params.dateFrom,dateTo:e.params.dateTo},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var i;"function"==typeof e.callback&&e.callback(null==t||null===(i=t.response)||void 0===i?void 0:i.data),console.error(t)},loading:e.loading,loadingController:e.loadingController})});return function(t){return u.apply(this,arguments)}}()},1912:(H,D,m)=>{m.r(D),m.d(D,{DocumentRoomPageModule:()=>E});var p=m(177),f=m(9417),s=m(4742),_=m(2175),g=m(467),R=m(5883),T=m(197),y=m(6539),b=m(5751),v=m(1312),P=m(8833),a=m(4438),k=m(2844),F=m(4842);function L(l,d){1&l&&(a.j41(0,"div",13)(1,"div",15)(2,"div")(3,"div",16),a.nrm(4,"ion-img",17),a.k0s(),a.j41(5,"div",18),a.EFF(6),a.nI1(7,"translate"),a.k0s()()()()),2&l&&(a.R7$(6),a.JRh(a.bMT(7,1,"DataNotFound")))}function x(l,d){if(1&l&&(a.j41(0,"div",19),a.eu8(1,20),a.k0s()),2&l){a.XpG();const r=a.sdS(29);a.R7$(),a.Y8G("ngTemplateOutlet",r)}}function u(l,d){if(1&l){const r=a.RV6();a.j41(0,"ion-infinite-scroll",21),a.bIt("ionInfinite",function(o){a.eBV(r);const c=a.XpG();return a.Njj(c.infiniteChange(o))}),a.nrm(1,"ion-infinite-scroll-content"),a.k0s()}}function e(l,d){if(1&l&&(a.j41(0,"ion-text",27),a.EFF(1),a.k0s()),2&l){const r=a.XpG().$implicit,n=a.XpG(2);a.R7$(),a.E5c("",n.APP_FUNC_FormatDate(r.startTime,"HH:mm")," - ",n.APP_FUNC_FormatDate(r.endTime,"HH:mm"),", ",n.APP_FUNC_FormatDate(r.startTime,"DD/MM/YYYY"),"")}}function t(l,d){if(1&l&&(a.j41(0,"ion-text",27)(1,"div"),a.EFF(2),a.k0s(),a.j41(3,"div"),a.EFF(4),a.k0s()()),2&l){const r=a.XpG().$implicit,n=a.XpG(2);a.R7$(2),a.JRh(n.APP_FUNC_FormatDate(r.startTime,"HH:mm, DD/MM/YYYY")),a.R7$(2),a.JRh(n.APP_FUNC_FormatDate(r.endTime,"HH:mm, DD/MM/YYYY"))}}function i(l,d){if(1&l&&(a.j41(0,"div",8),a.nrm(1,"ion-icon",29),a.j41(2,"ion-text",27),a.EFF(3),a.k0s()()),2&l){const r=a.XpG().$implicit;a.R7$(3),a.JRh(r.place)}}function I(l,d){if(1&l){const r=a.RV6();a.j41(0,"ion-item",24),a.bIt("click",function(){const o=a.eBV(r).$implicit,c=a.XpG(2);return a.Njj(c.navigateByUrl(c.APP_ROUTE.DOCUMENT.replace(":id",o.id)))}),a.nrm(1,"ion-icon",25),a.j41(2,"ion-label")(3,"b"),a.EFF(4),a.k0s(),a.j41(5,"div",8),a.nrm(6,"ion-icon",26),a.DNE(7,e,2,3,"ion-text",27)(8,t,5,2),a.k0s(),a.DNE(9,i,4,1,"div",8),a.j41(10,"div",8),a.nrm(11,"ion-icon",28),a.j41(12,"ion-text",27),a.EFF(13),a.k0s()()()()}if(2&l){const r=d.$implicit,n=a.XpG(2);a.R7$(4),a.JRh(r.title),a.R7$(3),a.vxM(7,n.APP_FUNC_FormatDate(r.startTime,"DD/MM/YYYY")==n.APP_FUNC_FormatDate(r.endTime,"DD/MM/YYYY")?7:8),a.R7$(2),a.vxM(9,r.place?9:-1),a.R7$(4),a.JRh(null==r.userChairMan?null:r.userChairMan.ten_day_du)}}function j(l,d){if(1&l&&(a.j41(0,"ion-list",22),a.Z7z(1,I,14,4,"ion-item",23,a.fX1),a.k0s()),2&l){const r=a.XpG();a.R7$(),a.Dyx(r.listData)}}const A=[{path:"",component:(()=>{var l;class d{constructor(n,o,c,h,C){this.activatedRoute=n,this.router=o,this.loadingController=c,this.modalController=h,this.toastController=C,this.APP_ROUTE=P._,this.APP_FUNC_FormatDate=v.Rv,this.filter={},this.paging={sortfield:null,sorttype:null,page:1,limit:20,active:!0},this.listData=[],this.tabActive=1,this.limitLoad=0;let M=n.snapshot.queryParams.tab;M&&(this.tabActive=parseInt(M)||1)}ngOnInit(){var n=this;(0,g.A)(function*(){(yield(0,y.lJ)())&&n.loadData()})()}pushData(n){1==this.paging.page&&(this.listData.length=0),this.listData=this.listData.concat(n)}refreshData(){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData()}loadData(n){this.loadData_Paging_Limit(n)}loadData_More(n){this.paging.page+=1,this.loadData_Paging_Limit(n)}loadData_Paging_Limit(n){var o=this;return(0,g.A)(function*(){if(o.limitLoad>0)return void(n&&n());o.limitLoad=300;let c=setInterval(()=>{o.limitLoad-=100,o.limitLoad<=0&&(clearInterval(c),o.loadData_Paging(n))},100)})()}loadData_Paging(n){var o=this;return(0,g.A)(function*(){(0,T.Q2)({loadingController:o.loadingController,params:{pageNumber:o.paging.page,pageSize:o.paging.limit,dateFrom:o.filter.dateFrom?(0,v.Rv)(o.filter.dateFrom,"YYYY-MM-DD"):void 0,dateTo:o.filter.dateTo?(0,v.Rv)(o.filter.dateTo,"YYYY-MM-DD"):void 0,search:o.filter.search},callback:c=>{null!=c&&c.status?o.pushData((null==c?void 0:c.data)||[]):(0,b.q)(o.toastController,{},c).then(h=>h.present()),o.listData.length<o.paging.limit*o.paging.page&&(o.paging.active=!1),n&&n()}})})()}refresherChange(n){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData(()=>{n.target.complete()})}infiniteChange(n){this.loadData_More(()=>{n.target.complete()})}searchChange(n){this.filter.search=n.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}navigateByUrl(n){this.router.navigateByUrl(n)}changeTab(n){var o=this;return(0,g.A)(function*(){o.tabActive=n.detail.value,o.filterChange(),o.router.navigate([],{relativeTo:o.activatedRoute,queryParams:{tab:o.tabActive},queryParamsHandling:"merge",replaceUrl:!0})})()}presentModalDatetimePicker_DateFrom(){var n=this;return(0,g.A)(function*(){const o=yield n.modalController.create({component:R.W,componentProps:{options:{presentation:"date",value:n.filter.dateFrom}},cssClass:"ion-modal-auto"});o.onDidDismiss().then(c=>{"success"==c.role&&(n.filter.dateFrom=c.data,n.filterChange())}),o.present()})()}presentModalDatetimePicker_DateTo(){var n=this;return(0,g.A)(function*(){const o=yield n.modalController.create({component:R.W,componentProps:{options:{presentation:"date",value:n.filter.dateTo}},cssClass:"ion-modal-auto"});o.onDidDismiss().then(c=>{"success"==c.role&&(n.filter.dateTo=c.data,n.filterChange())}),o.present()})()}}return(l=d).\u0275fac=function(n){return new(n||l)(a.rXU(_.nX),a.rXU(_.Ix),a.rXU(s.Xi),a.rXU(s.W3),a.rXU(s.K_))},l.\u0275cmp=a.VBU({type:l,selectors:[["app-document-room"]],decls:30,vars:6,consts:[["templateList",""],[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],["slot","fixed",3,"ionRefresh"],[1,"card-filter","area-primary"],["color","light","inputmode","search","placeholder","Nh\u1eadp t\xean ho\u1eb7c ti\xeau \u0111\u1ec1","show-cancel-button","never",3,"ionInput","value","debounce"],[1,"mt-2","d-flex","align-items-center"],["lines","none","color","light","detail","false","button","true",1,"flex-grow-1",3,"click"],["color","medium"],["color","primary","src","../../../assets/icon/calendar.svg",1,"fs-16"],["src","../../../assets/icon/arrow-right.svg",1,"fs-16","mx-2"],[1,"py-5"],[3,"ionInfinite",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"ion-padding"],[3,"ngTemplateOutlet"],[3,"ionInfinite"],["lines","none"],["color","light","button","true","detail","true"],["color","light","button","true","detail","true",3,"click"],["slot","start","color","primary","src","../../../assets/icon/monitor-camera.svg",1,"fs-24"],["color","medium","src","../../../assets/icon/clock.svg",1,"fs-16","mr-2"],["color","medium",1,"fs-14"],["color","medium","src","../../../assets/icon/user-rounded.svg",1,"fs-16","mr-2"],["color","medium","src","../../../assets/icon/location-marker.svg",1,"fs-16","mr-2"]],template:function(n,o){if(1&n){const c=a.RV6();a.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),a.nrm(3,"ion-back-button",4),a.k0s(),a.j41(4,"ion-title"),a.EFF(5,"T\xe0i li\u1ec7u cu\u1ed9c h\u1ecdp"),a.k0s()()(),a.j41(6,"ion-content")(7,"ion-refresher",5),a.bIt("ionRefresh",function(C){return a.eBV(c),a.Njj(o.refresherChange(C))}),a.nrm(8,"ion-refresher-content"),a.k0s(),a.j41(9,"div",6)(10,"div")(11,"ion-searchbar",7),a.bIt("ionInput",function(C){return a.eBV(c),a.Njj(o.searchChange(C))}),a.k0s()(),a.j41(12,"div"),a.EFF(13,"L\u1ecdc theo ng\xe0y"),a.k0s(),a.j41(14,"div",8)(15,"ion-item",9),a.bIt("click",function(){return a.eBV(c),a.Njj(o.presentModalDatetimePicker_DateFrom())}),a.j41(16,"ion-label",10),a.EFF(17),a.k0s(),a.nrm(18,"ion-icon",11),a.k0s(),a.nrm(19,"ion-icon",12),a.j41(20,"ion-item",9),a.bIt("click",function(){return a.eBV(c),a.Njj(o.presentModalDatetimePicker_DateTo())}),a.j41(21,"ion-label",10),a.EFF(22),a.k0s(),a.nrm(23,"ion-icon",11),a.k0s()()(),a.DNE(24,L,8,3,"div",13)(25,x,2,1)(26,u,2,0,"ion-infinite-scroll",14),a.k0s(),a.nrm(27,"app-footer-tabs"),a.DNE(28,j,3,0,"ng-template",null,0,a.C5r)}2&n&&(a.R7$(11),a.Y8G("value",o.filter.search)("debounce",1e3),a.R7$(6),a.JRh(o.filter.dateFrom?o.APP_FUNC_FormatDate(o.filter.dateFrom,"DD/MM/YYYY"):"Ch\u1ecdn ng\xe0y"),a.R7$(5),a.JRh(o.filter.dateTo?o.APP_FUNC_FormatDate(o.filter.dateTo,"DD/MM/YYYY"):"Ch\u1ecdn ng\xe0y"),a.R7$(2),a.vxM(24,o.listData.length?25:24),a.R7$(2),a.Y8G("ngIf",o.paging.active))},dependencies:[p.bT,p.T3,s.QW,s.W9,s.eU,s.iq,s.KW,s.Ax,s.Hp,s.uz,s.he,s.nf,s.To,s.Ki,s.S1,s.IO,s.BC,s.ai,s.Gw,s.el,k.x,F.D9],styles:["ion-list[_ngcontent-%COMP%]{--background: transparent}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-radius: 8px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.875rem;text-transform:initial}.area-primary[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:var(--ion-color-primary-contrast);border-radius:0 0 1.5rem 1.5rem}.card-filter[_ngcontent-%COMP%]{padding:0 1rem 1rem}.card-filter[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{padding:0}.card-filter[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 2.75rem;--border-radius: .75rem}"]}),d})()}];let N=(()=>{var l;class d{}return(l=d).\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.$C({type:l}),l.\u0275inj=a.G2t({imports:[_.iI.forChild(A),_.iI]}),d})();var Y=m(3890);let E=(()=>{var l;class d{}return(l=d).\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.$C({type:l}),l.\u0275inj=a.G2t({imports:[p.MD,f.YN,s.bv,N,Y.x]}),d})()}}]);