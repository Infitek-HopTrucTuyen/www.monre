"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2382],{2382:(ee,_,s)=>{s.r(_),s.d(_,{SchedulePageModule:()=>q});var h=s(177),b=s(9417),r=s(4742),g=s(2175),d=s(467),p=s(5883),D=s(6539),v=s(5751),f=s(1312),F=s(8833),E=s(7586),m=s.n(E),C=s(5826),M=s(6954),e=s(4438),k=s(2844),j=s(4842);const T=i=>({$implicit:i}),S=()=>[],R=()=>[0,1,2];function x(i,l){if(1&i&&(e.j41(0,"div",19)(1,"small"),e.EFF(2),e.k0s(),e.EFF(3,' "'),e.j41(4,"b"),e.EFF(5),e.k0s(),e.EFF(6,'"'),e.k0s()),2&i){const a=e.XpG();e.R7$(2),e.SpI("T\xecm th\u1ea5y ",a.listData.length," d\u1eef li\u1ec7u v\u1edbi t\u1eeb kh\xf3a"),e.R7$(3),e.JRh(a.filter.search)}}function y(i,l){1&i&&(e.j41(0,"div",20)(1,"div",23)(2,"div")(3,"div",24),e.nrm(4,"ion-img",25),e.k0s(),e.j41(5,"div",26),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()()),2&i&&(e.R7$(6),e.JRh(e.bMT(7,1,"DataNotFound")))}function O(i,l){if(1&i&&e.eu8(0,27),2&i){e.XpG();const a=e.sdS(52);e.Y8G("ngTemplateOutlet",a)}}function I(i,l){if(1&i){const a=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"h4",30),e.EFF(3,"Kh\xf4i ph\u1ee5c l\u1ecbch h\u1ecdp"),e.k0s(),e.j41(4,"p",31),e.EFF(5,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n kh\xf4i ph\u1ee5c l\u1ecbch h\u1ecdp n\xe0y?"),e.k0s()(),e.j41(6,"div",32)(7,"div",33)(8,"ion-button",34),e.bIt("click",function(){e.eBV(a),e.XpG();const t=e.sdS(47);return e.Njj(null==t?null:t.dismiss())}),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",35)(12,"ion-button",36),e.bIt("click",function(){e.eBV(a);const t=e.XpG(),o=e.sdS(47);return e.Njj(t.confirmRestore(o))}),e.EFF(13),e.nI1(14,"translate"),e.k0s()()()()}2&i&&(e.R7$(9),e.JRh(e.bMT(10,2,"Cancel")),e.R7$(4),e.JRh(e.bMT(14,4,"Restore")))}function $(i,l){if(1&i){const a=e.RV6();e.j41(0,"ion-infinite-scroll",37),e.bIt("ionInfinite",function(t){e.eBV(a);const o=e.XpG();return e.Njj(o.infiniteChange(t))}),e.nrm(1,"ion-infinite-scroll-content"),e.k0s()}}function A(i,l){if(1&i&&(e.j41(0,"div",30),e.eu8(1,39),e.k0s()),2&i){const a=l.$implicit;e.XpG(3);const n=e.sdS(54);e.R7$(),e.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.eq3(2,T,a))}}function Y(i,l){if(1&i&&(e.j41(0,"div",38)(1,"div",30)(2,"ion-text",4)(3,"b"),e.EFF(4),e.k0s()()(),e.Z7z(5,A,2,4,"div",30,e.fX1),e.k0s()),2&i){const a=l.$implicit,n=e.XpG(2);e.R7$(4),e.JRh(a),e.R7$(),e.Dyx(n.filterStartDate(a))}}function G(i,l){if(1&i&&e.Z7z(0,Y,7,1,"div",38,e.fX1),2&i){const a=e.XpG();e.Dyx(a.groupStartDate())}}function X(i,l){if(1&i&&(e.j41(0,"div",45),e.nrm(1,"ion-icon",49),e.j41(2,"ion-text",44),e.EFF(3),e.k0s()()),2&i){const a=e.XpG().$implicit;e.R7$(3),e.JRh(a.place)}}function B(i,l){1&i&&(e.j41(0,"ion-avatar",50),e.nrm(1,"img",51),e.k0s()),2&i&&e.Y8G("title",l.$implicit.email)}function N(i,l){if(1&i&&e.Z7z(0,B,2,1,"ion-avatar",50,e.fX1),2&i){const a=e.XpG().$implicit;e.Dyx(a.meetingMember||e.lJ4(0,S))}}function U(i,l){if(1&i&&(e.j41(0,"ion-avatar",50),e.nrm(1,"img",51),e.k0s()),2&i){const a=l.$implicit,n=e.XpG(2).$implicit;e.Y8G("title",n.meetingMember[a].email)}}function L(i,l){if(1&i&&(e.Z7z(0,U,2,1,"ion-avatar",50,e.fX1),e.j41(2,"span",52)(3,"span"),e.EFF(4),e.k0s()()),2&i){const a=e.XpG().$implicit;e.Dyx(e.lJ4(1,R)),e.R7$(4),e.SpI("+",a.meetingMember.length-3,"")}}function V(i,l){if(1&i){const a=e.RV6();e.j41(0,"ion-button",53),e.bIt("click",function(){e.eBV(a);const t=e.XpG().$implicit,o=e.XpG(),c=e.sdS(47);return o.roomId=t.id,e.Njj(null==c?null:c.present())}),e.j41(1,"ion-label"),e.EFF(2,"Kh\xf4i ph\u1ee5c"),e.k0s()()}}function z(i,l){if(1&i){const a=e.RV6();e.j41(0,"ion-button",55),e.bIt("click",function(){e.eBV(a);const t=e.XpG(2).$implicit,o=e.XpG();return e.Njj(o.navigateByUrl(o.APP_ROUTE.ROOM_EXTERNAL_ID.replace(":id",t.id)))}),e.j41(1,"ion-label"),e.EFF(2,"Tham gia"),e.k0s()()}}function J(i,l){1&i&&(e.j41(0,"ion-chip",56)(1,"ion-label"),e.EFF(2,"Ch\u01b0a duy\u1ec7t"),e.k0s()())}function H(i,l){if(1&i&&e.DNE(0,z,3,0,"ion-button",54)(1,J,3,0),2&i){const a=e.XpG().$implicit;e.vxM(0,2==a.status||3==a.status?0:1)}}function w(i,l){1&i&&(e.j41(0,"ion-button",57)(1,"ion-label"),e.EFF(2,"\u0110\xe3 k\u1ebft th\xfac"),e.k0s()())}function W(i,l){if(1&i){const a=e.RV6();e.j41(0,"div",40)(1,"div")(2,"div",41),e.bIt("click",function(){const t=e.eBV(a).$implicit,o=e.XpG();return e.Njj(o.navigateByUrl(o.APP_ROUTE.SCHEDULE_DETAIL_ID.replace(":id",t.id)))}),e.j41(3,"div")(4,"b"),e.EFF(5),e.k0s()(),e.j41(6,"div",42),e.nrm(7,"ion-icon",43),e.j41(8,"ion-text",44),e.EFF(9),e.k0s()(),e.DNE(10,X,4,1,"div",45),e.k0s(),e.j41(11,"div",46)(12,"div",47),e.DNE(13,N,2,1)(14,L,5,2),e.k0s(),e.j41(15,"div"),e.DNE(16,V,3,0,"ion-button",48)(17,H,2,1)(18,w,3,0),e.k0s()()()()}if(2&i){const a=l.$implicit,n=e.XpG();e.BMQ("color",n.ColorStatusSchedule(a.status,a.endTime)),e.R7$(5),e.JRh(a.title),e.R7$(4),e.Lme("",n.APP_FUNC_FormatDate(a.startTime,"HH:mm")," - ",n.APP_FUNC_FormatDate(a.endTime,"HH:mm"),""),e.R7$(),e.vxM(10,a.place?10:-1),e.R7$(3),e.vxM(13,(null==a.meetingMember?null:a.meetingMember.length)<=3?13:14),e.R7$(3),e.vxM(16,a.isDeleted?16:n.checkStatus(a.endTime)?17:18)}}const K=[{path:"",component:(()=>{var i;class l{constructor(n,t,o,c,u){this.activatedRoute=n,this.router=t,this.loadingController=o,this.toastController=c,this.modalController=u,this.APP_ROUTE=F._,this.APP_FUNC_FormatDate=f.Rv,this.ColorStatusSchedule=M.zM,this.tabActive=1,this.filter={},this.paging={sortfield:null,sorttype:null,page:1,limit:20,active:!0},this.listData=[],this.limitLoad=0;let P=n.snapshot.queryParams.tab;P&&(this.tabActive=parseInt(P)||1)}ngOnInit(){var n=this;this.IsOnInit=!0,(0,d.A)(function*(){(yield(0,D.kU)())&&n.refreshData()})()}ionViewDidEnter(){this.IsOnInit?this.IsOnInit=!1:this.ngOnInit()}pushData(n){1==this.paging.page&&(this.listData.length=0),this.listData=this.listData.concat(n),this.listData.forEach(t=>{t.startDate=m()(t.startTime).format("DD/MM/YYYY")}),this.listData=this.listData.sort((t,o)=>m()(o.startTime).diff(t.startTime))}refreshData(){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData()}loadData(n){this.loadData_Paging_Limit(n)}loadData_More(n){this.paging.page+=1,this.loadData_Paging_Limit(n)}loadData_Paging_Limit(n){var t=this;return(0,d.A)(function*(){if(t.limitLoad>0)return void(n&&n());t.limitLoad=300;let o=setInterval(()=>{t.limitLoad-=100,t.limitLoad<=0&&(clearInterval(o),t.loadData_Paging(n))},100)})()}loadData_Paging(n){var t=this;return(0,d.A)(function*(){switch(t.tabActive){case 1:t.filter.status=2,t.filter.start=!0,t.filter.isdeleted=void 0;break;case 2:t.filter.status=1,t.filter.start=!1,t.filter.isdeleted=void 0;break;case 3:t.filter.status=2,t.filter.start=!1,t.filter.isdeleted=void 0;break;case 4:t.filter.status=3,t.filter.start=!1,t.filter.isdeleted=void 0;break;case 5:t.filter.status=void 0,t.filter.start=void 0,t.filter.isdeleted=!0}(0,C.s_)({loadingController:t.loadingController,params:{pageNumber:t.paging.page,pageSize:t.paging.limit,search:t.filter.search,dateFrom:t.filter.dateFrom?(0,f.Rv)(t.filter.dateFrom,"YYYY-MM-DD"):void 0,dateTo:t.filter.dateTo?(0,f.Rv)(t.filter.dateTo,"YYYY-MM-DD"):void 0,status:t.filter.status,start:t.filter.start,isdeleted:t.filter.isdeleted},callback:o=>{var c;null!=o&&o.status?t.pushData(null!==(c=null==o?void 0:o.data)&&void 0!==c?c:[]):(0,v.q)(t.toastController,{},o).then(u=>u.present()),t.listData.length<t.paging.limit*t.paging.page&&(t.paging.active=!1),n&&n()}})})()}refresherChange(n){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData(()=>{n.target.complete()})}infiniteChange(n){this.loadData_More(()=>{n.target.complete()})}searchChange(n){this.filter.search=n.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}groupStartDate(){return this.listData.map(n=>n.startDate).filter((n,t,o)=>o.indexOf(n)==t)}filterStartDate(n){return n||(n=m()(new Date).format("DD/MM/YYYY")),this.listData.filter(t=>t.startDate==n)}checkStatus(n){return m()().isAfter(m()(n))?0:1}navigateByUrl(n){var t=this;return(0,d.A)(function*(){t.router.navigateByUrl(n)})()}changeTab(n){var t=this;return(0,d.A)(function*(){t.tabActive=n.detail.value,t.filterChange(),t.router.navigate([],{relativeTo:t.activatedRoute,queryParams:{tab:t.tabActive},queryParamsHandling:"merge",replaceUrl:!0})})()}confirmRestore(n){var t=this;return(0,d.A)(function*(){(0,C.rm)({loadingController:t.loadingController,params:{id:t.roomId},callback:o=>{(0,v.q)(t.toastController,{},o).then(c=>c.present()),null!=o&&o.status&&(null==n||n.dismiss(),t.refreshData())}})})()}presentModalDatetimePicker_DateFrom(){var n=this;return(0,d.A)(function*(){const t=yield n.modalController.create({component:p.W,componentProps:{presentation:"date",value:n.filter.dateFrom},cssClass:"ion-modal-auto"});t.onDidDismiss().then(o=>{"success"==o.role&&(n.filter.dateFrom=o.data,n.filterChange())}),t.present()})()}presentModalDatetimePicker_DateTo(){var n=this;return(0,d.A)(function*(){const t=yield n.modalController.create({component:p.W,componentProps:{presentation:"date",value:n.filter.dateTo},cssClass:"ion-modal-auto"});t.onDidDismiss().then(o=>{"success"==o.role&&(n.filter.dateTo=o.data,n.filterChange())}),t.present()})()}}return(i=l).\u0275fac=function(n){return new(n||i)(e.rXU(g.nX),e.rXU(g.Ix),e.rXU(r.Xi),e.rXU(r.K_),e.rXU(r.W3))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-schedule"]],decls:55,vars:17,consts:[["modalConfirmRestore",""],["templateList",""],["templateSchedule",""],[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],["slot","fixed",3,"ionRefresh"],[1,"card-filter","area-primary"],["color","light","inputmode","search","show-clear-button","never","show-cancel-button","never","placeholder","Nh\u1eadp t\xean ho\u1eb7c ti\xeau \u0111\u1ec1",3,"ionChange","debounce","value"],[1,"mt-3"],[1,"mt-2","d-flex","align-items-center"],["lines","none","color","light","detail","false","button","true",1,"flex-grow-1",3,"click"],["color","medium"],["color","primary","src","../../../assets/icon/calendar.svg",1,"fs-16"],["src","../../../assets/icon/arrow-right.svg",1,"fs-16","mx-2"],["mode","md",3,"ionChange","scrollable","value"],[3,"value"],[1,"ion-padding"],[1,"mb-3"],[1,"py-5"],[1,"ion-modal-small"],[3,"ionInfinite",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[3,"ngTemplateOutlet"],[1,"p-4"],[1,"text-center"],[1,"mb-2"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["color","primary","fill","outline","expand","block",3,"click"],[1,"col-6","pl-1"],["color","danger","expand","block",3,"click"],[3,"ionInfinite"],[1,"mb-4"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"card-schedule"],[3,"click"],[1,"mt-3","d-flex","align-items-center"],["color","primary","src","../../../assets/icon/clock.svg",1,"fs-16","mr-3"],["color","medium",1,"fs-14"],[1,"mt-1","d-flex","align-items-center"],[1,"mt-2","d-flex","align-items-end","justify-content-between"],[1,"lst-avatar","d-flex","align-items-center"],["size","small","color","warning","fill","outline",1,"ion-no-margin","mr-1"],["color","primary","src","../../../assets/icon/location-marker.svg",1,"fs-16","mr-3"],[1,"w-24","h-24",3,"title"],["src","../../../assets/image/default-avatar.svg"],[1,"avatar","w-24","h-24","d-flex","align-items-center","justify-content-center"],["size","small","color","warning","fill","outline",1,"ion-no-margin","mr-1",3,"click"],["size","small","color","primary",1,"ion-no-margin"],["size","small","color","primary",1,"ion-no-margin",3,"click"],["color","warning",1,"ion-no-margin","fs-10","min-h-20","py-0"],["size","small","color","medium",1,"ion-no-margin"]],template:function(n,t){if(1&n){const o=e.RV6();e.j41(0,"ion-header",3)(1,"ion-toolbar",4)(2,"ion-buttons",5),e.nrm(3,"ion-back-button",6),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-refresher",7),e.bIt("ionRefresh",function(u){return e.eBV(o),e.Njj(t.refresherChange(u))}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.j41(10,"div",8)(11,"div")(12,"ion-searchbar",9),e.bIt("ionChange",function(u){return e.eBV(o),e.Njj(t.searchChange(u))}),e.k0s()(),e.j41(13,"div",10),e.EFF(14,"L\u1ecdc theo ng\xe0y"),e.k0s(),e.j41(15,"div",11)(16,"ion-item",12),e.bIt("click",function(){return e.eBV(o),e.Njj(t.presentModalDatetimePicker_DateFrom())}),e.j41(17,"ion-label",13),e.EFF(18),e.k0s(),e.nrm(19,"ion-icon",14),e.k0s(),e.nrm(20,"ion-icon",15),e.j41(21,"ion-item",12),e.bIt("click",function(){return e.eBV(o),e.Njj(t.presentModalDatetimePicker_DateTo())}),e.j41(22,"ion-label",13),e.EFF(23),e.k0s(),e.nrm(24,"ion-icon",14),e.k0s()()(),e.j41(25,"div",10)(26,"ion-segment",16),e.bIt("ionChange",function(u){return e.eBV(o),e.Njj(t.changeTab(u))}),e.j41(27,"ion-segment-button",17)(28,"ion-label"),e.EFF(29,"\u0110ang tr\u1ef1c tuy\u1ebfn"),e.k0s()(),e.j41(30,"ion-segment-button",17)(31,"ion-label"),e.EFF(32,"Ch\u1edd x\xe1c nh\u1eadn"),e.k0s()(),e.j41(33,"ion-segment-button",17)(34,"ion-label"),e.EFF(35,"\u0110\xe3 x\xe1c nh\u1eadn"),e.k0s()(),e.j41(36,"ion-segment-button",17)(37,"ion-label"),e.EFF(38,"\u0110\xe3 k\u1ebft th\xfac"),e.k0s()(),e.j41(39,"ion-segment-button",17)(40,"ion-label"),e.EFF(41,"\u0110\xe3 x\xf3a"),e.k0s()()()(),e.j41(42,"div",18),e.DNE(43,x,7,2,"div",19)(44,y,8,3,"div",20)(45,O,1,1),e.k0s(),e.j41(46,"ion-modal",21,0),e.DNE(48,I,15,6,"ng-template"),e.k0s(),e.DNE(49,$,2,0,"ion-infinite-scroll",22),e.k0s(),e.nrm(50,"app-footer-tabs"),e.DNE(51,G,2,0,"ng-template",null,1,e.C5r)(53,W,19,7,"ng-template",null,2,e.C5r)}2&n&&(e.R7$(5),e.JRh(e.bMT(6,15,"MeetingSchedule")),e.R7$(7),e.Y8G("debounce",1e3)("value",t.filter.search),e.R7$(6),e.JRh(t.filter.dateFrom?t.APP_FUNC_FormatDate(t.filter.dateFrom,"DD/MM/YYYY"):"Ch\u1ecdn ng\xe0y"),e.R7$(5),e.JRh(t.filter.dateTo?t.APP_FUNC_FormatDate(t.filter.dateTo,"DD/MM/YYYY"):"Ch\u1ecdn ng\xe0y"),e.R7$(3),e.Y8G("scrollable",!0)("value",t.tabActive),e.R7$(),e.Y8G("value",1),e.R7$(3),e.Y8G("value",2),e.R7$(3),e.Y8G("value",3),e.R7$(3),e.Y8G("value",4),e.R7$(3),e.Y8G("value",5),e.R7$(4),e.vxM(43,t.filter.search?43:-1),e.R7$(),e.vxM(44,t.listData.length?45:44),e.R7$(5),e.Y8G("ngIf",t.paging.active))},dependencies:[h.bT,h.T3,r.mC,r.Jm,r.QW,r.ZB,r.W9,r.eU,r.iq,r.KW,r.Ax,r.Hp,r.uz,r.he,r.To,r.Ki,r.S1,r.Gp,r.eP,r.IO,r.BC,r.ai,r.Sb,r.Je,r.Gw,r.el,k.x,j.D9],styles:['.area-primary[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:var(--ion-color-primary-contrast);border-radius:0 0 1.5rem 1.5rem}.card-filter[_ngcontent-%COMP%]{padding:0 1rem 1rem}.card-filter[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{padding:0}.card-filter[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 2.75rem;--border-radius: .75rem}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.875rem;text-transform:initial}ion-chip[_ngcontent-%COMP%]{flex:none}ion-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:nowrap}.card-schedule[_ngcontent-%COMP%]{--line-color: var(--ion-color-primary);position:relative}.card-schedule[color=primary][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-primary)}.card-schedule[color=success][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-success)}.card-schedule[color=warning][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-warning)}.card-schedule[color=danger][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-danger)}.card-schedule[color=medium][_ngcontent-%COMP%]:before{--line-color: var(--ion-color-medium)}.card-schedule[_ngcontent-%COMP%]:before{content:"";padding-left:1rem;background-color:var(--line-color);position:absolute;top:0;left:-3px;bottom:0;border-radius:1rem 0 0 1rem}.card-schedule[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;padding:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast);border-radius:1rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 2px #0006}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-.5rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background-color:var(--ion-color-medium-tint);color:var(--ion-color-medium-contrast);border-radius:50%;font-size:.75rem}.card-schedule[_ngcontent-%COMP%]   .lst-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-.5rem}']}),l})()}];let Z=(()=>{var i;class l{}return(i=l).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[g.iI.forChild(K),g.iI]}),l})();var Q=s(3890);let q=(()=>{var i;class l{}return(i=l).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[h.MD,b.YN,r.bv,Z,Q.x]}),l})()}}]);