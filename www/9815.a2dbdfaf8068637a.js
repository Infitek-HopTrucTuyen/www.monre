"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9815],{9815:(N,f,l)=>{l.r(f),l.d(f,{VoteRoomPageModule:()=>$});var d=l(177),v=l(9417),r=l(4742),g=l(2175),m=l(467),h=l(5883),P=l(6932),D=l(6539),R=l(5751),u=l(1312),C=l(8833),t=l(4438),F=l(2844),M=l(4842);function T(o,s){1&o&&(t.j41(0,"div",12)(1,"div",14)(2,"div")(3,"div",15),t.nrm(4,"ion-img",16),t.k0s(),t.j41(5,"div",17),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()),2&o&&(t.R7$(6),t.JRh(t.bMT(7,1,"DataNotFound")))}function Y(o,s){if(1&o&&(t.j41(0,"div",18),t.eu8(1,19),t.k0s()),2&o){t.XpG();const n=t.sdS(27);t.R7$(),t.Y8G("ngTemplateOutlet",n)}}function V(o,s){if(1&o){const n=t.RV6();t.j41(0,"ion-infinite-scroll",20),t.bIt("ionInfinite",function(i){t.eBV(n);const a=t.XpG();return t.Njj(a.infiniteChange(i))}),t.nrm(1,"ion-infinite-scroll-content"),t.k0s()}}function j(o,s){if(1&o&&(t.j41(0,"ion-text",25),t.EFF(1),t.k0s()),2&o){const n=t.XpG().$implicit,e=t.XpG(2);t.R7$(),t.E5c("",e.APP_FUNC_FormatDate(n.startTime,"MM/DD/YYYY"),", ",e.APP_FUNC_FormatDate(n.startTime,"HH:mm")," - ",e.APP_FUNC_FormatDate(n.endTime,"HH:mm"),"")}}function y(o,s){if(1&o&&(t.j41(0,"ion-text",25)(1,"div"),t.EFF(2),t.k0s(),t.j41(3,"div"),t.EFF(4),t.k0s()()),2&o){const n=t.XpG().$implicit,e=t.XpG(2);t.R7$(2),t.JRh(e.APP_FUNC_FormatDate(n.startTime,"HH:mm, DD/MM/YYYY")),t.R7$(2),t.JRh(e.APP_FUNC_FormatDate(n.endTime,"HH:mm, DD/MM/YYYY"))}}function E(o,s){if(1&o&&(t.j41(0,"div",7),t.nrm(1,"ion-icon",27),t.j41(2,"ion-text",25),t.EFF(3),t.k0s()()),2&o){const n=t.XpG().$implicit;t.R7$(3),t.JRh(n.place)}}function x(o,s){if(1&o){const n=t.RV6();t.j41(0,"ion-item",23),t.bIt("click",function(){const i=t.eBV(n).$implicit,a=t.XpG(2);return t.Njj(a.navigateByUrl(a.APP_ROUTE.VOTE.replace(":id",i.id)))}),t.j41(1,"ion-label")(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"div",7),t.nrm(5,"ion-icon",24),t.DNE(6,j,2,3,"ion-text",25)(7,y,5,2),t.k0s(),t.DNE(8,E,4,1,"div",7),t.j41(9,"div",7),t.nrm(10,"ion-icon",26),t.j41(11,"ion-text",25),t.EFF(12),t.k0s()()()()}if(2&o){const n=s.$implicit,e=t.XpG(2);t.R7$(3),t.JRh(n.title),t.R7$(3),t.vxM(6,e.APP_FUNC_FormatDate(n.startTime,"DD/MM/YYYY")==e.APP_FUNC_FormatDate(n.endTime,"DD/MM/YYYY")?6:7),t.R7$(2),t.vxM(8,n.place?8:-1),t.R7$(4),t.JRh(null==n.userChairMan?null:n.userChairMan.ten_day_du)}}function b(o,s){if(1&o&&(t.j41(0,"ion-list",21),t.Z7z(1,x,13,4,"ion-item",22,t.fX1),t.k0s()),2&o){const n=t.XpG();t.R7$(),t.Dyx(n.listData)}}const k=[{path:"",component:(()=>{var o;class s{constructor(e,i,a,c,p){this.activatedRoute=e,this.router=i,this.loadingController=a,this.modalController=c,this.toastController=p,this.APP_ROUTE=C._,this.APP_FUNC_FormatDate=u.Rv,this.filter={dateFrom:new Date,dateTo:new Date(`${(new Date).getFullYear()}-12-31T00:00:00`)},this.paging={sortfield:null,sorttype:null,page:1,limit:20,active:!0},this.listData=[],this.tabActive=1,this.limitLoad=0;let _=e.snapshot.queryParams.tab;_&&(this.tabActive=parseInt(_)||1)}ngOnInit(){var e=this;(0,m.A)(function*(){(yield(0,D.lJ)())&&e.loadData()})()}pushData(e){1==this.paging.page&&(this.listData.length=0),this.listData=this.listData.concat(e)}refreshData(){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData()}loadData(e){this.loadData_Paging_Limit(e)}loadData_More(e){this.paging.page+=1,this.loadData_Paging_Limit(e)}loadData_Paging_Limit(e){var i=this;return(0,m.A)(function*(){if(i.limitLoad>0)return void(e&&e());i.limitLoad=300;let a=setInterval(()=>{i.limitLoad-=100,i.limitLoad<=0&&(clearInterval(a),i.loadData_Paging(e))},100)})()}loadData_Paging(e){var i=this;return(0,m.A)(function*(){(0,P.FQ)({loadingController:i.loadingController,params:{pageNumber:i.paging.page,pageSize:i.paging.limit,dateFrom:i.filter.dateFrom?(0,u.Rv)(i.filter.dateFrom,"YYYY-MM-DD"):void 0,dateTo:i.filter.dateTo?void 0:(0,u.Rv)(i.filter.dateTo,"YYYY-MM-DD"),search:i.filter.search},callback:a=>{null!=a&&a.status?i.pushData((null==a?void 0:a.data)||[]):(0,R.q)(i.toastController,{},a).then(c=>c.present()),i.listData.length<i.paging.limit*i.paging.page&&(i.paging.active=!1),e&&e()}})})()}refresherChange(e){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData(()=>{e.target.complete()})}infiniteChange(e){this.loadData_More(()=>{e.target.complete()})}searchChange(e){this.filter.search=e.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}navigateByUrl(e){this.router.navigateByUrl(e)}changeTab(e){var i=this;return(0,m.A)(function*(){i.tabActive=e.detail.value,i.filterChange(),i.router.navigate([],{relativeTo:i.activatedRoute,queryParams:{tab:i.tabActive},queryParamsHandling:"merge",replaceUrl:!0})})()}presentModalDatetimePicker_DateFrom(){var e=this;return(0,m.A)(function*(){const i=yield e.modalController.create({component:h.W,componentProps:{presentation:"date",value:e.filter.dateFrom},cssClass:"ion-modal-auto"});i.onDidDismiss().then(a=>{"success"==a.role&&(e.filter.dateFrom=a.data,e.filterChange())}),i.present()})()}presentModalDatetimePicker_DateTo(){var e=this;return(0,m.A)(function*(){const i=yield e.modalController.create({component:h.W,componentProps:{presentation:"date",value:e.filter.dateTo},cssClass:"ion-modal-auto"});i.onDidDismiss().then(a=>{"success"==a.role&&(e.filter.dateTo=a.data,e.filterChange())}),i.present()})()}}return(o=s).\u0275fac=function(e){return new(e||o)(t.rXU(g.nX),t.rXU(g.Ix),t.rXU(r.Xi),t.rXU(r.W3),t.rXU(r.K_))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-vote-room"]],decls:28,vars:4,consts:[["templateList",""],[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/","text",""],["slot","fixed",3,"ionRefresh"],[1,"card-filter","area-primary","pt-3"],[1,"mt-2","d-flex","align-items-center"],["lines","none","color","light","detail","false","button","true",1,"flex-grow-1",3,"click"],["color","medium"],["color","primary","src","../../../assets/icon/calendar.svg",1,"fs-16"],["src","../../../assets/icon/arrow-right.svg",1,"fs-16","mx-2"],[1,"py-5"],[3,"ionInfinite",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","data-not-found"],[1,"d-flex","justify-content-center"],["src","../../../assets/image/no-documents.svg",1,"w-40"],[1,"mt-2","text-center"],[1,"ion-padding"],[3,"ngTemplateOutlet"],[3,"ionInfinite"],["lines","none"],["color","light","button","true","detail","true"],["color","light","button","true","detail","true",3,"click"],["color","medium","src","../../../assets/icon/clock.svg",1,"fs-16","mr-2"],["color","medium",1,"fs-14"],["color","medium","src","../../../assets/icon/user-rounded.svg",1,"fs-16","mr-2"],["color","medium","src","../../../assets/icon/location-marker.svg",1,"fs-16","mr-2"]],template:function(e,i){if(1&e){const a=t.RV6();t.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),t.nrm(3,"ion-back-button",4),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"L\u1ecbch h\u1ecdp c\u1ea7n bi\u1ec3u quy\u1ebft"),t.k0s()()(),t.j41(6,"ion-content")(7,"ion-refresher",5),t.bIt("ionRefresh",function(p){return t.eBV(a),t.Njj(i.refresherChange(p))}),t.nrm(8,"ion-refresher-content"),t.k0s(),t.j41(9,"div",6)(10,"div"),t.EFF(11,"L\u1ecdc theo ng\xe0y"),t.k0s(),t.j41(12,"div",7)(13,"ion-item",8),t.bIt("click",function(){return t.eBV(a),t.Njj(i.presentModalDatetimePicker_DateFrom())}),t.j41(14,"ion-label",9),t.EFF(15),t.k0s(),t.nrm(16,"ion-icon",10),t.k0s(),t.nrm(17,"ion-icon",11),t.j41(18,"ion-item",8),t.bIt("click",function(){return t.eBV(a),t.Njj(i.presentModalDatetimePicker_DateTo())}),t.j41(19,"ion-label",9),t.EFF(20),t.k0s(),t.nrm(21,"ion-icon",10),t.k0s()()(),t.DNE(22,T,8,3,"div",12)(23,Y,2,1)(24,V,2,0,"ion-infinite-scroll",13),t.k0s(),t.nrm(25,"app-footer-tabs"),t.DNE(26,b,3,0,"ng-template",null,0,t.C5r)}2&e&&(t.R7$(15),t.JRh(i.filter.dateFrom?i.APP_FUNC_FormatDate(i.filter.dateFrom,"DD/MM/YYYY"):"Ch\u1ecdn ng\xe0y"),t.R7$(5),t.JRh(i.filter.dateTo?i.APP_FUNC_FormatDate(i.filter.dateTo,"DD/MM/YYYY"):"Ch\u1ecdn ng\xe0y"),t.R7$(2),t.vxM(22,i.listData.length?23:22),t.R7$(2),t.Y8G("ngIf",i.paging.active))},dependencies:[d.bT,d.T3,r.QW,r.W9,r.eU,r.iq,r.KW,r.Ax,r.Hp,r.uz,r.he,r.nf,r.To,r.Ki,r.IO,r.BC,r.ai,r.el,F.x,M.D9],styles:["ion-list[_ngcontent-%COMP%]{--background: transparent}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-radius: 8px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.875rem;text-transform:initial}.area-primary[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:var(--ion-color-primary-contrast);border-radius:0 0 1.5rem 1.5rem}.card-filter[_ngcontent-%COMP%]{padding:0 1rem 1rem}.card-filter[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{padding:0}.card-filter[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 2.75rem;--border-radius: .75rem}"]}),s})()}];let A=(()=>{var o;class s{}return(o=s).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[g.iI.forChild(k),g.iI]}),s})();var U=l(3890);let $=(()=>{var o;class s{}return(o=s).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[d.MD,v.YN,r.bv,A,U.x]}),s})()}}]);